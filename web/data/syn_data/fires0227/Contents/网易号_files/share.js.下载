!function(){function e(e,t){return e.currentStyle?e.currentStyle[t]:getComputedStyle(e,!1)[t]}function t(){for(var t=0,n=document.getElementsByTagName("img");t<n.length;t++)if(parseInt(e(n[t],"width"),10)>300&&parseInt(e(n[t],"height"),10)>300)return n[t].src;return"http://img1.cache.netease.com/f2e/news/res/img/share.png"}function n(e,n,o,a,r,s,c,p,d){var u,m,h,l=window.js_share_config||{},g=e||"hot163",_=n||l.url||window.location.href,f=o||l.title||document.title||"",k=a||l.description||"",y="#",b=c||l.anchor||"#";"?"===b&&(y="?");var w,I=Math.random().toString().substr(2,6),C=function(e){var t=window.location.protocol.replace(":","")+"://snstj."+window.location.host+window.location.pathname+"?snstj_"+e,n="http://analytics.163.com/ntes?_nacc=snstj&_nvid=VISITOR_CLIENT_NO_COOKIE_SUPPORT&_nvtm=0&_nvsf=0&_nvfi=0&_nlag=&_nlmf=0&_nres=&_nscd=&_nstm=0&_nurl="+t+e+"&_ntit="+encodeURIComponent(f)+"&_nref=&_nfla=&_nssn=&_nxkey="+I+"&_end1";if("function"==typeof neteaseTracker)neteaseTracker(!1,t,"","snstj"),console.log(typeof neteaseTracker);else{var i=new Image;i.src=n,console.log(typeof i)}},R=isNaN(parseInt(i.get(_,"ntes_share_count",y),10))?0:parseInt(i.get(_,"ntes_share_count",y),10);R+=1,_=i.set(_,"ntes_share_count",R,y),r?(u='<img src="'+r+'">'+k,m=r):l.pic&&""!=l.pic?(u='<img src="'+l.pic+'">'+k,m=l.pic):(u=k,m=t());var U={auto:{name:"\u7f51\u6613\u6c7d\u8f66",apk:"3619578257",uid:"2293532401"},bbs:{name:"\u7f51\u6613\u8bba\u575b",apk:"603437721",uid:"1929329727"},blog:{name:"\u7f51\u6613\u535a\u5ba2",apk:"603437721",uid:"1929329727"},book:{name:"\u7f51\u6613\u8bfb\u4e66",apk:"603437721",uid:"1929329727"},daxue:{name:"\u7f51\u6613\u6821\u56ed",apk:"405912016",uid:"1712102637"},digi:{name:"\u7f51\u6613\u6570\u7801",apk:"515790538",uid:"1929329727"},edu:{name:"\u7f51\u6613\u6559\u80b2",apk:"3453163099",uid:"1712102637"},ent:{name:"\u7f51\u6613\u5a31\u4e50",apk:"2935209169",uid:"2674977220"},fashion:{name:"\u7f51\u6613\u65f6\u5c1a",apk:"603437721",uid:"2678435373"},play:{name:"\u7f51\u6613\u6e38\u620f",apk:"886946399",uid:"1871103515"},gongyi:{name:"\u7f51\u6613\u516c\u76ca",apk:"3492075339",uid:"1929329727"},house:{name:"\u7f51\u6613\u623f\u4ea7",apk:"1228447084",uid:"2121786037"},home:{name:"\u7f51\u6613\u5bb6\u5c45",apk:"1915520969",uid:"2295046842"},jiankang:{name:"\u7f51\u6613\u5065\u5eb7",apk:"603437721",uid:"5341241739"},jiu:{name:"\u7f51\u6613\u9152\u9999",apk:"2706186385",uid:"3194595594"},lady:{name:"\u7f51\u6613\u5973\u4eba",apk:"1411153063",uid:"2696068553"},love:{name:"\u7f51\u6613\u82b1\u7530",apk:"2946569561",uid:"2213659842"},m:{name:"\u7f51\u6613\u5e94\u7528",apk:"603437721",uid:"1929329727"},manhua:{name:"\u7f51\u6613\u6f2b\u753b",apk:"603437721",uid:"1929329727"},media:{name:"\u7f51\u6613\u4f20\u5a92",apk:"603437721",uid:"1929329727"},men:{name:"\u7f51\u6613\u541b\u5b50",apk:"3831755683",uid:"3755283417"},mobile:{name:"\u7f51\u6613\u624b\u673a",apk:"3009011254",uid:"2088265107"},money:{name:"\u7f51\u6613\u8d22\u7ecf",apk:"3369952587",uid:"1974561081"},news:{name:"\u7f51\u6613\u65b0\u95fb",apk:"603437721",uid:"1929329727"},nie:{name:"\u7f51\u6613\u6e38\u620f\u52a9\u624b",apk:"603437721",uid:"1929329727"},pet:{name:"\u7f51\u6613\u5ba0\u7269",apk:"603437721",uid:"1929329727"},shoucang:{name:"\u7f51\u6613\u6536\u85cf",apk:"603437721",uid:"1929329727"},sports:{name:"\u7f51\u6613\u4f53\u80b2",apk:"618670090",uid:"2757394263"},t:{name:"\u7f51\u6613\u5fae\u535a",apk:"603437721",uid:"1929329727"},tech:{name:"\u7f51\u6613\u79d1\u6280",apk:"3628156158",uid:"1905687615"},travel:{name:"\u7f51\u6613\u65c5\u6e38",apk:"2026652209",uid:"1663688317"},v:{name:"\u7f51\u6613\u89c6\u9891",apk:"603437721",uid:"1929329727"}},v=location.host.split("."),x=v[v.length-3],A=s||l.source||U[x]&&U[x].name||"\u7f51\u6613",j=p||l.appkey||U[x]&&U[x].apk||"603437721",q=d||l.uid||U[x]&&U[x].uid||"1929329727",N="utf-8";switch(g){case"sina":case"weibo":case"sinawb":_=i.set(_,"ntes_share","sns_weibo",y),h="http://service.weibo.com/share/share.php?appkey="+j+"&ralateUid="+q+"&url="+encodeURIComponent(_)+"&pic="+m+"&title="+encodeURIComponent(f)+" "+encodeURIComponent(k),w="weibo";break;case"rr":case"renren":_=i.set(_,"ntes_share","sns_renren",y),h="http://widget.renren.com/dialog/share?resourceUrl="+encodeURIComponent(_)+"&title="+encodeURIComponent(f)+"&pic="+m+"&description="+encodeURIComponent(k),w="renren";break;case"yodao":case"youdao":case"ydCloud":_=i.set(_,"ntes_share","sns_youdao",y),h="http://note.youdao.com/memory/?url="+encodeURIComponent(_)+"&title="+encodeURIComponent(f)+"&pic="+m+"&product="+encodeURIComponent("\u7f51\u6613\u65b0\u95fb")+"&summary="+encodeURIComponent(k),w="youdao";break;case"qzone":case"qqZone":_=i.set(_,"ntes_share","sns_qqZone",y),h="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent(_)+"&title="+encodeURIComponent(f)+"&pics="+m+"&desc="+encodeURIComponent(k),w="qzone";break;case"yx":case"yixin":_=i.set(_,"ntes_share","sns_yixin",y),h="https://open.yixin.im/share?appkey=yxb7d5da84ca9642ab97d73cd6301664ad&type=webpage&title="+encodeURIComponent(f)+"&url="+encodeURIComponent(_)+"&pic="+m+"&desc="+encodeURIComponent(k),w="yixin";break;case"yx_image":case"yixin_image":_=i.set(_,"ntes_share","sns_yixin",y),h="https://open.yixin.im/share?appkey=yxb7d5da84ca9642ab97d73cd6301664ad&type=image&title="+encodeURIComponent(f)+"&url="+encodeURIComponent(_)+"&pic="+m+"&desc="+encodeURIComponent(k),w="yixin";break;case"163":case"lofter":_=i.set(_,"ntes_share","sns_lofter",y),h="http://www.lofter.com/sharetext/?from=163&title="+encodeURIComponent(f)+"&source="+encodeURIComponent(A)+"&sourceUrl="+encodeURIComponent(_)+"&charset="+N+"&content="+encodeURIComponent(u),w="lofter";break;case"hot163":case"163hot":case"hot":_=i.set(_,"ntes_share","sns_hot163",y),h="http://hot.163.com/share.html?url="+encodeURIComponent(_)+"&title="+encodeURIComponent(f)+"&image="+encodeURIComponent(m),w="hot163";break;default:_=i.set(_,"ntes_share","sns_lofter",y),h="http://www.lofter.com/sharetext/?from=163&title="+encodeURIComponent(f)+"&source="+encodeURIComponent(A)+"&sourceUrl="+encodeURIComponent(_)+"&charset="+N+"&content="+encodeURIComponent(u),w="lofter"}try{window.open(h),C(w)}catch(S){}}for(var i={set:function(e,t,n,i){var o=NE.string.trim(e),a=t+"="+n,r=this.get(o,t),s="";return""===r?s=o.substring(o.length-1)==i?o+a:o+(-1==o.indexOf(i)?i:"&")+a:(s=o.replace("&"+t+"="+r,"&"+a),s=s.replace(i+t+"="+r,i+a)),s},get:function(e,t,n){var i="",o=t+"=",a=e.split("#!")[0]||"";return a.indexOf("&"+o)>-1&&(i=a.split("&"+o)[1].split("&")[0]),a.indexOf(n+o)>-1&&(i=a.split(n+o)[1].split("&")[0]),i},remove:function(e,t,n){if(!t)return e;var i=this.get(e,t);return e=e.indexOf("&"+t+"="+i)>-1?e.replace("&"+t+"="+i,""):e.indexOf(n+t+"="+i+"&")>-1?e.replace(t+"="+i+"&",""):e.replace(n+t+"="+i,"")}},o={},a=document.getElementsByTagName("meta"),r=0;r<a.length;r++)"og:url"==a[r].getAttribute("property")?o.url=a[r].getAttribute("content"):"og:title"==a[r].getAttribute("property")?o.title=a[r].getAttribute("content"):"og:image"==a[r].getAttribute("property")?o.image=a[r].getAttribute("content"):"og:site_name"==a[r].getAttribute("property")?o.source=a[r].getAttribute("content"):"og:description"==a[r].getAttribute("property")&&(o.description=a[r].getAttribute("content"));var s={},c=window.js_share_config||{};if(s.url=c.url||o.url||window.location.href,s.title=c.title||o.title||document.title||"",s.description=c.description||o.description||"",s.pic=c.pic||o.image||"",s.appid=c.appid||"",!window.js_share_unbind&&NE(".js_share").length&&NE(".js_share").bind("click",function(){var e=this.getAttribute("data-type")||this.className.split("js_share_")[1]||"lofter",t=this.getAttribute("data-url")||s.url,i=this.getAttribute("data-ttl")||s.title,a=this.getAttribute("data-desc")||s.description,r=this.getAttribute("data-pic")||s.pic,p=this.getAttribute("data-source")||c.source||o.source||"",d=this.getAttribute("data-anchor")||c.anchor||"",u=this.getAttribute("data-appkey")||c.appkey||"",m=this.getAttribute("data-uid")||c.uid||"";n(e,t,i,a,r,p,d,u,m)}),!window.js_share_unbind&&NE(".js_share_qrcode").length&&"function"==typeof QRCode){var p,d=(NE(".js_share_qrcode"),parseInt(c.qr_size,10)||120),u=s.url,m="#";"?"===c.anchor&&(m="?");var h=isNaN(parseInt(i.get(u,"ntes_share_count",m),10))?0:parseInt(i.get(u,"ntes_share_count",m),10);h+=1,u=i.set(u,"ntes_share_count",h,m),u=i.set(u,"ntes_share","sns_weixin",m),setTimeout(function(){for(var e=0;e<NE(".js_share_qrcode").length;e++)p=new QRCode(NE(".js_share_qrcode")[e],{width:d,height:d}),p.makeCode(u)},500)}if(!window.js_share_unwechat){var l=function(){WeixinJSBridge.invoke("sendAppMessage",{appid:s.appid,img_url:s.pic,img_width:"300",img_height:"300",link:s.url,desc:s.description,title:s.title},function(e){})},g=function(){WeixinJSBridge.invoke("shareTimeline",{img_url:s.pic,img_width:"300",img_height:"300",link:s.url,desc:s.description,title:s.title},function(e){})},_=function(){WeixinJSBridge.invoke("shareWeibo",{content:s.description,url:s.url},function(e){})};document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:appmessage",function(e){l()}),WeixinJSBridge.on("menu:share:timeline",function(e){g()}),WeixinJSBridge.on("menu:share:weibo",function(e){_()})},!1)}window.shareto=n}();
