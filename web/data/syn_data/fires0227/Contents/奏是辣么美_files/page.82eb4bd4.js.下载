(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page"],{"018f":function(t,e,a){},"0447":function(t,e,a){},"062a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"profile-cover",style:t.cover},[a("div",{staticClass:"m-top-bar m-panel m-container-max m-topbar-max",staticStyle:{background:"transparent",border:"none"}},[a("div",{staticClass:"nav-box"},[a("div",{staticClass:"nav-left"},[a("div",{staticClass:"nav-ctrl",staticStyle:{color:"#FFF"},on:{click:t.goBack}},[a("i",{staticClass:"m-font m-font-arrow-left"}),t._v("返回\n          ")])])])]),a("div",{staticClass:"overlay"}),a("div",{staticClass:"mod-fil-img m-avatar-box"},[a("span",{staticClass:"m-img-box"},[a("img",{attrs:{src:t.item.profile_image_url}}),a("weibo-verified",{attrs:{user:t.item}})],1)]),a("div",{staticClass:"item-list",staticStyle:{position:"relative"}},[a("div",{staticClass:"mod-fil-name m-txt-cut"},[a("span",{staticClass:"mod-fil-n"},[a("span",{staticClass:"txt-shadow"},[t._v(t._s(t.item.screen_name))]),"f"===t.item.gender?a("i",{staticClass:"m-icon m-icon-female"}):t._e(),"m"===t.item.gender?a("i",{staticClass:"m-icon m-icon-male"}):t._e()]),0!=t.item.mbtype&&2!=t.item.mbtype?a("a",{attrs:{href:"http://vip.weibo.cn"}},[a("i",{staticClass:"m-icon",class:"m-icon-vipl"+t.item.mbrank})]):t._e()]),a("div",{staticClass:"mod-fil-fans"},[a("div",{directives:[{name:"mvlink",rawName:"v-mvlink",value:t.followScheme,expression:"followScheme"}],staticClass:"txt-shadow"},[t._v("\n          关注"),a("span",[t._v(t._s(t.item.follow_count))])]),a("div",{directives:[{name:"mvlink",rawName:"v-mvlink",value:t.fansScheme,expression:"fansScheme"}],staticClass:"txt-shadow"},[t._v("\n          粉丝"),a("span",[t._v(t._s(t.item.followers_count))])])]),t.item.verified_reason?a("p",{staticClass:"mod-fil-desc m-text-cut"},[t._v("\n        微博认证："),a("span",{domProps:{innerHTML:t._s(t.item.verified_reason)}})]):""!==t.item.description?a("p",{staticClass:"mod-fil-desc m-text-cut",domProps:{innerHTML:t._s(t.item.description)}}):a("p",{staticClass:"mod-fil-desc m-text-cut"},[t._v("暂无简介")])])])])},i=[],s=a("21b6"),o={mixins:[s["a"]],name:"PageProfileCover",props:["item"],components:{weiboVerified:a("21a9").default},data:function(){return{}},computed:{cover:function(){var t=this.item.cover_image_phone;return t?{"background-image":"url(".concat(t,")")}:""},followScheme:function(){return{scheme:this.item.follow_scheme}},fansScheme:function(){return{scheme:this.item.fans_scheme}}}},r=o,c=(a("f7d8"),a("0c7c")),l=Object(c["a"])(r,n,i,!1,null,null,null);e["default"]=l.exports},1106:function(t,e,a){"use strict";var n=a("cd28"),i=a.n(n);i.a},1189:function(t,e,a){},2048:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[t.topbar?a("mv-topbar",{ref:"topbar",attrs:{back:"",title:t.topbar.title}}):t._e(),a("div",{directives:[{name:"inf-scroll",rawName:"v-inf-scroll",value:t.next,expression:"next"}],ref:"cards"},[t.showLogin?a("weibo-banner",{attrs:{"back-url":"http://m.weibo.cn"}}):t._e(),t.pageInfo&&t.showSearchBar?a("searchBar",{attrs:{item:t.pageInfo,currentHotWord:t.hotword}}):t._e(),t.showProfileCover&&t.followerInfo?a("profile-cover",{attrs:{item:t.followerInfo}}):t._e(),t.showCover&&t.pageInfo&&!t.pageInfo.hidecover?a("cover",{attrs:{item:t.pageInfo}}):t._e(),this.cardlist_head_cards?t._l(t.cardlist_head_cards,function(t,e){return a("cardlistHead",{key:e,attrs:{item:t}})}):t._e(),t.tabsInfo?a("tabs",{attrs:{item:t.tabsInfo,topDistance:t.topbarDistance}}):t._e(),t._l(t.cards,function(e,n){return a("card",{key:t.curPageId+e.itemid+n,attrs:{card:e}})})],2),t.loading?a("loading"):t._e(),t.followerInfo&&t.toolbar_menus?a("friendships"):t._e(),t.toolbar_menus&&t.toolbar_menus.length?a("toolbar",{ref:"toolbar",attrs:{item:t.toolbar_menus}}):t._e(),t.tabbar.item?a("tabbar",{ref:"tabbar",attrs:{pageinfo:t.pageInfo,tabindex:t.tabbar.index,item:t.tabbar.item},on:{updatePageInfo:t.cleanPageInfo}}):t._e(),t.custom_toolbar_menus?a("customToolbarMenus",{attrs:{item:t.custom_toolbar_menus}}):t._e(),t.failed?a("empty-failed",{attrs:{msg:t.failed}}):t._e(),a("appTips",{attrs:{showAppTips:t.showAppTips,scheme:t.scheme,appTips:t.appTips}}),a("pop-video-new"),a("pop-video")],1)},i=[],s=a("cebc"),o=a("5176"),r=a.n(o),c=a("f499"),l=a.n(c),d=(a("551c"),a("8a81"),a("0928")),u=a.n(d),m=a("2f62"),h=a("0a0d"),f=a.n(h),p=a("4aa6"),b=a.n(p),v=a("d225"),_=a("b0b4"),g=function(){function t(e,a){var n=this;if(Object(v["a"])(this,t),this.size=0,this.capacity="number"===typeof e?e:10,this.keymap=b()(null),this.head=void 0,this.tail=void 0,"number"===typeof a&&Math.min(1e4,a)>10){var i=Math.min(1e4,a)-1;setInterval(function(){n.size>1&&f()()-n.head.create>a&&n.shift()},i)}}return Object(_["a"])(t,[{key:"has",value:function(t){var e=this.keymap[t];return!!e}},{key:"get",value:function(t,e){var a=this.keymap[t];return a?(a.create=f()(),a===this.tail?e?a:a.value:(a.newer&&(a.newer.older=a.older,a===this.head&&(this.head=a.newer)),a.older&&(a.older.newer=a.newer),a.newer=void 0,a.older=this.tail,this.tail&&(this.tail.newer=a),this.tail=a,e?a:a.value)):a}},{key:"put",value:function(t,e){var a=this.get(t,!0);a||(a={key:t},this.tail?(this.tail.newer=a,a.older=this.tail):this.head=a,this.tail=a,this.keymap[t]=a,this.size++),a.create=f()(),a.value=e,this.size>this.capacity&&this.shift()}},{key:"shift",value:function(){var t=this.head;t&&(this.head=t.newer,this.head&&(this.head.older=void 0),delete this.keymap[t.key],this.size--)}}]),t}(),w=g,x=a("685a"),C=(a("4917"),{methods:{share:function(t,e,a,n){var i=navigator.userAgent.toLowerCase();/micromessenger/.test(i)?this.wxShare(t,e,a):i.indexOf("qq/")>-1||i.indexOf("qzone")>-1?this.qqShare(t,e,a,n):i.indexOf("sinanews")>-1&&this.sinaNewsShare(t,e,a,n)},wxShare:function(t,e,a){var n=this,i=window.wx;i&&this.$http.get("api/weixin",{}).then(function(i){var s=i.data.data;n.wxInit(s,t,e,a)})},wxInit:function(t,e,a,n){var i=window.wx;i.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:t.jsApiList}),i.ready(function(){var t={title:e,desc:a,imgUrl:n};i.onMenuShareTimeline(t),i.onMenuShareAppMessage(t),i.onMenuShareQZone(t),i.onMenuShareQQ(t),i.onMenuShareWeibo(t)}),i.error(function(e){if("config:invalid signature"===e.errMsg)throw new Error("签名错误");window.Raven&&window.Raven.captureMessage("微信 JS SDK 错误",{level:"warning",extra:{res:JSON.parse(l()(e)),data:JSON.parse(l()(t)),wk:window.__wxjs_is_wkwebview}})})},qqShare:function(t,e,a,n){var i=window.mqq;i&&i.data.setShareInfo({title:t,desc:e,imgUrl:a,shareUrl:n})},sinaNewsShare:function(t,e,a,n){var i=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=navigator.userAgent.toLowerCase().indexOf("android")>-1;if(i){var o="jsBridgeHkAk1496745491887";window[o]=l()({data:{action:"initShareInfo",url:n,title:t,pic:a,intro:e},callback:"try{window['h5appCallbackHkAk1496745491887']([data])}catch(err){console.log(err)}",method:"requestCallback"});var r=document.createElement("iframe");r.src="jsbridge://".concat(o),r.style.display="none",document.body.appendChild(r)}else s&&window.jsBridge&&window.jsBridge.process(l()({data:{action:"initShareInfo",url:n,title:t,pic:a,intro:e},callback:"try{window['h5appCallbackjCHz1496745157243']([data])}catch(err){console.log(err)}",method:"requestCallback"}))}}}),y=C,k=new w(5,12e4),I=new w(5),$=document.title,S=l()({info:{since_id:"",page:"",page_type:""},failed:null,loading:!1,cards:[],tabsInfo:null,pageInfo:null,nextHotWord:null,userInfo:null,tabbar:{index:0,item:null},toolbar_menus:[],cardlist_head_cards:null,custom_toolbar_menus:null,showCover:0,showProfileCover:0,topbar:null,topbarDistance:0,showLogin:!1,showSearchBar:!1,showAppTips:!1,scheme:"",appTips:{text:"微博内打开",barHeight:0}}),T={mixins:[y],name:"Page",data:function(){return JSON.parse(S)},created:function(){this.init()},mounted:function(){var t=this.curPageId;k.has(t)&&(r()(this.$data,JSON.parse(k.get(t))),this.userInfo&&this.setFollowerInfo(this.userInfo))},methods:Object(s["a"])({},Object(m["b"])(["updatePageId","setFollowerInfo","updateHotword"]),{init:function(){this.updatePageId(this.originContainerId),this.info.page_type=this.$route.meta.page_type},cleanPageInfo:function(){this.pageInfo&&this.pageInfo.cardlist_head_cards&&(this.pageInfo.cardlist_head_cards=[])},next:function(){var t=this,e=this.$root.config.wm;if(this.mlogin||(this.showLogin="100803"===this.curPageId||0===this.curPageId.indexOf("102803"),-1!==["90065_90063","90065_90061"].indexOf(e)&&(this.showLogin=!1)),"searchall"!==this.info.page_type||this.$route.query.profile_uid||(this.showSearchBar=!0),!this.loading&&!this.failed&&(this.info.page||this.info.since_id||0===this.cards.length)){this.loading=!0;var a="api/container/getIndex";"second"===this.$route.meta.type&&(a="api/container/getSecond");var n=Object(s["a"])({},this.$route.query);this.$route.params.topic&&r()(n,{type:"topic",value:this.$route.params.topic}),window.config&&window.config.pageConfig&&(n=r()(n,window.config.pageConfig)),n=Object(s["a"])({},n,{containerid:this.curPageId,page_type:this.info.page_type,page:this.info.page,since_id:this.info.since_id}),this.$http.get(a,{params:n}).then(function(e){t.loading=!1;var a=e.data;if(a){var i=a.data;if(a.ok>0){if(i.cards&&i.cards.length&&(n.page||n.since_id?t.cards=t.cards.concat(i.cards):t.cards=i.cards),i.hotwords&&i.hotwords[0].word){var s=i.hotwords[0].word;t.hotword?t.nextHotWord=s:t.updateHotword(s)}if(i.cardlistInfo){if(t.pageInfo=i.cardlistInfo,t.info.page_type=t.info.page_type||t.pageInfo.page_type||"",t.tabbar.item=t.tabbar.item||i.tabs,!t.pageInfo.show_style||-1!==["Weibo","SinaNews","Chaohua","Wechat"].indexOf(x["a"].browser)||t.showSearchBar||t.showProfileCover||0===t.$route.query.topbar||(t.topbar={title:t.pageInfo.title_top||t.$route.query.title},t.$nextTick(function(){t.$refs.topbar&&(t.topbarDistance=t.$refs.topbar.$el.offsetHeight)})),"tabbar"===t.info.page_type&&t.tabbar.item){t.info.page_type="";var o=-1;t.tabbar.item.some(function(e,a){return e.containerid===t.curPageId&&(o=a)});var r=t.$route.query.tab;o>0?t.tabbar.index=o:r&&r>=0&&r<=t.tabbar.item.length?t.tabbar.index=r:t.tabbar.index=0;var c=t.tabbar.item[t.tabbar.index].containerid;t.curPageId!==c&&t.$nextTick(function(){t.updatePageId(c)})}}else i.userInfo?(t.setFollowerInfo(i.userInfo),t.userInfo=i.userInfo,t.tabsInfo=i.tabsInfo,t.toolbar_menus=i.userInfo.toolbar_menus||t.toolbar_menus,t.showProfileCover=1):(t.pageInfo=i.pageInfo,t.pageInfo.containerid&&(t.showCover=i.cards.some(function(t){return 13===t.card_type})?t.showCover:1));var l=t.pageInfo;if(l){var d=l.title_top||l.cardlist_title||t.$route.query.title||$;document.title=d,"QQ"===x["a"].browser&&window.mqq&&window.mqq.ui.refreshTitle(),document.addEventListener("AlipayJSBridgeReady",function(){var t=window.AlipayJSBridge;t&&t.call("setTitle",{title:d})},!1),t.info.page=l.page||"",t.info.since_id=l.since_id||"",l.toolbar_menus&&(t.toolbar_menus=0===t.toolbar_menus.length?l.toolbar_menus:t.toolbar_menus),t.cardlist_head_cards=l.cardlist_head_cards||null,l.custom_toolbar_menus&&(t.custom_toolbar_menus=l.custom_toolbar_menus)}t.info.page||t.info.since_id||t.cards.length||i.tabs||t.tabsInfo?setTimeout(function(){t.$refs.cards&&t.$refs.cards.offsetHeight<window.innerHeight&&t.next()},1e3):t.failed={ok:0,msg:"这里还没有内容"}}else t.cards.length||t.pageInfo||t.followerInfo?a.data.cards&&a.data.cards.length||(t.info.page="",t.info.since_id=""):t.failed=a;i.scheme&&(t.tabbar.item&&setTimeout(function(){t.$refs.tabbar&&(t.appTips.barHeight=t.$refs.tabbar.$el.offsetHeight)},0),t.toolbar_menus&&t.toolbar_menus.length&&setTimeout(function(){t.$refs.toolbar&&(t.appTips.barHeight=t.$refs.toolbar.$el.offsetHeight)},0),t.scheme=i.scheme,i.showAppTips&&(t.showAppTips=!0),i.openApp&&u.a.start({scheme:t.scheme,isDownload:!1,closeUnilink:!0}))}if(t.pageInfo){var m=t.pageInfo.app_tips;m&&(t.showAppTips=!0,m.scheme&&(t.scheme=m.scheme),m.text&&(t.appTips.text=m.text))}if(t.pageInfo&&t.pageInfo.share_content){var h=t.pageInfo.share_content,f=h.title,p=h.description,b=h.icon;t.share(f,p,b)}t.$nextTick(function(){t.loading=!1})},function(e){t.loading=!1;var a="这里还没有内容";e.status&&(a+="，错误码：".concat(e.status)),t.failed={ok:0,msg:a}})}}}),computed:Object(s["a"])({},Object(m["c"])(["hotword"]),{originContainerId:function(){var t=this.$route.params.id;return this.$route.params.uid&&(t="100505".concat(this.$route.params.uid)),this.$route.params.domain&&(t="100505d".concat(this.$route.params.domain)),this.$route.query.containerid&&(t=this.$route.query.containerid),t}},Object(m["c"])(["curPageId","followerInfo","mlogin"])),watch:{curPageId:function(t,e){I.put(this.originContainerId,t),k.has(t)?r()(this.$data,JSON.parse(k.get(t))):e&&(this.cards=[],this.info.since_id="",this.info.page="",this.next())},$data:{deep:!0,handler:function(t){this.loading||k.put(this.curPageId,l()(t))}},$route:{deep:!0,handler:function(t,e){if(t.params.id!==e.params.id||t.params.uid!==e.params.uid||t.params.domain!==e.params.domain||t.query.containerid!==e.query.containerid){var a=I.get(this.originContainerId);a&&k.has(a)?this.updatePageId(a):(r()(this.$data,JSON.parse(S)),this.init())}}}},destroyed:function(){this.nextHotWord&&this.updateHotword(this.nextHotWord),document.title=$,this.setFollowerInfo(null)},components:{card:a("0f56").default,loading:a("bf93").default,tabbar:a("d04c").default,toolbar:a("60d2").default,popVideo:function(){return Promise.resolve().then(a.bind(null,"8eec"))},popVideoNew:function(){return Promise.resolve().then(a.bind(null,"6af8"))},emptyFailed:a("ee2f").default,cover:a("d1f2").default,tabs:a("7e3e").default,profileCover:a("062a").default,weiboBanner:a("9ead").default,friendships:a("1395").default,appTips:a("e698").default,customToolbarMenus:a("a4fe").default,cardlistHead:a("4796").default,searchBar:a("ab19").default}},P=T,O=a("0c7c"),j=Object(O["a"])(P,n,i,!1,null,null,null);e["default"]=j.exports},"234a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toolbar_menu_list m-box-col m-box-center m-box-center-a",on:{click:function(e){t.listShow=!t.listShow}}},[a("span",[t._t("default"),t.icon?a("i",{staticClass:"m-font m-font-bars"}):t._e(),t.btn.name?a("h4",{domProps:{textContent:t._s(t.btn.name)}}):t._e()],2),a("transition",{attrs:{name:"list"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"m-pop m-pop-s"},[a("ul",t._l(t.btn.params.menu_list,function(t,e){return a("li",{key:e},[a("buttons",{attrs:{btn:t}})],1)}),0)])])],1)},i=[],s={props:{btn:{type:Object},icon:{type:Boolean,default:!0}},created:function(){var t=this;document.body.addEventListener("touchstart",t.hideMenu)},data:function(){return{listShow:!1}},components:{buttons:function(){return Promise.resolve().then(a.bind(null,"9148"))}},methods:{hideMenu:function(t){var e=t.target;while(this.$el!==e&&document.body!==e)e=e.parentNode;e!==this.$el&&(this.listShow=!1)}},destroyed:function(){var t=this;document.body.removeEventListener("touchstart",t.hideMenu)}},o=s,r=(a("92c7"),a("0c7c")),c=Object(r["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports},2661:function(t,e,a){},"31bc":function(t,e,a){},3319:function(t,e,a){"use strict";var n=a("4749"),i=a.n(n);i.a},"45ec":function(t,e,a){"use strict";var n=a("2661"),i=a.n(n);i.a},4749:function(t,e,a){},4796:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.headType?a(t.headType,{tag:"component",attrs:{item:t.item}}):t._e()},i=[],s={name:"cardlistHeadCards",props:["item"],data:function(){return{}},computed:{headType:function(){return"channel_list"===this.item.head_type_name?"channels":"immersive"===this.item.head_type_name?"cardlistCover":null}},components:{channels:a("8997").default,cardlistCover:a("8f72").default}},o=s,r=a("0c7c"),c=Object(r["a"])(o,n,i,!1,null,"108d71f8",null);e["default"]=c.exports},"486f":function(t,e,a){},"48e0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toolbar_menu_list m-box-col m-box-center m-box-center-a",on:{click:function(e){e.stopPropagation(),t.listShow=!t.listShow}}},[a("span",[a("i",{staticClass:"m-font m-font-bars"}),a("h4",{domProps:{textContent:t._s(t.followerInfo&&t.followerInfo.follow_me?"互相关注":"已关注")}})]),a("transition",{attrs:{name:"list"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"m-pop m-pop-s"},[a("ul",[a("li",{on:{click:function(e){return e.stopPropagation(),t.setFriendGroup(t.btn.params)}}},[a("div",{staticClass:"m-diy-btn m-box-col m-box-center m-box-center-a"},[a("h4",[t._v("设置分组")])])]),a("li",{on:{click:function(e){return e.stopPropagation(),t.unfollow(e)}}},[a("div",{staticClass:"m-diy-btn m-box-col m-box-center m-box-center-a"},[a("h4",[t._v("取消关注")])])])])])])],1)},i=[],s=a("cebc"),o=a("2f62"),r=a("383a"),c={props:["btn"],created:function(){var t=this;document.body.addEventListener("touchstart",t.hideMenu)},data:function(){return{listShow:!1}},computed:Object(s["a"])({},Object(o["c"])(["followerInfo"])),methods:Object(s["a"])({},Object(o["b"])(["setFriendGroup"]),{hideMenu:function(t){var e=t.target;while(this.$el!==e&&document.body!==e)e=e.parentNode;e!==this.$el&&(this.listShow=!1)},unfollow:function(){var t=this;r["a"].$emit("mv",{title:"确定不再关注此人？",type:"confirm"},function(){t.$http.post("api/friendships/destory",t.btn.params).then(function(e){if(r["a"].$emit("mvMsgbox",!1),!(e.data&&e.data.ok>0))throw r["a"].$emit("mvToast",{type:"error",text:"取消关注失败"}),new Error(e.data);t.$emit("changeSubType")}).catch(function(t){throw r["a"].$emit("mvMsgbox",!1),r["a"].$emit("mvToast",{type:"error",text:"取消关注失败"}),new Error(t)})})}}),destroyed:function(){var t=this;document.body.removeEventListener("touchstart",t.hideMenu)}},l=c,d=(a("566d"),a("0c7c")),u=Object(d["a"])(l,n,i,!1,null,null,null);e["default"]=u.exports},"50cd":function(t,e,a){},5361:function(t,e,a){},"566d":function(t,e,a){"use strict";var n=a("486f"),i=a.n(n);i.a},"5fd2":function(t,e,a){},"60d2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bar-bottom-wrap"}),a("div",{staticClass:"m-tab-bar m-bar-panel m-container-max"},[a("div",{staticClass:"m-ctrl-box m-box-center-a"},[t._l(t.item,function(e,n){return[a("div",{key:n+"a",staticClass:"m-diy-btn m-box-col m-box-center m-box-center-a"},[a("buttons",{attrs:{btn:e}})],1),n!=t.item.length-1?a("span",{key:n+"b",staticClass:"m-line-gradient"}):t._e()]})],2)])])},i=[],s={name:"PageToolbar",props:{item:Array},components:{buttons:a("9148").default}},o=s,r=(a("bef9"),a("0c7c")),c=Object(r["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports},7789:function(t,e,a){"use strict";var n=a("018f"),i=a.n(n);i.a},"7e3e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"wrapper",staticClass:"m-top-nav-wrapper",class:{hide:!t.fixed}}),a("nav",{staticClass:"m-top-nav m-container-max",class:{fixed:t.fixed},style:{top:t.fixed?t.topDistance+"px":0}},[a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-col nav-main"},[a("div",{staticClass:"scroll-box"},[a("ul",{staticClass:"nav-item",staticStyle:{"text-align":"center"}},t._l(t.item.tabs,function(e,n){return a("li",{key:n,class:{"m-cur":n==t.item.selectedTab},on:{click:function(e){return t.getTabData(n)}}},[a("span",{domProps:{innerHTML:t._s(e.title)}})])}),0)])])])])])},i=[],s=a("cebc"),o=(a("c5f6"),a("2f62")),r={name:"PageTabs",props:{item:{type:Object},topDistance:{type:Number,default:0}},data:function(){return{fixed:!1}},created:function(){this.getTabData(this.item.selectedTab||0);var t=this;window.addEventListener("scroll",t.scroll)},destroyed:function(){var t=this;window.removeEventListener("scroll",t.scroll)},methods:Object(s["a"])({getTabData:function(t){this.item.selectedTab=t;var e=this.item.tabs[t];this.updatePageId(e.containerid)},scroll:function(){var t=this.$refs.wrapper;t&&(this.fixed=t.getBoundingClientRect().top<=this.topDistance)}},Object(o["b"])(["updatePageId"]))},c=r,l=(a("7789"),a("0c7c")),d=Object(l["a"])(c,n,i,!1,null,"6f579924",null);e["default"]=d.exports},"7f8f":function(t,e,a){"use strict";var n=a("ae3c"),i=a.n(n);i.a},8997:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"wrapper",staticClass:"m-top-nav-wrapper",class:{hide:!t.fixed}}),a("div",{staticClass:"module-page-fragment",class:{wrapper:t.listShow,fixed:t.fixed},style:{top:t.topDistance+"px"}},[a("div",{staticClass:"m-container-max m-top-nav",staticStyle:{"z-index":"8"}},[a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-box-col nav-main slide-container"},[a("div",{ref:"channelTabList",staticClass:"scroll-box nav_item"},[a("ul",{staticClass:"nav-item",class:{center:!+t.item.head_type}},t._l(t.subscription,function(e,n){return a("li",{key:e.containerid+n,class:{"m-cur":t.curPageId===e.containerid},on:{click:function(a){return t.clickChannelTab(e)}}},[a("span",{domProps:{textContent:t._s(e.name)}})])}),0)])]),+t.item.show_menu?a("div",{staticClass:"nav-plus m-box-center m-box-center-a",on:{click:function(e){t.listShow=!0}}},[a("i",{staticClass:"m-font m-font-plus"})]):t._e()])]),a("transition",{attrs:{name:"show-channel-list"}},[+t.item.show_menu?a("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"h5-more-edit"},[a("div",{staticClass:"h5-hotmorebox"},[a("div",{staticClass:"h5-hotmore-top"},[a("i",{staticClass:"m-font m-font-plus h5-arrow-up",on:{click:function(e){t.listShow=!1}}})]),a("h2",{staticClass:"h5-hotmore-h"},[t._v("\n            我的分类"),a("a",{staticClass:"h5-hm-btn",domProps:{textContent:t._s(t.edit?"保存":"编辑")},on:{click:function(e){return t.editChannels()}}})]),a("transition-group",{staticClass:"h5-hotmore-con",class:{"h5-hcon-edit":t.edit},attrs:{name:"show-channel",tag:"div"}},t._l(t.subscription,function(e){return a("a",{key:e.containerid,staticClass:"h5-hcon-btn disabled show-channel",class:{"m-cur":t.curChannel===e.containerid},on:{click:function(a){return t.clickChannel(e)}}},[a("span",{staticClass:"m-text-cut"},[t._v(t._s(e.name)),e.must_show?t._e():a("i",{staticClass:"m-font m-font-close"})])])}),0),t.unsubscription.length?a("h2",{staticClass:"h5-hotmore-h"},[t._v("\n            点击添加分类\n          ")]):t._e(),a("transition-group",{staticClass:"h5-hotmore-con",attrs:{name:"show-channel",tag:"div"}},t._l(t.unsubscription,function(e){return a("a",{key:e.containerid,staticClass:"h5-hcon-btn show-channel",on:{click:function(a){return t.clickChannel(e)}}},[a("span",{staticClass:"m-text-cut"},[t._v(t._s(e.name)),a("i",{staticClass:"m-font m-font-close"})])])}),0)],1)]):t._e()]),t._m(0)],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card-list"})])}],s=a("cebc"),o=(a("c5f6"),a("0f32")),r=a.n(o),c=a("2f62"),l=a("383a"),d={name:"PageChannels",props:{item:{type:Object},topDistance:{type:Number,default:0}},data:function(){return{listShow:!1,edit:!1,curChannel:0,listChanged:!1,fixed:!1}},mounted:function(){var t=this;this.curChannel=this.curPageId,this.scrollToCurChannel(),t.scrollListener=r()(function(){t.scroll()},100),window.addEventListener("scroll",t.scrollListener)},destroyed:function(){var t=this;window.removeEventListener("scroll",t.scrollListener)},methods:Object(s["a"])({},Object(c["b"])(["updatePageId"]),{scroll:function(){var t=this.$refs.wrapper;t&&(this.fixed=t.getBoundingClientRect().top<=this.topDistance)},clickChannel:function(t){if(!t.default_add||this.edit&&!t.must_show){var e=this.item.channel_list,a=-1;if(e.some(function(e,n){return e.containerid===t.containerid&&(a=n)}),a<0)return;var n=e.splice(a,1)[0];n.default_add=(n.default_add+1)%2,this.curChannel=n.default_add?n.containerid:e[0].containerid,this.$nextTick(function(){e.push(n)}),this.edit||(this.listChanged=!0)}else!this.edit&&t.default_add&&(this.curChannel=t.containerid,this.listShow=!1)},editChannels:function(){this.edit=!this.edit,this.edit||this.send()},send:function(){var t=this.subscription.map(function(t){return t.id}).join(",");this.$http.post("api/container/setFragment",{containerid:this.$route.query.containerid||this.$route.params.id,ids:t}).then(function(t){t.data&&!t.data.ok>0&&l["a"].$emit("mvToast",{type:"warning",text:"啊哦~没存成功"})}),this.listChanged=!1},clickChannelTab:function(t){this.curChannel=t.containerid,this.scrollToCurChannel();var e=document.scrollingElement||document.body;e.scrollTop=0},scrollToCurChannel:function(){var t=this.curChannel,e=-1;this.subscription.some(function(a,n){return a.containerid===t&&(e=n)}),e<0&&(e=0,this.curChannel=this.item.channel_list[e].containerid);var a=this.$refs.channelTabList,n=a.children[0],i=n.children[e].offsetLeft-(n.offsetWidth-n.children[e].offsetWidth)/2,s=a.scrollLeft;(function(){function t(t){return Math.pow(t,.5)}var e=(new Date).getTime(),n=300,o=Math.min(10,n/50),r=function r(){var c=(new Date).getTime()-e;a.scrollLeft=s+(i-s)*t(c/n),c>=n?a.scrollLeft=i:setTimeout(r,o)};setTimeout(r,o)})(),this.updatePageId(this.curChannel)}}),computed:Object(s["a"])({unsubscription:function(){return this.item.channel_list.filter(function(t){return 0===t.default_add})},subscription:function(){return this.item.channel_list.filter(function(t){return 1===t.default_add})}},Object(c["c"])(["curPageId"])),watch:{listShow:function(t){t?this.curChannel=this.curPageId:(this.edit=!1,this.scrollToCurChannel(),this.listChanged&&this.send())}}},u=d,m=(a("3319"),a("0c7c")),h=Object(m["a"])(u,n,i,!1,null,"5222d859",null);e["default"]=h.exports},"8f72":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"npage-bg",class:{"no-bg":!t.cover}},[t.cover?a("div",{staticClass:"npg-bwrap"},[a("img",{attrs:{src:t.cover,alt:""}})]):t._e(),t.item.head_data.title?a("div",{staticClass:"npg-wz"},[a("div",{staticClass:"m-box npg-wz-set"},[t.item.head_data.portrait_url?a("div",{staticClass:"npg-headimg"},[a("img",{attrs:{src:t.item.head_data.portrait_url,alt:""}}),t.item.head_data.portrait_sub_text?a("div",{staticClass:"portrait_sub_text",domProps:{innerHTML:t._s(t.item.head_data.portrait_sub_text)}}):t._e()]):t._e(),a("div",{staticClass:"m-box-col m-box-dir npg-desc"},[a("h4",{staticClass:"m-text-cut firsth"},[t._v("\n          "+t._s(t.item.head_data.title)),t.item.head_data.tag_text?a("i",{staticClass:"nicon-top"},[a("b",{domProps:{innerHTML:t._s(t.item.head_data.tag_text)}})]):t._e()]),t.item.head_data.midtext?a("h4",{staticClass:"m-text-cut"},[a("span",{domProps:{innerHTML:t._s(t.item.head_data.midtext)}})]):t._e(),t.item.head_data.downtext?a("h4",{staticClass:"m-text-cut"},[a("span",{domProps:{innerHTML:t._s(t.item.head_data.downtext)}})]):t._e()])])]):t._e()])},i=[],s={data:function(){return{}},props:["item"],computed:{cover:function(){return this.item.head_data.cover_url||this.item.head_data.background_url}}},o=s,r=(a("d73e"),a("0c7c")),c=Object(r["a"])(o,n,i,!1,null,"2c4edb14",null);e["default"]=c.exports},9148:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("btn-"+t.btn.type,{tag:"component",attrs:{btn:t.btn}})},i=[],s={props:["btn"],components:{"btn-link":a("1b96").default,"btn-like":a("1996").default,"btn-follow":a("aff7").default,"btn-default":a("d19d").default,"btn-toolbar_menu_list":a("234a").default,"btn-profile_follow":a("ca39").default}},o=s,r=(a("1106"),a("0c7c")),c=Object(r["a"])(o,n,i,!1,null,"5552d90b",null);e["default"]=c.exports},"92c7":function(t,e,a){"use strict";var n=a("d1da"),i=a.n(n);i.a},"9ead":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-banner m-panel"},[a("a",{attrs:{href:"javascript:;"}},[a("div",{staticClass:"m-img-box m-imghold"},[a("span",{staticClass:"m-logo"}),a("div",{staticClass:"m-relogin"},[a("span",{staticClass:"m-register",on:{click:t.register}},[t._v("注册")]),a("span",{staticClass:"m-cut"},[t._v("/")]),a("span",{staticClass:"m-login",on:{click:t.login}},[t._v("登录")])])])])])},i=[],s={props:{backUrl:{type:String,default:window.location.href}},methods:{register:function(){window.location.href="http://m.weibo.cn/reg/index?backURL=".concat(encodeURIComponent(this.backUrl))},login:function(){window.location.href="https://passport.weibo.cn/signin/login?entry=mweibo&r=".concat(encodeURIComponent(this.backUrl))}}},o=s,r=(a("f269"),a("0c7c")),c=Object(r["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports},a4fe:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bot-nav"},[t.item.menus?a("div",{staticClass:"m-box-center-a bot-nav-box"},[t._l(t.item.menus.tool_buttons,function(e,n){return[1===e.style?a("div",{directives:[{name:"mvlink",rawName:"v-mvlink",value:e,expression:"btn"}],key:n,staticClass:"bn-icons m-box-center",style:{"background-color":e.btn_color}},[a("div",{staticClass:"bn-icon-box m-box-col m-box-center-a m-box-center m-box-dir"},[a("i",{staticClass:"i-icon"},[a("img",{attrs:{src:e.pic}})]),a("span",{staticClass:"i-wds"},[a("b",{domProps:{textContent:t._s(e.text)}})])])]):t._e(),0===e.style?a("div",{directives:[{name:"mvlink",rawName:"v-mvlink",value:e,expression:"btn"}],key:n,staticClass:"m-box-col m-box-center-a m-box-center",style:{"background-color":e.btn_color}},[a("span",{staticClass:"bt-wds",style:{color:e.text_color},domProps:{textContent:t._s(e.text)}})]):t._e()]})],2):t._e()])},i=[],s={name:"customToolbarMenus",props:["item"],data:function(){return{}}},o=s,r=(a("45ec"),a("0c7c")),c=Object(r["a"])(o,n,i,!1,null,"1cd84ace",null);e["default"]=c.exports},aa60:function(t,e,a){"use strict";var n=a("50cd"),i=a.n(n);i.a},ab19:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"topNav",staticClass:"ntop-nav"},[a("div",{staticClass:"m-box-center-a"},[a("div",{staticClass:"nt-box-col m-box-center-a"},[a("div",{staticClass:"nt-left",on:{click:t.goBack}},[a("i",{staticClass:"m-font m-font-arrow-left"})]),a("div",{staticClass:"m-box-col m-box-center-a nt-sbox"},[a("form",{staticClass:"nt-search",attrs:{action:"."},on:{submit:t.onSearch}},[a("i",{staticClass:"m-font m-font-search"}),a("input",{ref:"searchInput",attrs:{type:"search",placeholder:t.hotWords},domProps:{value:t.searchVaule},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch(e)},click:function(e){return e.stopPropagation(),t.keyboardOcclusion(e)}}}),t.searchVaule?a("span",{staticClass:"m-font icon-cross",on:{click:t.handleDelete}}):t._e()])]),t.searchVaule?a("div",{staticClass:"nt-right",on:{click:t.onPublish}},[a("i",{staticClass:"lite-iconf lite-iconf-releas"})]):t._e()])])])},i=[],s=(a("a481"),a("4328")),o=a.n(s),r=a("685a"),c={name:"SearchBar",props:["item","currentHotWord"],data:function(){return{isIos:"iOS"===r["a"].os}},created:function(){},computed:{searchVaule:function(){return this.item.cardlist_title||o.a.parse(this.item.containerid).q},hotWords:function(){return this.currentHotWord?"大家都在搜：".concat(this.currentHotWord):"搜索微博、找人"}},mounted:function(){},methods:{goBack:function(){this.$router.go(-1)},handleDelete:function(){this.$refs.searchInput.value=""},keyboardOcclusion:function(){var t=document.scrollingElement||document.body,e=10;this.isIos&&(e=30),setTimeout(function(){t.scrollTop=0},e)},onSearch:function(t){t.preventDefault();var e=this.$refs.searchInput.value.trim();return""!==e&&e!==this.item.cardlist_title?this.$router.replace({path:"/search",query:{containerid:"100103type=1&q=".concat(e)}}):""===e&&""!==this.currentHotWord&&this.$router.push({path:"/search",query:{containerid:"100103type=1&q=".concat(this.currentHotWord)}}),!1},onPublish:function(){this.$router.push({name:"composer",query:{content:this.searchVaule.indexOf("#")?"#".concat(this.searchVaule,"#"):this.searchVaule}})}},destroyed:function(){},components:{}},l=c,d=(a("aa60"),a("0c7c")),u=Object(d["a"])(l,n,i,!1,null,"b2b07652",null);e["default"]=u.exports},ae3c:function(t,e,a){},b04e:function(t,e,a){},b1a0:function(t,e,a){"use strict";var n=a("31bc"),i=a.n(n);i.a},bef9:function(t,e,a){"use strict";var n=a("1189"),i=a.n(n);i.a},bf93:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-tips m-tips-tp"},[a("div",{staticClass:"m-loading m-loading-dark"},[a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span")]),a("span",{staticClass:"main-link"},[t._v("加载中...")])])}],s={data:function(){return{}}},o=s,r=(a("d0cf"),a("0c7c")),c=Object(r["a"])(o,n,i,!1,null,"6a61d97f",null);e["default"]=c.exports},ca39:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.btnType,{tag:"component",attrs:{btn:t.btn},on:{changeSubType:t.changeSubType}})},i=[],s={props:["btn"],computed:{btnType:function(){return+this.sub_type?"btn-followed_user":"btn-follow_user"}},data:function(){return{sub_type:this.btn.sub_type}},methods:{changeSubType:function(){this.sub_type=+!this.sub_type}},components:{"btn-followed_user":a("48e0").default,"btn-follow_user":a("3b25").default}},o=s,r=a("0c7c"),c=Object(r["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports},cd28:function(t,e,a){},d04c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bar-bottom-wrap"}),a("div",{staticClass:"m-bottom-bar m-bar-panel m-container-max"},[a("div",{staticClass:"m-box m-btn-box"},t._l(t.item,function(e,n){return a("div",{key:n,staticClass:"m-diy-btn m-box-col m-box-center m-box-center-a",class:{"m-cur":t.curTabindex==n},on:{click:function(a){return t.clicktab(e,n)}}},[a("img",{attrs:{src:t.curTabindex==n?e.icon_selected:e.icon}}),a("h4",{domProps:{textContent:t._s(e.title)}})])}),0)])])},i=[],s=a("cebc"),o=a("2f62"),r={name:"PageTabbar",props:["item","containerid","pageinfo","tabindex"],data:function(){return{curTabindex:this.tabindex}},methods:Object(s["a"])({},Object(o["b"])(["updatePageId"]),{clicktab:function(t,e){this.curTabindex=e,t.url?window.location.href=t.url:this.curPageId!==t.containerid&&(this.updatePageId(t.containerid),this.$emit("updatePageInfo"))}}),computed:Object(s["a"])({},Object(o["c"])(["curPageId"]))},c=r,l=(a("7f8f"),a("0c7c")),d=Object(l["a"])(c,n,i,!1,null,null,null);e["default"]=d.exports},d0cf:function(t,e,a){"use strict";var n=a("b04e"),i=a.n(n);i.a},d1da:function(t,e,a){},d1f2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-cover"},[a("div",{staticClass:"m-top-bar",staticStyle:{"background-color":"transparent","z-index":"2",position:"relative"}},[a("div",{staticClass:"nav-box"},[a("div",{staticClass:"nav-left"},[a("a",{staticClass:"nav-ctrl",staticStyle:{color:"#F5F5F5","text-shadow":"0 1px 1px rgba(0, 0, 0, 0.3)"},on:{click:t.goBack}},[a("i",{staticClass:"m-font m-font-arrow-left"}),t._v("返回")])])])]),t.item.portrait?[a("div",{staticClass:"filter-bg",class:{blur:t.bg.blur}},[a("img",{attrs:{src:t.bg.url}})]),a("div",{staticClass:"overlay"}),a("div",{staticClass:"cover-wrap"},[a("div",{staticClass:"card-wrap"},[a("div",{staticClass:"card-main"},[a("div",{staticClass:"m-box"},[a("div",{staticClass:"m-cover-img"},[a("div",{class:t.bg.classname},[a("img",{attrs:{src:t.item.portrait,"data-node":"cover-image"}}),t.item.portrait_sub_text?a("div",{staticClass:"portrait_sub_text",domProps:{innerHTML:t._s(t.item.portrait_sub_text)}}):t._e()])]),a("a",{staticClass:"m-box-col m-box-dir m-box-center",attrs:{href:t.item.background_scheme}},[a("div",{staticClass:"m-text-box"},[a("h3",{staticClass:"m-text-cut-2"},[t._v("\n                  "+t._s(t.item.page_title)+"\n                  "),t.item.title_icon?a("span",{staticClass:"m-img-icon"},[a("img",{attrs:{src:t.item.title_icon}})]):t._e()]),t.item.evaluation&&0!=t.item.portrait_type?a("h4",{staticClass:"m-text-cut"},[t._v("\n                  "+t._s(t.item.evaluation.rating)+" "+t._s(t.item.evaluation.score)+"\n                  "+t._s(t.item.evaluation.total_count)+"\n                ")]):t._e()]),a("div",{staticClass:"m-text-box"},t._l(t.item.desc_more,function(e,n){return a("h4",{key:n,staticClass:"m-text-cut",domProps:{innerHTML:t._s(e)}})}),0)])])])])])]:t._e()],2)},i=[],s=a("21b6"),o={mixins:[s["a"]],name:"PageCover",props:["item"],data:function(){return{}},computed:{bg:function(){var t=this.item;return t.portrait_type?{url:t.portrait,blur:1,classname:"m-img-box m-img-rectangle"}:t.background&&"http://u1.sinaimg.cn/upload/page-cover/page_cover_topic_2x.jpg"!==t.background?{url:t.background,blur:0,classname:"m-img-box m-imghold-square"}:{url:t.portrait,blur:1,classname:"m-img-box m-imghold-square"}}},methods:{}},r=o,c=(a("b1a0"),a("0c7c")),l=Object(c["a"])(r,n,i,!1,null,"75be0ce4",null);e["default"]=l.exports},d73e:function(t,e,a){"use strict";var n=a("0447"),i=a.n(n);i.a},f269:function(t,e,a){"use strict";var n=a("5fd2"),i=a.n(n);i.a},f7d8:function(t,e,a){"use strict";var n=a("5361"),i=a.n(n);i.a}}]);
//# sourceMappingURL=page.82eb4bd4.js.map