/*! 8db2402d95f3753ca755367238c8de2d yukun@ctrip.com */
!function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){i(1)},function(e,t,i){!function(e,t){function o(){var e="20190425102018",t="",i=function(){try{new a,m.execut()}catch(e){}if(!r.isBlackWord(window.location)){t=r.getQuery("mkt_envtest");var i="";i="fat"==t?"//webresource.fws.qa.nt.ctripcorp.com":"uat"==t?"//webresource.uat.qa.nt.ctripcorp.com":"//webresource.c-ctrip.com";var o={time:e,url:window.location.href};"undefined"==typeof window.__bfi&&(window.__bfi=[]),window.__bfi.push(["_tracklog","mkt_file_version",JSON.stringify(o)]),p(i+"/res/concat?f=ResADVOnline/R2/Js/Sales/mkt.base_new.js?v="+e)}};i()}function n(){var e=i(2),t=/(iphone|ios|android|mini|mobile|mobi|Nokia|Symbian|iPod|iPad|Windows\s+Phone|MQQBrowser|wp7|wp8|UCBrowser7|UCWEB|360\s+Aphone\s+Browser|AppleWebKit.*Mobile)/i.test(navigator.userAgent);t&&e.setCookie({MKT_Pagesource:"H5"},"",6048e5)}var c,r=(window.location.protocol,{getQuery:function(e){var t=location.href.match(new RegExp("[?&]"+e+"=([^&#]+)","i"));return null==t||t.length<1?"":t[1]},getD:function(e){return e.getFullYear()+""+(e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1))+(e.getDate()>9?e.getDate():"0"+e.getDate())},next:function(e){var t=864e5*e;return new Date((new Date).getTime()+t)},isInApp:function(e){var i=e==t?window.navigator.userAgent.toLowerCase():e;return!("ctripwireless"!=i.match(/ctripWireless/i)&&!/_ctripVBKwireless_ios/i.test(i)&&!/ctripVBKwireless_android/i.test(i))},isBlackWord:function(e){var t=["my.ctrip.com","myctrip","accounts.ctrip","booking","secure","account"],i=["wallet/fccarrentalad","wallet/fchotelad","wallet/fcsecuritycheckad","wallet/fctrainticketad","wallet/callupapp","wallet/outbindcards"];if(e.href.toLowerCase().indexOf("secure.ctrip")>-1||e.href.toLowerCase().indexOf("secure.ctripjava.fat")>-1){for(var o=0;o<i.length;o++)if(e.href.toLowerCase().indexOf(i[o])>-1)return!1;return!0}for(var n=0;n<t.length;n++)if(e.href.toLowerCase().indexOf(t[n])>-1)return!0;return!1},isWhiteWord:function(e){for(var t=["m\\.ctrip\\.com\\/html5(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/hotel(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/hotel\\/oversea(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/hotel\\/hotsale(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tuan(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/weekend\\/city0\\/combo.html(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/inn\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/vacations\\/tour\\/vacations(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/vacations\\/diytour\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/vacations\\/tour\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/weekend(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/tours\\/themetravel\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/activity(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tourvisa(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tour\\/youxue(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/dingzhi\\/index(?!\\/\\b)","mice\\.ctrip\\.com\\/purposeh5(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/meeting\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/deals\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/Flight(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/flightactivity\\/muse\\/index\\.html(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/airportbus(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/vacations\\/diytour\\/dpindex(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/flight\\/swift\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/train\\/#\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/eurail\\/eurail\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/trains\\/bus(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/ship(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/airportbus(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/car(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/carch\\/oline\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/carch\\/iday\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/carch\\/chf\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/zuche(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/carch\\/och\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/cars\\/osd\\/osd\\/osdindex(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/activity\\/wifi(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/parking\\/v2\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/tuan(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/you(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/corpctrip(?!\\/\\b)","pages\\.ctrip\\.com\\/destinationad\\/201701\\/Triping_top10\\/H5\\.html(?!\\/\\b)","contents\\.ctrip\\.com\\/buildingblocksweb\\/special\\/membershipcard\\/landing\\.html(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/train\\/v2\\/index(?!/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/hotel\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/mkt(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/mkt\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/hotel\\/hoteldetail(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/hotel\\/[a-zA-Z]+[0-9]+(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/hotel\\/hoteldetail\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/hotel\\/[a-zA-Z]+[0-9]+\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tuan\\/city_[a-zA-Z]+(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tuan\\/city_[a-zA-Z]+\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/tuan\\/[0-9]+\\.html(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/tuan\\/pic-[0-9]+\\.html(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/ticket\\/dest(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/ticket\\/dest\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/ticket\\/jianjie(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/ticket\\/jianjie\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/search(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/search\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/c(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/c\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/schedule(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/schedule\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/poi(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/poi\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/company(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/cruise\\/company\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tourvisa\\/visa_list(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tourvisa\\/visa_list\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tourvisa\\/detail(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tourvisa\\/detail\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tourvisa\\/material(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tourvisa\\/material\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/tour\\/youxuelist(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/tour\\/youxuelist\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/tour\\/detail(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/tour\\/detail\\/(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/mice(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/mice\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/deals\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/deals\\/deals_list(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/deals\\/destination_list(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/diyshx(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/diyfhxsdp(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/diyshx\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/diyfhxsdp\\/(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/vacations\\/diytour(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/vacations\\/tour\\/(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/weekend\\/overall\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/activity\\/dest(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/activity\\/dest\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tour(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tour\\/(tours|vacation|dianping|detail|schedule|subject|grouptravel|themetravel)(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tour\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/tour\\/(tours|vacation|dianping|detail|schedule|subject|grouptravel|themetravel)\\/(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/insurance(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/insurance\\/index(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/promotion\\/brand(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/promotion\\/brand\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/tourleaderhome(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/tourleaderhome\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/flightactivity(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/mkt\\/flights(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/flight\\/schedule(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/flightactivity\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/mkt\\/flights\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/flight\\/schedule\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/flight\\/international(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/flight\\/international\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/train(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/trains(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/train\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/trains\\/(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/bus(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/trains\\/bus(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/bus\\/(zhan|booking)(?!\\/\\b)","m\\.ctrip\\.com\\/webapp\\/bus\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/trains\\/bus\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/bus\\/(zhan|booking)\\/(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/car\\/(daijia|zijia|hwdaijia|hwzijia|city|guide|vendor)(?!\\/\\b)","m\\.ctrip\\.com\\/html5\\/car\\/(daijia|zijia|hwdaijia|hwzijia|city|guide|vendor)\\/(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/you\\/(?!\\/\\b)","gs\\.ctrip\\.com\\/(html5|webapp)\\/you\\/(?!\\/\\b)","gs\\.ctrip\\.com\\/(html5|webapp)\\/you(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/eurail\\/eurail(?!\\/\\b)","m\\.ctrip\\.com\\/(html5|webapp)\\/eurail\\/(ptp|pass|ask|)\\/(?!\\/\\b)"],i=0;i<t.length;i++){var o=new RegExp(t[i],"i");if(o&&o.test&&o.test(e.href.toLowerCase()))return!0}return!1}}),a=function(){this.key="UNION",this.cKey="Union";try{this.store=e.localStorage}catch(e){}this.launch()},p=function(e,t){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.setAttribute("crossorigin","anonymous"),o.src=e,o.onload=function(){t&&t()},i.appendChild(o)};a.prototype={launch:function(){r.isInApp()||this.LaunchUnionRecord(),this.LaunchApiRegist()},LaunchUnionRecord:function(){var e=decodeURIComponent(r.getQuery("_cwxobj"))||'{"appid":"","mpopenid":""}',t=r.getQuery("appid")||"",i=r.getQuery("mpopenid")||"",o=r.getQuery("allianceid")||"",n=r.getQuery("sid")||r.getQuery("ctripsid")||"",a=r.getQuery("ouid")||r.getQuery("actouid")||"",p=r.getQuery("sourceid")||"";if(e&&JSON.parse(e).appid&&(t=JSON.parse(e).appid),e&&JSON.parse(e).mpopenid&&(i=JSON.parse(e).mpopenid),o&&n||p)c={AllianceID:o&&n?o:"",SID:o&&n?n:"",OUID:o&&n?a:"",SourceID:p,AppID:t,OpenID:i},this.setStore(c),this.setCooki(c);else if(this.referrer(o,n,a,p,t,i));else if(this.httpsvshttp());else if(this.ua());else{var m=this.getStore(this.key);m&&m.st&&new Date(m.st)&&(new Date).getTime()-m.st>0&&this.store.removeItem(this.key)}},LaunchClickRecord:function(e){var t;"undefined"==typeof window.__bfi&&(window.__bfi=[]),__bfi.push(["_getStatus",function(e){t=e.vid}]);var i=document.location.toString(),o={h5_vid:t},n={asid:e,click_time:(new Date).getTime(),click_url:i,ext_value:JSON.stringify(o)||""},c=r.getQuery("allianceid")||"",a=r.getQuery("sid")||r.getQuery("ctripsid")||"",p=r.getQuery("sourceid")||"";(c&&a||p)&&this.setCookieForClick("MKT_OrderClick",n,7)},LaunchApiRegist:function(){if("undefined"==typeof window.__union)window.__union=[],window.__union.push=function(e){e&&e.callback&&"function"==typeof e.callback&&e.callback()};else{for(var e=window.__union.length||0,t=0;t<e;t++){var i=window.__union[t];i&&i.callback&&"function"==typeof i.callback&&i.callback()}window.__union=[],window.__union.push=function(e){e&&e.callback&&"function"==typeof e.callback&&e.callback()}}},dateNext:function(e){var t=864e5*e,i=new Date((new Date).getTime()+t);return i},setStore:function(e,t){var i=t||this.dateNext(7),o=/^(\w[^#]+)/;e.AllianceID=e.AllianceID.match(o)?e.AllianceID.match(o)[0]:e.AllianceID,e.SID=e.SID.match(o)?e.SID.match(o)[0]:e.SID;var n=/^[0-9]*$/;if(n.test(e.AllianceID)&&n.test(e.SID)&&!r.getQuery("dpclickjump")){var c={data:e,timeout:i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds(),st:i.getTime()};this.store.setItem(this.key,JSON.stringify(c))}},getStore:function(e){var t,i=this.store.getItem(e);try{t=JSON.parse(i)}catch(e){t=null}return t},setCooki:function(e,t){var i=t||7,o=new Date,n=/^(\w[^#]+)/;if(o.setTime(o.getTime()+24*i*60*60*1e3),e.AllianceID=e.AllianceID.match(n)?e.AllianceID.match(n)[0]:e.AllianceID,e.SID=e.SID.match(n)?e.SID.match(n)[0]:e.SID,!r.getQuery("dpclickjump")){var c=/^[0-9]*$/;if(c.test(e.AllianceID)&&c.test(e.SID)){var a="OUID="+e.OUID+"&AllianceID="+e.AllianceID+"&SID="+e.SID+"&SourceID="+e.SourceID+"&AppID="+e.AppID+"&OpenID="+e.OpenID+"&Expires="+o.getTime();document.cookie=this.cKey+"="+a+";path=/;expires="+o.toUTCString()+";domain="+window.location.hostname.split(".").slice(-2).join(".")||"ctrip.com"}}},setCookieForClick:function(e,t,i){var o=i||7,n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var c="ASID="+t.asid+"&CT="+t.click_time+"&CURL="+encodeURIComponent(t.click_url)+"&VAL="+t.ext_value;document.cookie=e+"="+c+";path=/;expires="+n.toUTCString()+";domain="+window.location.hostname.split(".").slice(-2).join(".")||"ctrip.com"},getCooki:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},sendRefferTraceLog:function(e){if(e){"undefined"==typeof window.__bfi&&(window.__bfi=[]);var t={};t.type="h5",t.union=e,t.referrer=document.referrer,window.__bfi.push(["_tracklog","mkt_seo_unionlog",JSON.stringify(t)])}},referrer:function(e,t,i,o,n,r){var a=location.host,p=document.referrer,m=window.navigator.userAgent.toLowerCase();if(p=p.split("?")[0],c=null,!(p.indexOf("kuai.baidu.com")>-1||/baidumap/.test(m)||/nuomiapp/.test(m)||/baidutravel/.test(m)))return a&&p.indexOf(a)===-1&&(p=p.replace("http://","").replace("https://","").split("/")[0].toLowerCase(),p.indexOf("baidu")>-1&&(e=e||"4897",t=t||"353693",i=i||"",o=o||"55551825"),p.indexOf("google")>-1&&(e=e||"4899",t=t||"353694",i=i||"",o=o||"55551826"),p.indexOf("soso.com")>-1&&(e=e||"4900",t=t||"353696",i=i||"",o=o||"55551827"),p.indexOf("sogou")>-1&&(e=e||"4901",t=t||"353698",i=i||"",o=o||"55551828"),(p.indexOf("m.so.com")>-1||p.indexOf("haosou.com")>-1)&&(e=e||"5376",t=t||"353699",i=i||""),p.indexOf("so.360")>-1&&(e=e||"5376",t=t||"353700",i=i||"",o=o||"55551830"),p.indexOf("bing.com")>-1&&(e=e||"4902",t=t||"353701",i=i||"",o=o||"55551831"),p.indexOf("yahoo")>-1&&(e=e||"4903",t=t||"353703",i=i||"",o=o||"55551832"),p.indexOf("youdao")>-1&&(e=e||"4904",t=t||"353704",i=i||"",o=o||"55551833"),(p.indexOf("jike.com")>-1||p.indexOf("babylon.com")>-1||p.indexOf("ask.com")>-1||p.indexOf("avg.com")>-1||p.indexOf("easou.com")>-1||p.indexOf("panguso.com")>-1||p.indexOf("yandex.com")>-1)&&(e=e||"5376",t=t||"353700",i=i||"",o=o||"55551830"),p.indexOf("soso")>-1&&(e=e||"4900",t=t||"353696",i=i||"",o=o||"55551827"),(p.indexOf("so.com")>-1||p.indexOf("haosou.com")>-1)&&(e=e||"5376",t=t||"353699",i=i||"",o=o||"55551829"),p.indexOf("sm.cn")>-1&&(e=e||"18887",t=t||"447459",i=i||"",o=o||"55551791"),p.indexOf("duckduckgo")>-1&&(e=e||"20080",t=t||"450748",i=i||"",o=o||"55552131"),(e&&t||o)&&(c={AllianceID:e&&t?e:"",SID:e&&t?t:"",OUID:e&&t?i:"",SourceID:o,AppID:n,OpenID:r},this.setStore(c),this.setCooki(c)),this.sendRefferTraceLog(c)),c},setCookiTM:function(){function e(e){return o.match(new RegExp(e+"=([^&]+)","i"))}var t=this.getStore(this.key),i=this.getCooki("MKtUnionTM"),o=this.getCooki(this.cKey);if(i&&(location.hostname.toLowerCase().indexOf("qa.nt.ctripcorp.com")!=-1||"u.dev.sh.ctriptravel.com"==location.hostname.toLowerCase()||"m.ctrip.com"==location.hostname.toLowerCase())&&(t&&t.st&&t.st<i||!t)){var n=e("allianceid")?e("allianceid")[1]:"",c=e("sid")?e("sid")[1]:"",r=e("ouid")?e("ouid")[1]:"",a=e("sourceid")?e("sourceid")[1]:"",p=e("appid")?e("appid")[1]:"",m=e("mpopenid")?e("mpopenid")[1]:"",s={AllianceID:n&&c?n:"",SID:n&&c?c:"",OUID:n&&c?r:"",SourceID:a,AppID:p,OpenID:m};return void this.setStore(s)}},ua:function(){c=null;var e=this.getStore(this.key),t=location.host,i=document.referrer;if(i=i.split("?")[0],e&&e.st&&(new Date).getTime()-e.st<0)return!1;var o,n,r,a,p="";if(window&&window.navigator&&window.navigator.userAgent&&(p=window.navigator.userAgent.toLowerCase()),t&&i.indexOf(t)===-1){if(p.indexOf("baiduboxapp")>-1)o="66672",n="1709144",r="",a="1825";else if(p.indexOf("mqqbrowser")>-1)o="66672",n="508660",r="",a="55552319";else if(p.indexOf("sogousearch")>-1)o="4901",n="353698",r="",a="1828";else if(p.indexOf("easou_client")>-1)o="5376",n="353700",r="",a="1830";else if(p.indexOf("qhbrowser")>-1)o="5376",n="353699",r="",a="1829";else if(p.indexOf("roboosearch")>-1)o="20080",n="450748",r="",a="2131";else if(p.indexOf("sogoumobilebrowser")>-1)o="66672",n="508662",r="",a="55552321";else if(p.indexOf("bingweb")>-1)o="4902",n="353701",r="",a="1831";else if(p.indexOf("yabrowser")>-1)o="5376",n="353700",r="",a="1830";else if(p.indexOf("firefox")>-1)o="66672",n="508668",r="",a="55552328";else if(/oupeng|opera|opr/.test(p))o="66672",n="508666",r="",a="55552326";else if(p.indexOf("ucbrowser")>-1)o="66672",n="508659",r="",a="55552318";else if(p.indexOf("hao123")>-1)o="66672",n="508665",r="",a="55552325";else if(/360|qihoo|qihu/.test(p))o="66672",n="508661",r="",a="55552320";else if(p.indexOf("baidubrowser")>-1)o="66672",n="508664",r="",a="55552323";else if(p.indexOf("miuibrowser")>-1)o="66672",n="508669",r="",a="55552329";else if(/liebaofast|lbbrowser/.test(p))o="66672",n="508663",r="",a="55552322";else if(/mxbrowser|maxthon/.test(p))o="66672",n="508667",r="",a="55552327";else if(/m1|mx4/.test(p))o="66672",n="725345",r="",a="55552379";else if(/honor|huawei/.test(p))o="66672",n="785834",r="",a="55552380";else if(/htc/.test(p))o="66672",n="725350",r="",a="55552381";else if(/2345browser/.test(p))o="66672",n="508658",r="",a="";else if(/quark/.test(p))o="66672",n="1696985",r="",a="";else if(/vivo/.test(p))o="66672",n="1693492",r="",a="";else if(/oppo/.test(p))o="66672",n="1693487",r="",a="";else if(/baidumap/.test(p))o="108298",n="552100",r="baidumap",a="";else if(/nuomiapp/.test(p))o="108298",n="552100",r="nuomi",a="";else if(/baidutravel/.test(p))o="108298",n="552100",r="baidutravel",a="";else if(/samsung/.test(p))o="66672",n="725351",r="",a="55552382";else if(/chrome|crios/.test(p))o="66672",n="1693366",r="",a="";else if(window.openDatabase&&p.match(/version\/([\d.]+).*safari/)){var m={};window.openDatabase?m.safari=p.match(/version\/([\d.]+).*safari/)[1]:0,m.safari&&(o="66672",n="508670",r="",a="")}(o&&n||a)&&(c={AllianceID:o&&n?o:"",SID:o&&n?n:"",OUID:o&&n?r:"",SourceID:a,AppID:"",OpenID:""},this.setStore(c),this.setCooki(c))}return c},httpsvshttp:function(){var e=!1,t=this.getCooki(this.cKey),i=function(e,t){var i=t.match(new RegExp(e+"=([^&]+)","i"));return null===i?"":i.length>1?i[1]:void 0};if(t){var o=i("Expires",t),n=new Date;if(n.getTime()<=o){var c=i("AllianceID",t),r=i("SID",t),a=i("OUID",t),p=i("SourceID",t),m=i("AppID",t),s=i("OpenID",t),l=new Date(parseInt(o));this.setStore({AllianceID:c&&r?c:"",SID:c&&r?r:"",OUID:c&&r?a:"",SourceID:p,AppID:m,OpenID:s},l),e=!0}}return e}};var m={execut:function(){var e=this;if("undefined"==typeof window.__union_api)window.__union_api=[],window.__union_api.push=function(t){t&&t.apiName&&e._apiAgent(t)};else{for(var t=window.__union_api.length||0,i=0;i<t;i++){var o=window.__union_api[i];o&&o.apiName&&e._apiAgent(o)}window.__union_api=[],window.__union_api.push=function(t){t&&t.apiName&&e._apiAgent(t)}}},getCookieUnion:function(e,t){var i=e.match(new RegExp(t+"=([^&]+)","i"));return!!(i&&i.length>1)&&i[1]},getUnion:function(e){var t=this,i={OUID:"",AllianceID:"",SID:"",SourceID:"",AppID:"",OpenID:""},o="Union",n=document.cookie.match(new RegExp("(^| )"+o+"=([^;]*)(;|$)"));return null!=n&&(n=unescape(n[2]),i={OUID:t.getCookieUnion(n,"OUID")||"",AllianceID:t.getCookieUnion(n,"AllianceID")||"",SID:t.getCookieUnion(n,"SID")||"",SourceID:t.getCookieUnion(n,"SourceID")||"",AppID:t.getCookieUnion(n,"AppID")||"",OpenID:t.getCookieUnion(n,"OpenID")||""}),e(i),i},extend:function(e,t){for(var i in t)e[i]=t[i];return e},getOrderClick:function(e){var t=this,i={allianceid:"",sid:"",ouid:"",click_time:"",click_url:"",ext_value:""},o="Union",n="MKT_OrderClick",c=document.cookie.match(new RegExp("(^| )"+o+"=([^;]*)(;|$)")),r=document.cookie.match(new RegExp("(^| )"+n+"=([^;]*)(;|$)"));if(null!=c){c=unescape(c[2]);var a={allianceid:t.getCookieUnion(c,"AllianceID")||"",sid:t.getCookieUnion(c,"SID")||"",ouid:t.getCookieUnion(c,"OUID")||""};i=t.extend(i,a)}if(null!=r){r=r[2];var a={click_time:t.getCookieUnion(r,"CT")||"",click_url:t.getCookieUnion(r,"CURL")||"",ext_value:t.getCookieUnion(r,"VAL")||""};i=t.extend(i,a)}return e(JSON.stringify(i)),JSON.stringify(i)},_apiAgent:function(e){var t=this;switch(e.apiName.toUpperCase()){case"SETUNION":if(e.apiValue)try{new a}catch(e){}break;case"GETUNION":var i=window.location.pathname.match(/\/(webapp|html5)\/([a-zA-Z]+)/i),o=i&&i.length>2?i[2]:"",n=JSON.stringify({buType:o});if("undefined"==typeof window.__bfi&&(window.__bfi=[]),window.__bfi.push(["_tracklog","MKT_H5REDIRECT_BU_IDENTIFY",n]),e.callback&&"function"==typeof e.callback)try{t.getUnion(e.callback)}catch(e){}break;case"GETCLICK":if(e.callback&&"function"==typeof e.callback)try{t.getOrderClick(e.callback)}catch(e){}}}};try{n()}catch(e){}var s=function(e,t){var i={getQuery:function(e){var t=location.href.match(new RegExp("[?&]"+e+"=([^&#]+)","i"));return null==t||t.length<1?"":t[1]},PostAJax:function(e){if(e){var t=function(e){return e.status>=200&&e.status<300||304==e.status},i=function(){var e;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){throw"您的浏览器不支持AJAX"}}}return e}();i.onreadystatechange=function(){4==i.readyState&&(t(i)&&i.responseText?"function"==typeof e.success&&e.success(i.responseText):"function"==typeof e.error&&e.error(i.responseText))},"GET"==e.type?i.open(e.type,e.url+"?"+e.param,e.async||!0):i.open(e.type,e.url,e.async||!0),i.setRequestHeader("Content-type",e.contentType||"text/plain; charset=UTF-8"),i.withCredentials=!0,i.cookieOrigin=window.location.origin,i.send(e.param)}},getCooki:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},getCookieUnion:function(e,t){var i=e.match(new RegExp(t+"=([^&]+)","i"));return!!(i&&i.length>1)&&i[1]},parseUrl:function(e){var t={},i=[],o=0,n={},c="";if(e.indexOf("?")!=-1){c=e.substr(1),i=c.split("&"),o=i.length;for(var r=0;r<o;r++)n=i[r].split("="),t[n[0]]=unescape(n[1])}return t}},n={initForC_Ctrip:function(t){var o={Union:i.getCooki("Union")};if(o&&o.Union){var n="https:"==e.protocol,c={url:e.protocol+t,type:"POST",contentType:"application/x-www-form-urlencoded",param:"Union="+encodeURIComponent(o.Union)+"&isSec="+n};i.PostAJax(c)}},initForOrder:function(){var e,o=(i.getCooki("Union"),{}),n={},c=document.location.toString(),r="",a=document.cookie.match(new RegExp("(^| )MKT_OrderClick=([^;]*)(;|$)"));null!=a&&(a=unescape(a[2]),r=i.getCookieUnion(a,"ASID")||""),t.prototype.LaunchClickRecord(r);var p=i.getQuery("allianceid")+i.getQuery("sid");if("undefined"==typeof window.__bfi&&(window.__bfi=[]),__bfi.push(["_getStatus",function(t){e=t.vid}]),o.h5_vid=e||"",o.clk_url=c,r!=p&&0!=p.length){(new Date).getTime();n={url:"//m.ctrip.com/mkt-ad-monitor/write",type:"GET",contentType:"application/x-www-form-urlencoded",param:"allianceid=938834&sid=1517252&ouid=m&type=1&bizid=6&token=096E015919F53863D630A3C52A145014CE4E2E01&g="+encodeURIComponent(JSON.stringify(o))},i.PostAJax(n),t.prototype.LaunchClickRecord(p)}},initForNormal:function(e){if(o(),/http[s]*\:\/\/pages.c-ctrip.com/i.test(e)){var i=(new t,"//m.ctrip.com/mkt-pages-cookie/writecookie");this.initForC_Ctrip(i)}else{if(!/http[s]*\:\/\/[^\/]+?\.ctrip.com/i.test(e))return!1;var i=(new t,"//www.trip.com/mkt-pages-cookie/writecookie");this.initForC_Ctrip(i)}},init:function(e){this.initForNormal(e),this.initForOrder()}};i.parseUrl(e.search.toLowerCase());n.init(e)};try{e.location;s(e.location,a)}catch(e){console.error("error",e)}}(window),function(){var e={init:function(){this._hasLizard()?(this._forLizard2(),this._addGA()):this._hasLizardLite()&&this._addGA()},_hasLizard:function(){return!!window.Lizard},_hasLizardLite:function(){return!!window.LizardLite},_hasCtripApp:function(){var e=window.Lizard;return!!e&&e.app&&e.app.vendor&&e.app.vendor.is("CTRIP")},_hasliteInApp:function(){var e=window.LizardLite;return e&&e&&e.app&&e.app.vendor.is("CTRIP")},_forLizard2:function(){Lizard.viewReady&&"function"==typeof Lizard.viewReady&&Lizard.viewReady(function(e){"undefined"!=typeof ga&&ga("send","pageview",location.href)})},_addGA:function(){var e=function(){!function(e,t,i,o,n,c,r){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,c=t.createElement(i),r=t.getElementsByTagName(i)[0],c.async=1,c.src=o,r.parentNode.insertBefore(c,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-3748357-1","auto"),ga("require","displayfeatures"),ga("send","pageview")};!window.Lizard||Lizard.isHybrid||this._hasCtripApp()?window.LizardLite&&!this._hasliteInApp()&&e():e()}};try{e.init()}catch(e){}}()},function(e,t){"use strict";var i={};i.setCookie=function(e,t,i){var o=(document.domain||"").replace(/^[\w\W]*\.ctrip(corp)??\.com(.hk)??/,"ctrip$1.com$2"),n=[];for(var c in e){var r=null===e[c]?"":e[c];n.push(c+"="+r)}var a=new Date;a.setTime(a.getTime()+i),""===t?document.cookie=n.join("&")+"; expires="+a.toGMTString()+"; domain="+o+";path=/;":document.cookie=n.join("&")+"; domain="+o+";path=/;"},i.getCookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(t!==-1){t=t+e.length+1;var i=document.cookie.indexOf(";",t);return i===-1&&(i=document.cookie.length),document.cookie.substring(t,i)}}return""},i.getCookieNew=function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),i=document.cookie.match(t);return i.length>0?i[2]:null},e.exports=i}]);