!function(){var STK=function(){var a={};var b=[];a.inc=function(a,b){return true};a.register=function(c,d){var e=c.split(".");var f=a;var g=null;while(g=e.shift()){if(e.length){if(f[g]===undefined){f[g]={}}f=f[g]}else{if(f[g]===undefined){try{f[g]=d(a)}catch(h){b.push(h)}}}}};a.regShort=function(b,c){if(a[b]!==undefined){throw"["+b+"] : short : has been register"}a[b]=c};a.IE=/msie/i.test(navigator.userAgent);a.E=function(a){if(typeof a==="string"){return document.getElementById(a)}else{return a}};a.C=function(a){var b;a=a.toUpperCase();if(a=="TEXT"){b=document.createTextNode("")}else if(a=="BUFFER"){b=document.createDocumentFragment()}else{b=document.createElement(a)}return b};a.log=function(a){b.push("["+(new Date).getTime()%1e5+"]: "+a)};a.getErrorLogInformationList=function(a){return b.splice(0,a||b.length)};return a}();$Import=STK.inc;STK.register("core.ani.algorithm",function(a){var b={linear:function(a,b,c,d,e){return c*a/d+b},easeincubic:function(a,b,c,d,e){return c*(a/=d)*a*a+b},easeoutcubic:function(a,b,c,d,e){if((a/=d/2)<1){return c/2*a*a*a+b}return c/2*((a-=2)*a*a+2)+b},easeinoutcubic:function(a,b,c,d,e){if(e==undefined){e=1.70158}return c*(a/=d)*a*((e+1)*a-e)+b},easeinback:function(a,b,c,d,e){if(e==undefined){e=1.70158}return c*(a/=d)*a*((e+1)*a-e)+b},easeoutback:function(a,b,c,d,e){if(e==undefined){e=1.70158}return c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},easeinoutback:function(a,b,c,d,e){if(e==undefined){e=1.70158}if((a/=d/2)<1){return c/2*a*a*(((e*=1.525)+1)*a-e)+b}return c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b}};return{addAlgorithm:function(a,c){if(b[a]){throw"[core.ani.tweenValue] this algorithm :"+a+"already exist"}b[a]=c},compute:function(a,c,d,e,f,g,h){if(typeof b[a]!=="function"){throw"[core.ani.tweenValue] this algorithm :"+a+"do not exist"}return b[a](e,c,d,f,g,h)}}});STK.register("core.func.empty",function(){return function(){}});STK.register("core.obj.parseParam",function(a){return function(a,b,c){var d,e={};b=b||{};for(d in a){e[d]=a[d];if(b[d]!=null){if(c){if(a.hasOwnProperty[d]){e[d]=b[d]}}else{e[d]=b[d]}}}return e}});STK.register("core.ani.tweenArche",function(a){return function(b,c){var d,e,f,g,h,i,j,k;e={};d=a.core.obj.parseParam({animationType:"linear",distance:1,duration:500,callback:a.core.func.empty,algorithmParams:{},extra:5,delay:25},c);var l=function(){f=+(new Date)-g;if(f<d["duration"]){h=a.core.ani.algorithm.compute(d["animationType"],0,d["distance"],f,d["duration"],d["extra"],d["algorithmParams"]);b(h);i=setTimeout(l,d["delay"])}else{k="stop";d["callback"]()}};k="stop";e.getStatus=function(){return k};e.play=function(){g=+(new Date);h=null;l();k="play";return e};e.stop=function(){clearTimeout(i);k="stop";return e};e.resume=function(){if(j){g+=+(new Date)-j;l()}return e};e.pause=function(){clearTimeout(i);j=+(new Date);k="pause";return e};e.destroy=function(){clearTimeout(i);j=0;k="stop"};return e}});STK.register("core.dom.getStyle",function(a){return function(b,c){if(a.IE){switch(c){case"opacity":var d=100;try{d=b.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{d=b.filters("alpha").opacity}catch(e){}}return d/100;case"float":c="styleFloat";default:var f=b.currentStyle?b.currentStyle[c]:null;return b.style[c]||f}}else{if(c=="float"){c="cssFloat"}try{var g=document.defaultView.getComputedStyle(b,"")}catch(e){}return b.style[c]||g?g[c]:null}}});STK.register("core.dom.cssText",function(a){return function(a){a=(a||"").replace(/(^[^\:]*?;)|(;[^\:]*?$)/g,"").split(";");var b={},c;for(var d=0;d<a.length;d++){c=a[d].split(":");b[c[0].toLowerCase()]=c[1]}var e=[],f={push:function(a,c){b[a.toLowerCase()]=c;return f},remove:function(a){a=a.toLowerCase();b[a]&&delete b[a];return f},getCss:function(){var a=[];for(var c in b){a.push(c+":"+b[c])}return a.join(";")}};return f}});STK.register("core.func.getType",function(a){return function(a){var b;return((b=typeof a)=="object"?a==null&&"null"||Object.prototype.toString.call(a).slice(8,-1):b).toLowerCase()}});STK.register("core.arr.isArray",function(a){return function(a){return Object.prototype.toString.call(a)==="[object Array]"}});STK.register("core.arr.foreach",function(a){var b=function(a,b){var c=[];for(var d=0,e=a.length;d<e;d+=1){var f=b(a[d],d);if(f===false){break}else if(f!==null){c[d]=f}}return c};var c=function(a,b){var c={};for(var d in a){var e=b(a[d],d);if(e===false){break}else if(e!==null){c[d]=e}}return c};return function(d,e){if(a.core.arr.isArray(d)||d.length&&d[0]!==undefined){return b(d,e)}else if(typeof d==="object"){return c(d,e)}return null}});STK.register("core.arr.indexOf",function(a){return function(a,b){if(b.indexOf){return b.indexOf(a)}for(var c=0,d=b.length;c<d;c++){if(b[c]===a){return c}}return-1}});STK.register("core.arr.inArray",function(a){return function(b,c){return a.core.arr.indexOf(b,c)>-1}});STK.register("core.dom.isNode",function(a){return function(a){return a!=undefined&&Boolean(a.nodeName)&&Boolean(a.nodeType)}});STK.register("core.json.merge",function(a){var b=function(b){if(b===undefined){return true}if(b===null){return true}if(a.core.arr.inArray(typeof b,["number","string","function","boolean"])){return true}if(a.core.dom.isNode(b)){return true}return false};var c=function(d,e,f){if(b(f)){d[e]=f;return}if(a.core.arr.isArray(f)){if(!a.core.arr.isArray(d[e])){d[e]=[]}for(var g=0,h=f.length;g<h;g+=1){c(d[e],g,f[g])}return}if(typeof f==="object"){if(b(d[e])||a.core.arr.isArray(d[e])){d[e]={}}for(var i in f){c(d[e],i,f[i])}return}};var d=function(a,b,d){var e={};if(d){for(var f in a){c(e,f,a[f])}for(var f in b){c(e,f,b[f])}}else{for(var f in a){e[f]=a[f]}for(var f in b){e[f]=b[f]}}return e};return function(b,c,e){var f=a.core.obj.parseParam({isDeep:false},e);return d(b,c,f.isDeep)}});STK.register("core.util.color",function(a){var b=/^#([a-fA-F0-9]{3,8})$/;var c=/^rgb[a]?\s*\((\s*([0-9]{1,3})\s*,){2,3}(\s*([0-9]{1,3})\s*)\)$/;var d=/([0-9]{1,3})/ig;var e=/([a-fA-F0-9]{2})/ig;var f=a.core.arr.foreach;var g=function(a){var g=[];var h=[];if(b.test(a)){h=a.match(b);if(h[1].length<=4){g=f(h[1].split(""),function(a,b){return parseInt(a+a,16)})}else if(h[1].length<=8){g=f(h[1].match(e),function(a,b){return parseInt(a,16)})}return g}if(c.test(a)){h=a.match(d);g=f(h,function(a,b){return parseInt(a,10)});return g}return false};return function(a,b){var c=g(a);if(!c){return false}var d={};d.getR=function(){return c[0]};d.getG=function(){return c[1]};d.getB=function(){return c[2]};d.getA=function(){return c[3]};return d}});STK.register("core.ani.tween",function(a){var b=a.core.ani.tweenArche;var c=a.core.arr.foreach;var d=a.core.dom.getStyle;var e=a.core.func.getType;var f=a.core.obj.parseParam;var g=a.core.json.merge;var h=a.core.util.color;var i=function(a){var b=/(-?\d\.?\d*)([a-z%]*)/i.exec(a);var c=[0,"px"];if(b){if(b[1]){c[0]=b[1]-0}if(b[2]){c[1]=b[2]}}return c};var j=function(a){for(var b=0,c=a.length;b<c;b+=1){var d=a.charCodeAt(b);if(d>64&&d<90){var e=a.substr(0,b);var f=a.substr(b,1);var g=a.slice(b+1);return e+"-"+f.toLowerCase()+g}}return a};var k=function(a,b,c){var f=d(a,c);if(e(f)==="undefined"||f==="auto"){if(c==="height"){f=a.offsetHeight}if(c==="width"){f=a.offsetWidth}}var g={start:f,end:b,unit:"",key:c,defaultColor:false};if(e(b)==="number"){var j=[0,"px"];if(e(f)==="number"){j[0]=f}else{j=i(f)}g["start"]=j[0];g["unit"]=j[1]}if(e(b)==="string"){var k,l;k=h(b);if(k){l=h(f);if(!l){l=h("#fff")}g["start"]=l;g["end"]=k;g["defaultColor"]=true}}a=null;return g};var l={opacity:function(a,b,c,d){var e=a*(c-b)+b;return{filter:"alpha(opacity="+e*100+")",opacity:Math.max(Math.min(1,e),0),zoom:"1"}},defaultColor:function(a,b,c,d,e){var f=Math.max(0,Math.min(255,Math.ceil(a*(c.getR()-b.getR())+b.getR())));var g=Math.max(0,Math.min(255,Math.ceil(a*(c.getG()-b.getG())+b.getG())));var h=Math.max(0,Math.min(255,Math.ceil(a*(c.getB()-b.getB())+b.getB())));var i={};i[j(e)]="#"+(f<16?"0":"")+f.toString(16)+(g<16?"0":"")+g.toString(16)+(h<16?"0":"")+h.toString(16);return i},"default":function(a,b,c,d,e){var f=a*(c-b)+b;var g={};g[j(e)]=f+d;return g}};return function(d,e){var h,i,j,m,n,o,p,q,r,s;e=e||{};i=f({animationType:"linear",duration:500,algorithmParams:{},extra:5,delay:25},e);i["distance"]=1;i["callback"]=function(){var b=e["end"]||a.core.func.empty;return function(){m(1);p();b(d)}}();j=g(l,e["propertys"]||{});o=null;n={};r=[];m=function(a){var b=[];var e=c(n,function(b,c){var d;if(j[c]){d=j[c]}else if(b["defaultColor"]){d=j["defaultColor"]}else{d=j["default"]}var e=d(a,b["start"],b["end"],b["unit"],b["key"]);for(var f in e){o.push(f,e[f])}});d.style.cssText=o.getCss()};p=function(){var a;while(a=r.shift()){try{a.fn();if(a["type"]==="play"){break}if(a["type"]==="destroy"){break}}catch(b){}}};s=b(m,i);var t=function(a){if(s.getStatus()!=="play"){d=a}else{r.push({fn:t,type:"setNode"})}};var u=function(b){if(s.getStatus()!=="play"){n=c(b,function(a,b){return k(d,a,b)});o=a.core.dom.cssText(d.style.cssText+(e["staticStyle"]||""));s.play()}else{r.push({fn:function(){u(b)},type:"play"})}};var v=function(){if(s.getStatus()!=="play"){s.destroy();d=null;h=null;i=null;j=null;m=null;n=null;o=null;p=null;q=null;r=null}else{r.push({fn:v,type:"destroy"})}};h={};h.play=function(a){u(a);return h};h.stop=function(){s.stop();return h};h.pause=function(){s.pause();return h};h.resume=function(){s.resume();return h};h.finish=function(a){u(a);v();return h};h.setNode=function(a){t(a);return h};h.destroy=function(){v();return h};return h}});STK.register("core.arr.findout",function(a){return function(b,c){if(!a.core.arr.isArray(b)){throw"the findout function needs an array as first parameter"}var d=[];for(var e=0,f=b.length;e<f;e+=1){if(b[e]===c){d.push(e)}}return d}});STK.register("core.arr.clear",function(a){return function(b){if(!a.core.arr.isArray(b)){throw"the clear function needs an array as first parameter"}var c=[];for(var d=0,e=b.length;d<e;d+=1){if(!a.core.arr.findout([undefined,null,""],b[d]).length){c.push(b[d])}}return c}});STK.register("core.arr.copy",function(a){return function(b){if(!a.core.arr.isArray(b)){throw"the copy function needs an array as first parameter"}return b.slice(0)}});STK.register("core.arr.hasby",function(a){return function(b,c){if(!a.core.arr.isArray(b)){throw"the hasBy function needs an array as first parameter"}var d=[];for(var e=0,f=b.length;e<f;e+=1){if(c(b[e],e)){d.push(e)}}return d}});STK.register("core.arr.unique",function(a){return function(b){if(!a.core.arr.isArray(b)){throw"the unique function needs an array as first parameter"}var c=[];for(var d=0,e=b.length;d<e;d+=1){if(a.core.arr.indexOf(b[d],c)===-1){c.push(b[d])}}return c}});STK.register("core.dom.hasClassName",function(a){return function(a,b){return(new RegExp("(^|\\s)"+b+"($|\\s)")).test(a.className)}});STK.register("core.dom.addClassName",function(a){return function(b,c){if(b.nodeType===1){if(!a.core.dom.hasClassName(b,c)){b.className+=" "+c}}}});STK.register("core.dom.addHTML",function(a){return function(b,c){if(a.IE){b.insertAdjacentHTML("BeforeEnd",c)}else{var d=b.ownerDocument.createRange();d.setStartBefore(b);var e=d.createContextualFragment(c);b.appendChild(e)}}});STK.register("core.dom.sizzle",function(a){function p(a,b,c,d,e,f){for(var h=0,i=d.length;h<i;h++){var j=d[h];if(j){j=j[a];var k=false;while(j){if(j.sizcache===c){k=d[j.sizset];break}if(j.nodeType===1){if(!f){j.sizcache=c;j.sizset=h}if(typeof b!=="string"){if(j===b){k=true;break}}else if(g.filter(b,[j]).length>0){k=j;break}}j=j[a]}d[h]=k}}}function o(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){i=i[a];var j=false;while(i){if(i.sizcache===c){j=d[i.sizset];break}if(i.nodeType===1&&!f){i.sizcache=c;i.sizset=g}if(i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[g]=j}}}var b=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=0,d=Object.prototype.toString,e=false,f=true;[0,0].sort(function(){f=false;return 0});var g=function(a,c,e,f){e=e||[];c=c||document;var j=c;if(c.nodeType!==1&&c.nodeType!==9){return[]}if(!a||typeof a!=="string"){return e}var k=[],m,n,o,p,r=true,s=g.isXML(c),t=a,u,v,w,x;do{b.exec("");m=b.exec(t);if(m){t=m[3];k.push(m[1]);if(m[2]){p=m[3];break}}}while(m);if(k.length>1&&i.exec(a)){if(k.length===2&&h.relative[k[0]]){n=q(k[0]+k[1],c)}else{n=h.relative[k[0]]?[c]:g(k.shift(),c);while(k.length){a=k.shift();if(h.relative[a]){a+=k.shift()}n=q(a,n)}}}else{if(!f&&k.length>1&&c.nodeType===9&&!s&&h.match.ID.test(k[0])&&!h.match.ID.test(k[k.length-1])){u=g.find(k.shift(),c,s);c=u.expr?g.filter(u.expr,u.set)[0]:u.set[0]}if(c){u=f?{expr:k.pop(),set:l(f)}:g.find(k.pop(),k.length===1&&(k[0]==="~"||k[0]==="+")&&c.parentNode?c.parentNode:c,s);n=u.expr?g.filter(u.expr,u.set):u.set;if(k.length>0){o=l(n)}else{r=false}while(k.length){v=k.pop();w=v;if(!h.relative[v]){v=""}else{w=k.pop()}if(w==null){w=c}h.relative[v](o,w,s)}}else{o=k=[]}}if(!o){o=n}if(!o){g.error(v||a)}if(d.call(o)==="[object Array]"){if(!r){e.push.apply(e,o)}else if(c&&c.nodeType===1){for(x=0;o[x]!=null;x++){if(o[x]&&(o[x]===true||o[x].nodeType===1&&g.contains(c,o[x]))){e.push(n[x])}}}else{for(x=0;o[x]!=null;x++){if(o[x]&&o[x].nodeType===1){e.push(n[x])}}}}else{l(o,e)}if(p){g(p,j,e,f);g.uniqueSort(e)}return e};g.uniqueSort=function(a){if(n){e=f;a.sort(n);if(e){for(var b=1;b<a.length;b++){if(a[b]===a[b-1]){a.splice(b--,1)}}}}return a};g.matches=function(a,b){return g(a,null,null,b)};g.find=function(a,b,c){var d;if(!a){return[]}for(var e=0,f=h.order.length;e<f;e++){var g=h.order[e],i;if(i=h.leftMatch[g].exec(a)){var j=i[1];i.splice(1,1);if(j.substr(j.length-1)!=="\\"){i[1]=(i[1]||"").replace(/\\/g,"");d=h.find[g](i,b,c);if(d!=null){a=a.replace(h.match[g],"");break}}}}if(!d){d=b.getElementsByTagName("*")}return{set:d,expr:a}};g.filter=function(a,b,c,d){var e=a,f=[],i=b,j,k,l=b&&b[0]&&g.isXML(b[0]);while(a&&b.length){for(var m in h.filter){if((j=h.leftMatch[m].exec(a))!=null&&j[2]){var n=h.filter[m],o,p,q=j[1];k=false;j.splice(1,1);if(q.substr(q.length-1)==="\\"){continue}if(i===f){f=[]}if(h.preFilter[m]){j=h.preFilter[m](j,i,c,f,d,l);if(!j){k=o=true}else if(j===true){continue}}if(j){for(var r=0;(p=i[r])!=null;r++){if(p){o=n(p,j,r,i);var s=d^!!o;if(c&&o!=null){if(s){k=true}else{i[r]=false}}else if(s){f.push(p);k=true}}}}if(o!==undefined){if(!c){i=f}a=a.replace(h.match[m],"");if(!k){return[]}break}}}if(a===e){if(k==null){g.error(a)}else{break}}e=a}return i};g.error=function(a){throw"Syntax error, unrecognized expression: "+a};var h={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var c=typeof b==="string",d=c&&!/\W/.test(b),e=c&&!d;if(d){b=b.toLowerCase()}for(var f=0,h=a.length,i;f<h;f++){if(i=a[f]){while((i=i.previousSibling)&&i.nodeType!==1){}a[f]=e||i&&i.nodeName.toLowerCase()===b?i||false:i===b}}if(e){g.filter(b,a,true)}},">":function(a,b){var c=typeof b==="string",d,e=0,f=a.length;if(c&&!/\W/.test(b)){b=b.toLowerCase();for(;e<f;e++){d=a[e];if(d){var h=d.parentNode;a[e]=h.nodeName.toLowerCase()===b?h:false}}}else{for(;e<f;e++){d=a[e];if(d){a[e]=c?d.parentNode:d.parentNode===b}}if(c){g.filter(b,a,true)}}},"":function(a,b,d){var e=c++,f=p,g;if(typeof b==="string"&&!/\W/.test(b)){b=b.toLowerCase();g=b;f=o}f("parentNode",b,e,a,g,d)},"~":function(a,b,d){var e=c++,f=p,g;if(typeof b==="string"&&!/\W/.test(b)){b=b.toLowerCase();g=b;f=o}f("previousSibling",b,e,a,g,d)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c){var d=b.getElementById(a[1]);return d?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++){if(d[e].getAttribute("name")===a[1]){c.push(d[e])}}return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(/\\/g,"")+" ";if(f){return a}for(var g=0,h;(h=b[g])!=null;g++){if(h){if(e^(h.className&&(" "+h.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0)){if(!c){d.push(h)}}else if(c){b[g]=false}}}return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a,b){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=c++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1].replace(/\\/g,"");if(!f&&h.attrMap[g]){a[1]=h.attrMap[g]}if(a[2]==="~="){a[4]=" "+a[4]+" "}return a},PSEUDO:function(a,c,d,e,f){if(a[1]==="not"){if((b.exec(a[3])||"").length>1||/^\w/.test(a[3])){a[3]=g(a[3],null,null,c)}else{var i=g.filter(a[3],c,d,true^f);if(!d){e.push.apply(e,i)}return false}}else if(h.match.POS.test(a[0])||h.match.CHILD.test(a[0])){return true}return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!g(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=h.filters[e];if(f){return f(a,c,b,d)}else if(e==="contains"){return(a.textContent||a.innerText||g.getText([a])||"").indexOf(b[3])>=0}else if(e==="not"){var i=b[3];for(var j=0,k=i.length;j<k;j++){if(i[j]===a){return false}}return true}else{g.error("Syntax error, unrecognized expression: "+e)}},CHILD:function(a,b){var c=b[1],d=a;switch(c){case"only":case"first":while(d=d.previousSibling){if(d.nodeType===1){return false}}if(c==="first"){return true}d=a;case"last":while(d=d.nextSibling){if(d.nodeType===1){return false}}return true;case"nth":var e=b[2],f=b[3];if(e===1&&f===0){return true}var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){var i=0;for(d=h.firstChild;d;d=d.nextSibling){if(d.nodeType===1){d.nodeIndex=++i}}h.sizcache=g}var j=a.nodeIndex-f;if(e===0){return j===0}else{return j%e===0&&j/e>=0}}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=h.attrHandle[c]?h.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:!g?e&&d!==false:f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":false},POS:function(a,b,c,d){var e=b[2],f=h.setFilters[e];if(f){return f(a,c,b,d)}}}};g.selectors=h;var i=h.match.POS,j=function(a,b){return"\\"+(b-0+1)};for(var k in h.match){h.match[k]=new RegExp(h.match[k].source+/(?![^\[]*\])(?![^\(]*\))/.source);h.leftMatch[k]=new RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[k].source.replace(/\\(\d+)/g,j))}var l=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(m){l=function(a,b){var c=b||[],e=0;if(d.call(a)==="[object Array]"){Array.prototype.push.apply(c,a)}else{if(typeof a.length==="number"){for(var f=a.length;e<f;e++){c.push(a[e])}}else{for(;a[e];e++){c.push(a[e])}}}return c}}var n;if(document.documentElement.compareDocumentPosition){n=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b){e=true}return a.compareDocumentPosition?-1:1}var c=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(c===0){e=true}return c}}else if("sourceIndex"in document.documentElement){n=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b){e=true}return a.sourceIndex?-1:1}var c=a.sourceIndex-b.sourceIndex;if(c===0){e=true}return c}}else if(document.createRange){n=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b){e=true}return a.ownerDocument?-1:1}var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();c.setStart(a,0);c.setEnd(a,0);d.setStart(b,0);d.setEnd(b,0);var f=c.compareBoundaryPoints(Range.START_TO_END,d);if(f===0){e=true}return f}}g.getText=function(a){var b="",c;for(var d=0;a[d];d++){c=a[d];if(c.nodeType===3||c.nodeType===4){b+=c.nodeValue}else if(c.nodeType!==8){b+=g.getText(c.childNodes)}}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var c=document.documentElement;c.insertBefore(a,c.firstChild);if(document.getElementById(b)){h.find.ID=function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c){var d=b.getElementById(a[1]);return d?d.id===a[1]||typeof d.getAttributeNode!=="undefined"&&d.getAttributeNode("id").nodeValue===a[1]?[d]:undefined:[]}};h.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}}c.removeChild(a);c=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0){h.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++){if(c[e].nodeType===1){d.push(c[e])}}c=d}return c}}a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#"){h.attrHandle.href=function(a){return a.getAttribute("href",2)}}a=null})();if(document.querySelectorAll){(function(){var a=g,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0){return}g=function(b,c,d,e){c=c||document;if(!e&&c.nodeType===9&&!g.isXML(c)){try{return l(c.querySelectorAll(b),d)}catch(f){}}return a(b,c,d,e)};for(var c in a){g[c]=a[c]}b=null})()}(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0){return}a.lastChild.className="e";if(a.getElementsByClassName("e").length===1){return}h.order.splice(1,0,"CLASS");h.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=="undefined"&&!c){return b.getElementsByClassName(a[1])}};a=null})();g.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};g.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":false};var q=function(a,b){var c=[],d="",e,f=b.nodeType?[b]:b;while(e=h.match.PSEUDO.exec(a)){d+=e[0];a=a.replace(h.match.PSEUDO,"")}a=h.relative[a]?a+"*":a;for(var i=0,j=f.length;i<j;i++){g(a,f[i],c)}return g.filter(d,c)};return g});STK.register("core.dom.builder",function(a){function b(b,c){if(c){return c}var d,e=/\<(\w+)[^>]*\s+node-type\s*=\s*([\'\"])?(\w+)\2.*?>/g;var f={};var g,h,i;while(d=e.exec(b)){h=d[1];g=d[3];i=h+"[node-type="+g+"]";f[g]=f[g]==null?[]:f[g];if(!a.core.arr.inArray(i,f[g])){f[g].push(h+"[node-type="+g+"]")}}return f}return function(c,d){var e=a.core.func.getType(c)=="string";var f=b(e?c:c.innerHTML,d);var g=c;if(e){g=a.C("div");g.innerHTML=c}var h,i,j;j=a.core.dom.sizzle("[node-type]",g);i={};for(h in f){i[h]=a.core.dom.sizzle.matches(f[h].toString(),j)}var k=c;if(e){k=a.C("buffer");while(g.children[0]){k.appendChild(g.children[0])}}return{box:k,list:i}}});STK.register("core.obj.beget",function(a){var b=function(){};return function(a){b.prototype=a;return new b}});STK.register("core.dom.setStyle",function(a){return function(b,c,d){if(a.IE){switch(c){case"opacity":b.style.filter="alpha(opacity="+d*100+")";if(!b.currentStyle||!b.currentStyle.hasLayout){b.style.zoom=1}break;case"float":c="styleFloat";default:b.style[c]=d}}else{if(c=="float"){c="cssFloat"}b.style[c]=d}}});STK.register("core.dom.insertAfter",function(a){return function(a,b){var c=b.parentNode;if(c.lastChild==b){c.appendChild(a)}else{c.insertBefore(a,b.nextSibling)}}});STK.register("core.dom.insertBefore",function(a){return function(a,b){var c=b.parentNode;c.insertBefore(a,b)}});STK.register("core.dom.removeClassName",function(a){return function(b,c){if(b.nodeType===1){if(a.core.dom.hasClassName(b,c)){b.className=b.className.replace(new RegExp("(^|\\s)"+c+"($|\\s)")," ")}}}});STK.register("core.dom.trimNode",function(a){return function(a){var b=a.childNodes;for(var c=b.length-1;c>=0;c-=1){if(b[c]&&(b[c].nodeType==3||b[c].nodeType==8)){a.removeChild(b[c])}}}});STK.register("core.dom.removeNode",function(a){return function(b){b=a.E(b)||b;try{b.parentNode.removeChild(b)}catch(c){}}});STK.register("core.evt.addEvent",function(a){return function(b,c,d){var e=a.E(b);if(e==null){return false}c=c||"click";if((typeof d).toLowerCase()!="function"){return}if(e.addEventListener){e.addEventListener(c,d,false)}else if(e.attachEvent){e.attachEvent("on"+c,d)}else{e["on"+c]=d}return true}});STK.register("core.evt.removeEvent",function(a){return function(b,c,d,e){var f=a.E(b);if(f==null){return false}if(typeof d!="function"){return false}if(f.removeEventListener){f.removeEventListener(c,d,e)}else if(f.detachEvent){f.detachEvent("on"+c,d)}else{f["on"+c]=null}return true}});STK.register("core.evt.fireEvent",function(a){return function(b,c){var d=a.E(b);if(d.addEventListener){var e=document.createEvent("HTMLEvents");e.initEvent(c,true,true);d.dispatchEvent(e)}else{d.fireEvent("on"+c)}}});STK.register("core.util.scrollPos",function(a){return function(a){a=a||document;var b=a.documentElement;var c=a.body;return{top:Math.max(window.pageYOffset||0,b.scrollTop,c.scrollTop),left:Math.max(window.pageXOffset||0,b.scrollLeft,c.scrollLeft)}}});STK.register("core.util.browser",function(a){var b=navigator.userAgent.toLowerCase();var c=window.external||"";var d,e,f,g,h;var i=function(a){var b=0;return parseFloat(a.replace(/\./g,function(){return b++==1?"":"."}))};try{if(/windows|win32/i.test(b)){h="windows"}else if(/macintosh/i.test(b)){h="macintosh"}else if(/rhino/i.test(b)){h="rhino"}if((e=b.match(/applewebkit\/([^\s]*)/))&&e[1]){d="webkit";g=i(e[1])}else if((e=b.match(/presto\/([\d.]*)/))&&e[1]){d="presto";g=i(e[1])}else if(e=b.match(/msie\s([^;]*)/)){d="trident";g=1;if((e=b.match(/trident\/([\d.]*)/))&&e[1]){g=i(e[1])}}else if(/gecko/.test(b)){d="gecko";g=1;if((e=b.match(/rv:([\d.]*)/))&&e[1]){g=i(e[1])}}if(/world/.test(b)){f="world"}else if(/360se/.test(b)){f="360"}else if(/maxthon/.test(b)||typeof c.max_version=="number"){f="maxthon"}else if(/tencenttraveler\s([\d.]*)/.test(b)){f="tt"}else if(/se\s([\d.]*)/.test(b)){f="sogou"}}catch(j){}var k={OS:h,CORE:d,Version:g,EXTRA:f?f:false,IE:/msie/.test(b),OPERA:/opera/.test(b),MOZ:/gecko/.test(b)&&!/(compatible|webkit)/.test(b),IE5:/msie 5 /.test(b),IE55:/msie 5.5/.test(b),IE6:/msie 6/.test(b),IE7:/msie 7/.test(b),IE8:/msie 8/.test(b),IE9:/msie 9/.test(b),SAFARI:!/chrome\/([\d.]*)/.test(b)&&/\/([\d.]*) safari/.test(b),CHROME:/chrome\/([\d.]*)/.test(b),IPAD:/\(ipad/i.test(b),IPHONE:/\(iphone/i.test(b),ITOUCH:/\(itouch/i.test(b),MOBILE:/mobile/i.test(b)};return k});STK.register("core.dom.position",function(a){var b=function(b){var c,d,e,f,g,h;c=b.getBoundingClientRect();d=a.core.util.scrollPos();e=b.ownerDocument.body;f=b.ownerDocument.documentElement;g=f.clientTop||e.clientTop||0;h=f.clientLeft||e.clientLeft||0;return{l:parseInt(c.left+d["left"]-h,10)||0,t:parseInt(c.top+d["top"]-g,10)||0}};var c=function(b,c){var d,e;d=[b.offsetLeft,b.offsetTop];e=b.offsetParent;if(e!==b&&e!==c){while(e){d[0]+=e.offsetLeft;d[1]+=e.offsetTop;e=e.offsetParent}}if(a.core.util.browser.OPERA!=-1||a.core.util.browser.SAFARI!=-1&&b.style.position=="absolute"){d[0]-=document.body.offsetLeft;d[1]-=document.body.offsetTop}if(b.parentNode){e=b.parentNode}else{e=null}while(e&&!/^body|html$/i.test(e.tagName)&&e!==c){if(e.style.display.search(/^inline|table-row.*$/i)){d[0]-=e.scrollLeft;d[1]-=e.scrollTop}e=e.parentNode}return{l:parseInt(d[0],10),t:parseInt(d[1],10)}};return function(d,e){if(d==document.body){return false}if(d.parentNode==null){return false}if(d.style.display=="none"){return false}var f=a.core.obj.parseParam({parent:null},e);if(d.getBoundingClientRect){if(f.parent){var g=b(d);var h=b(f.parent);return{l:g.l-h.l,t:g.t-h.t}}else{return b(d)}}else{return c(d,f.parent||document.body)}}});STK.register("core.dom.setXY",function(a){return function(b,c){var d=a.core.dom.getStyle(b,"position");if(d=="static"){a.core.dom.setStyle(b,"position","relative");d="relative"}var e=a.core.dom.position(b);if(e==false){return}var f={l:parseInt(a.core.dom.getStyle(b,"left"),10),t:parseInt(a.core.dom.getStyle(b,"top"),10)};if(isNaN(f["l"])){f["l"]=d=="relative"?0:b.offsetLeft}if(isNaN(f["t"])){f["t"]=d=="relative"?0:b.offsetTop}if(c["l"]!=null){b.style.left=c["l"]-e["l"]+f["l"]+"px"}if(c["t"]!=null){b.style.top=c["t"]-e["t"]+f["t"]+"px"}}});STK.register("core.str.encodeHTML",function(a){return function(a){if(typeof a!=="string"){throw"encodeHTML need a string as parameter"}return a.replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\u00A0/g,"&nbsp;").replace(/(\u0020|\u000B|\u2028|\u2029|\f)/g,"&#32;")}});STK.register("core.str.decodeHTML",function(a){return function(a){if(typeof a!=="string"){throw"decodeHTML need a string as parameter"}return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&nbsp;/g,"?").replace(/&#32;/g," ").replace(/&amp;/g,"&")}});STK.register("core.dom.cascadeNode",function(a){return function(b){var c={};var d=b.style.display||"";d=d==="none"?"":d;var e=[];c.setStyle=function(e,f){a.core.dom.setStyle(b,e,f);if(e==="display"){d=f==="none"?"":f}return c};c.insertAfter=function(d){a.core.dom.insertAfter(d,b);return c};c.insertBefore=function(d){a.core.dom.insertBefore(d,b);return c};c.addClassName=function(d){a.core.dom.addClassName(b,d);return c};c.removeClassName=function(d){a.core.dom.removeClassName(b,d);return c};c.trimNode=function(){a.core.dom.trimNode(b);return c};c.removeNode=function(){a.core.dom.removeNode(b);return c};c.on=function(d,f){for(var g=0,h=e.length;g<h;g+=1){if(e[g]["fn"]===f&&e[g]["type"]===d){return c}}e.push({fn:f,type:d});a.core.evt.addEvent(b,d,f);return c};c.unon=function(d,f){for(var g=0,h=e.length;g<h;g+=1){if(e[g]["fn"]===f&&e[g]["type"]===d){a.core.evt.removeEvent(b,f,d);e.splice(g,1);break}}return c};c.fire=function(d){a.core.evt.fireEvent(d,b);return c};c.appendChild=function(a){b.appendChild(a);return c};c.removeChild=function(a){b.removeChild(a);return c};c.toggle=function(){if(b.style.display==="none"){b.style.display=d}else{b.style.display="none"}return c};c.show=function(){if(b.style.display==="none"){if(d==="none"){b.style.display=""}else{b.style.display=d}}return c};c.hidd=function(){if(b.style.display!=="none"){b.style.display="none"}return c};c.hide=c.hidd;c.scrollTo=function(a,d){if(a==="left"){b.scrollLeft=d}if(a==="top"){b.scrollTop=d}return c};c.replaceChild=function(a,d){b.replaceChild(a,d);return c};c.position=function(c){if(c!==undefined){a.core.dom.setXY(b,c)}return a.core.dom.position(b)};c.setPosition=function(d){if(d!==undefined){a.core.dom.setXY(b,d)}return c};c.getPosition=function(c){return a.core.dom.position(b)};c.html=function(a){if(a!==undefined){b.innerHTML=a}return b.innerHTML};c.setHTML=function(a){if(a!==undefined){b.innerHTML=a}return c};c.getHTML=function(){return b.innerHTML};c.text=function(c){if(c!==undefined){b.innerHTML=a.core.str.encodeHTML(c)}return a.core.str.decodeHTML(b.innerHTML)};c.ttext=c.text;c.setText=function(d){if(d!==undefined){b.innerHTML=a.core.str.encodeHTML(d)}return c};c.getText=function(){return a.core.str.decodeHTML(b.innerHTML)};c.get=function(c){if(c==="node"){return b}return a.core.dom.getStyle(b,c)};c.getStyle=function(c){return a.core.dom.getStyle(b,c)};c.getOriginNode=function(){return b};c.destroy=function(){for(var c=0,f=e;c<f;c+=1){a.core.evt.removeEvent(b,e[c]["fn"],e[c]["type"])}d=null;e=null;b=null};return c}});STK.register("core.dom.contains",function(a){return function(a,b){if(a===b){return false}else if(a.compareDocumentPosition){return(a.compareDocumentPosition(b)&16)===16}else if(a.contains&&b.nodeType===1){return a.contains(b)}else{while(b=b.parentNode){if(a===b){return true}}}return false}});STK.register("core.util.hideContainer",function(a){var b;var c=function(){if(b)return;b=a.C("div");b.style.cssText="position:absolute;top:-9999px;left:-9999px;";document.getElementsByTagName("head")[0].appendChild(b)};var d={appendChild:function(d){if(a.core.dom.isNode(d)){c();b.appendChild(d)}},removeChild:function(c){if(a.core.dom.isNode(c)){b&&b.removeChild(c)}}};return d});STK.register("core.dom.getSize",function(a){var b=function(b){if(!a.core.dom.isNode(b)){throw"core.dom.getSize need Element as first parameter"}return{width:b.offsetWidth,height:b.offsetHeight}};var c=function(a){var c=null;if(a.style.display==="none"){a.style.visibility="hidden";a.style.display="";c=b(a);a.style.display="none";a.style.visibility="visible"}else{c=b(a)}return c};return function(b){var d={};if(!b.parentNode){a.core.util.hideContainer.appendChild(b);d=c(b);a.core.util.hideContainer.removeChild(b)}else{d=c(b)}return d}});STK.register("core.dom.textSelectArea",function(a){return function(a){var b={start:0,len:0};if(typeof a.selectionStart==="number"){b.start=a.selectionStart;b.len=a.selectionEnd-a.selectionStart}else if(typeof document.selection!==undefined){var c=document.selection.createRange();if(a.tagName==="INPUT"){var d=a.createTextRange()}else if(a.tagName==="TEXTAREA"){var d=c.duplicate();d.moveToElementText(a)}d.setEndPoint("EndToStart",c);b.start=d.text.length;b.len=c.text.length;c=null;d=null}return b}});STK.register("core.dom.insertHTML",function(a){return function(b,c,d){b=a.E(b)||document.body;d=d?d.toLowerCase():"beforeend";if(b.insertAdjacentHTML){switch(d){case"beforebegin":b.insertAdjacentHTML("BeforeBegin",c);return b.previousSibling;case"afterbegin":b.insertAdjacentHTML("AfterBegin",c);return b.firstChild;case"beforeend":b.insertAdjacentHTML("BeforeEnd",c);return b.lastChild;case"afterend":b.insertAdjacentHTML("AfterEnd",c);return b.nextSibling}throw'Illegal insertion point -> "'+d+'"'}else{var e=b.ownerDocument.createRange();var f;switch(d){case"beforebegin":e.setStartBefore(b);f=e.createContextualFragment(c);b.parentNode.insertBefore(f,b);return b.previousSibling;case"afterbegin":if(b.firstChild){e.setStartBefore(b.firstChild);f=e.createContextualFragment(c);b.insertBefore(f,b.firstChild);return b.firstChild}else{b.innerHTML=c;return b.firstChild}break;case"beforeend":if(b.lastChild){e.setStartAfter(b.lastChild);f=e.createContextualFragment(c);b.appendChild(f);return b.lastChild}else{b.innerHTML=c;return b.lastChild}break;case"afterend":e.setStartAfter(b);f=e.createContextualFragment(c);b.parentNode.insertBefore(f,b.nextSibling);return b.nextSibling}throw'Illegal insertion point -> "'+d+'"'}}});STK.register("core.dom.insertElement",function(a){return function(b,c,d){b=a.E(b)||document.body;d=d?d.toLowerCase():"beforeend";switch(d){case"beforebegin":b.parentNode.insertBefore(c,b);break;case"afterbegin":b.insertBefore(c,b.firstChild);break;case"beforeend":b.appendChild(c);break;case"afterend":if(b.nextSibling){b.parentNode.insertBefore(c,b.nextSibling)}else{b.parentNode.appendChild(c)}break}}});STK.register("core.dom.next",function(a){return function(a){var b=a.nextSibling;if(!b){return null}else if(b.nodeType!==1){b=arguments.callee(b)}return b}});STK.register("core.dom.prev",function(a){return function(a){var b=a.previousSibling;if(!b)return null;else if(b.nodeType!==1){b=arguments.callee(b)}return b}});STK.register("core.dom.replaceNode",function(a){return function(a,b){if(a==null||b==null){throw"replaceNode need node as paramster"}b.parentNode.replaceChild(a,b)}});STK.register("core.dom.ready",function(a){var b=[];var c=false;var d=a.core.func.getType;var e=a.core.util.browser;var f=a.core.evt.addEvent;var g=function(){if(!c){if(document.readyState==="complete"){return true}}return c};var h=function(){if(c==true){return}c=true;for(var a=0,e=b.length;a<e;a++){if(d(b[a])==="function"){try{b[a].call()}catch(f){}}}b=[]};var i=function(){if(g()){h();return}try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,25);return}h()};var j=function(){if(g()){h();return}setTimeout(arguments.callee,25)};var k=function(){f(document,"DOMContentLoaded",h)};var l=function(){f(window,"load",h)};if(!g()){if(a.IE&&window===window.top){i()}k();j();l()}return function(a){if(g()){if(d(a)==="function"){a.call()}}else{b.push(a)}}});STK.register("core.dom.selector",function(a){var b=function(b,c,d,e){var f=[];if(typeof b==="string"){var g=a.core.dom.sizzle(b,c,d,e);for(var h=0,i=g.length;h<i;h+=1){f[h]=g[h]}}else if(a.core.dom.isNode(b)){if(c){if(a.core.dom.contains(c,b)){f=[b]}}else{f=[b]}}else if(a.core.arr.isArray(b)){if(c){for(var h=0,i=b.length;h<i;h+=1){if(a.core.dom.contains(c,b[h])){f.push(b[h])}}}else{f=b}}return f};return function(c,d,e,f){var g=b.apply(window,arguments);g.on=function(b,c){for(var d=0,e=g.length;d<e;d+=1){a.core.evt.addEvent(g[d],b,c)}return g};g.css=function(b,c){for(var d=0,e=g.length;d<e;d+=1){a.core.dom.setStyle(g[d],b,c)}return g};g.show=function(){for(var a=0,b=g.length;a<b;a+=1){g[a].style.display=""}return g};g.hidd=function(){for(var a=0,b=g.length;a<b;a+=1){g[a].style.display="none"}return g};g.hide=g.hidd;return g}});STK.register("core.dom.selectText",function(){return function(a,b){var c=b.start;var d=b.len||0;a.focus();if(a.setSelectionRange){a.setSelectionRange(c,c+d)}else if(a.createTextRange){var e=a.createTextRange();e.collapse(1);e.moveStart("character",c);e.moveEnd("character",d);e.select()}}});STK.register("core.dom.setStyles",function(a){return function(b,c,d){if(!a.core.arr.isArray(b))var b=[b];for(var e=0,f=b.length;e<f;e++){a.core.dom.setStyle(b[e],c,d)}return b}});STK.register("core.util.getUniqueKey",function(a){var b=(new Date).getTime().toString(),c=1;return function(){return b+c++}});STK.register("core.dom.uniqueID",function(a){return function(b){return b&&(b.uniqueID||(b.uniqueID=a.core.util.getUniqueKey()))}});STK.register("core.evt.custEvent",function(a){var b="__custEventKey__",c=1,d={},e=function(a,c){var e=typeof a=="number"?a:a[b];return e&&d[e]&&{obj:typeof c=="string"?d[e][c]:d[e],key:e}};return{define:function(a,e){if(a&&e){var f=typeof a=="number"?a:a[b]||(a[b]=c++),g=d[f]||(d[f]={});e=[].concat(e);for(var h=0;h<e.length;h++){g[e[h]]||(g[e[h]]=[])}return f}},undefine:function(a,c){if(a){var e=typeof a=="number"?a:a[b];if(e&&d[e]){if(c){c=[].concat(c);for(var f=0;f<c.length;f++){if(c[f]in d[e])delete d[e][c[f]]}}else{delete d[e]}}}},add:function(a,b,c,d){if(a&&typeof b=="string"&&c){var f=e(a,b);if(!f||!f.obj){throw"custEvent ("+b+") is undefined !"}f.obj.push({fn:c,data:d});return f.key}},once:function(a,b,c,d){if(a&&typeof b=="string"&&c){var f=e(a,b);if(!f||!f.obj){throw"custEvent ("+b+") is undefined !"}f.obj.push({fn:c,data:d,once:true});return f.key}},remove:function(b,c,d){if(b){var f=e(b,c),g,h;if(f&&(g=f.obj)){if(a.core.arr.isArray(g)){if(d){var i=0;while(g[i]){if(g[i].fn===d){break}i++}g.splice(i,1)}else{g.splice(0,g.length)}}else{for(var i in g){g[i]=[]}}return f.key}}},fire:function(b,c,d){if(b&&typeof c=="string"){var f=e(b,c),g;if(f&&(g=f.obj)){if(!a.core.arr.isArray(d)){d=d!=undefined?[d]:[]}for(var h=g.length-1;h>-1&&g[h];h--){var i=g[h].fn;var j=g[h].once;if(i&&i.apply){try{i.apply(b,[{type:c,data:g[h].data}].concat(d));if(j){g.splice(h,1)}}catch(k){a.log("[error][custEvent]"+k.message)}}}return f.key}}},destroy:function(){d={};c=1}}});STK.register("core.str.trim",function(a){return function(a){if(typeof a!=="string"){throw"trim need a string as parameter"}var b=a.length;var c=0;var d=/(\u3000|\s|\t|\u00A0)/;while(c<b){if(!d.test(a.charAt(c))){break}c+=1}while(b>c){if(!d.test(a.charAt(b-1))){break}b-=1}return a.slice(c,b)}});STK.register("core.json.queryToJson",function(a){return function(b,c){var d=a.core.str.trim(b).split("&");var e={};var f=function(a){if(c){return decodeURIComponent(a)}else{return a}};for(var g=0,h=d.length;g<h;g++){if(d[g]){var i=d[g].split("=");var j=i[0];var k=i[1];if(i.length<2){k=j;j="$nullName"}if(!e[j]){e[j]=f(k)}else{if(a.core.arr.isArray(e[j])!=true){e[j]=[e[j]]}e[j].push(f(k))}}}return e}});STK.register("core.evt.getEvent",function(a){return function(){if(a.IE){return window.event}else{if(window.event){return window.event}var b=arguments.callee.caller;var c;var d=0;while(b!=null&&d<40){c=b.arguments[0];if(c&&(c.constructor==Event||c.constructor==MouseEvent||c.constructor==KeyboardEvent)){return c}d++;b=b.caller}return c}}});STK.register("core.evt.fixEvent",function(a){return function(b){b=b||a.core.evt.getEvent();if(!b.target){b.target=b.srcElement;b.pageX=b.x;b.pageY=b.y}if(typeof b.layerX=="undefined")b.layerX=b.offsetX;if(typeof b.layerY=="undefined")b.layerY=b.offsetY;return b}});STK.register("core.obj.isEmpty",function(a){return function(a,b){var c=true;for(var d in a){if(b){c=false;break}else{if(a.hasOwnProperty(d)){c=false;break}}}return c}});STK.register("core.evt.delegatedEvent",function(a){var b=function(b,c){for(var d=0,e=b.length;d<e;d+=1){if(a.core.dom.contains(b[d],c)){return true}}return false};return function(c,d){if(!a.core.dom.isNode(c)){throw"core.evt.delegatedEvent need an Element as first Parameter"}if(!d){d=[]}if(a.core.arr.isArray(d)){d=[d]}var e={};var f=function(f){var g=a.core.evt.fixEvent(f);var h=g.target;var i=f.type;var j=null;var k=function(){var b,d,e;b=h.getAttribute("action-target");if(b){d=a.core.dom.sizzle(b,c);if(d.length){e=g.target=d[0]}}k=a.core.func.empty;return e};var l=function(){var b=k()||h;if(e[i]&&e[i][j]){return e[i][j]({evt:g,el:b,box:c,data:a.core.json.queryToJson(b.getAttribute("action-data")||"")})}else{return true}};if(b(d,h)){return false}else if(!a.core.dom.contains(c,h)){return false}else{while(h&&h!==c){if(h.nodeType===1){j=h.getAttribute("action-type");if(j&&l()===false){break}}h=h.parentNode}}};var g={};g.add=function(b,d,g){if(!e[d]){e[d]={};a.core.evt.addEvent(c,d,f)}var h=e[d];h[b]=g};g.remove=function(b,d){if(e[d]){delete e[d][b];if(a.core.obj.isEmpty(e[d])){delete e[d];a.core.evt.removeEvent(c,d,f)}}};g.pushExcept=function(a){d.push(a)};g.removeExcept=function(a){if(!a){d=[]}else{for(var b=0,c=d.length;b<c;b+=1){if(d[b]===a){d.splice(b,1)}}}};g.clearExcept=function(a){d=[]};g.destroy=function(){for(var b in e){for(var d in e[b]){delete e[b][d]}delete e[b];a.core.evt.removeEvent(c,b,f)}};return g}});STK.register("core.evt.getActiveElement",function(a){return function(){try{var b=a.core.evt.getEvent();return document.activeElement?document.activeElement:b.explicitOriginalTarget}catch(c){return document.body}}});STK.register("core.evt.hitTest",function(a){function b(b){var c=STK.E(b);var d=a.core.dom.position(c);var e={left:d.l,top:d.t,right:d.l+c.offsetWidth,bottom:d.t+c.offsetHeight};return e}return function(c,d){var e=b(c);if(d==null){d=a.core.evt.getEvent()}else if(d.nodeType==1){var f=b(d);if(e.right>f.left&&e.left<f.right&&e.bottom>f.top&&e.top<f.bottom){return true}return false}else if(d.clientX==null){throw"core.evt.hitTest: ["+d+":oEvent] is not a valid value"}var g=a.core.util.scrollPos();var h=d.clientX+g.left;var i=d.clientY+g.top;return h>=e.left&&h<=e.right&&i>=e.top&&i<=e.bottom?true:false}});STK.register("core.evt.stopEvent",function(a){return function(b){var c=b?b:a.core.evt.getEvent();if(a.IE){c.cancelBubble=true;c.returnValue=false}else{c.preventDefault();c.stopPropagation()}return false}});STK.register("core.evt.preventDefault",function(a){return function(b){var c=b?b:a.core.evt.getEvent();if(a.IE){c.returnValue=false}else{c.preventDefault()}}});STK.register("core.evt.hotKey",function(a){var b=a.core.dom.uniqueID;var c={reg1:/^keypress|keydown|keyup$/,keyMap:{27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scrollclock",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"delete",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",191:"/",17:"ctrl",16:"shift",109:"-",107:"=",219:"[",221:"]",220:"\\",222:"'",187:"=",188:",",189:"-",190:".",191:"/",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",110:".",111:"/"},keyEvents:{}};c.preventDefault=function(){this.returnValue=false};c.handler=function(a){a=a||window.event;if(!a.target){a.target=a.srcElement||document}if(!a.which&&(a.charCode||a.charCode===0?a.charCode:a.keyCode)){a.which=a.charCode||a.keyCode}if(!a.preventDefault)a.preventDefault=c.preventDefault;var d=b(this),e,f;if(d&&(e=c.keyEvents[d])&&(f=e[a.type])){var g;switch(a.type){case"keypress":if(a.ctrlKey||a.altKey)return;if(a.which==13)g=c.keyMap[13];if(a.which==32)g=c.keyMap[32];if(a.which>=33&&a.which<=126)g=String.fromCharCode(a.which);break;case"keyup":case"keydown":if(c.keyMap[a.which]){g=c.keyMap[a.which]}if(!g){if(a.which>=48&&a.which<=57){g=String.fromCharCode(a.which)}else if(a.which>=65&&a.which<=90){g=String.fromCharCode(a.which+32)}}if(g&&a.type=="keydown"){e.linkedKey+=e.linkedKey?">"+g:g;if(a.altKey)g="alt+"+g;if(a.shiftKey)g="shift+"+g;if(a.ctrlKey)g="ctrl+"+g}break}var h=/^select|textarea|input$/.test(a.target.nodeName.toLowerCase());if(g){var i=[],j=false;if(e.linkedKey&&e.linkKeyStr){if(e.linkKeyStr.indexOf(" "+e.linkedKey)!=-1){if(e.linkKeyStr.indexOf(" "+e.linkedKey+" ")!=-1){i=i.concat(f[e.linkedKey]);e.linkedKey=""}j=true}else{e.linkedKey=""}}if(!j)i=i.concat(f[g]);for(var k=0;k<i.length;k++){if(i[k]&&(!i[k].disableInInput||!h))i[k].fn.apply(this,[a,i[k].key])}}}};var d=function(b,d,e,f){var g={};if(!a.core.dom.isNode(b)||a.core.func.getType(e)!=="function"){return g}if(typeof d!=="string"||!(d=d.replace(/\s*/g,""))){return g}if(!f)f={};if(!f.disableInInput)f.disableInInput=false;if(!f.type)f.type="keypress";f.type=f.type.replace(/\s*/g,"");if(!c.reg1.test(f.type)||f.disableInInput&&/^select|textarea|input$/.test(b.nodeName.toLowerCase())){return g}if(d.length>1||f.type!="keypress")d=d.toLowerCase();if(!/(^(\+|>)$)|(^([^\+>]+)$)/.test(d)){var h="";if(/((ctrl)|(shift)|(alt))\+(\+|([^\+]+))$/.test(d)){if(d.indexOf("ctrl+")!=-1)h+="ctr+";if(d.indexOf("shift+")!=-1)h+="shift+";if(d.indexOf("alt+")!=-1)h+="alt+";h+=d.match(/\+(([^\+]+)|(\+))$/)[1]}else if(!/(^>)|(>$)|>>/.test(d)&&d.length>2){g.linkFlag=true}else{return g}f.type="keydown"}g.keys=d;g.fn=e;g.opt=f;return g};var e={add:function(f,g,h,i){if(a.core.arr.isArray(g)){for(var j=0;j<g.length;j++){e.add(f,g[j],h,i)}return}var k=d(f,g,h,i);if(!k.keys)return;g=k.keys;h=k.fn;i=k.opt;var l=k.linkFlag;var m=b(f);if(!c.keyEvents[m])c.keyEvents[m]={linkKeyStr:"",linkedKey:""};if(!c.keyEvents[m].handler){c.keyEvents[m].handler=function(){c.handler.apply(f,arguments)}}if(l&&c.keyEvents[m].linkKeyStr.indexOf(" "+g+" ")==-1){c.keyEvents[m].linkKeyStr+=" "+g+" "}var n=i.type;if(!c.keyEvents[m][n]){c.keyEvents[m][n]={};a.core.evt.addEvent(f,n,c.keyEvents[m].handler)}if(!c.keyEvents[m][n][g])c.keyEvents[m][n][g]=[];c.keyEvents[m][n][g].push({fn:h,disableInInput:i.disableInInput,key:g})},remove:function(f,g,h,i){if(a.core.arr.isArray(g)){for(var j=0;j<g.length;j++){e.remove(f,g[j],h,i)}return}var k=d(f,g,h,i);if(!k.keys)return;g=k.keys;h=k.fn;i=k.opt;var l=k.linkFlag;var m=b(f),n,o,p;var q=i.type;if(m&&(n=c.keyEvents[m])&&(o=n[q])&&n.handler&&(p=o[g])){for(var j=0;j<p.length;){if(p[j].fn===h){p.splice(j,1)}else{j++}}if(p.length<1){delete o[g]}var r=false;for(var s in o){r=true;break}if(!r){a.core.evt.removeEvent(f,q,n.handler);delete n[q]}if(l&&n.linkKeyStr){n.linkKeyStr=n.linkKeyStr.replace(" "+g+" ","")}}}};return e});STK.register("core.func.bind",function(a){return function(b,c,d){d=a.core.arr.isArray(d)?d:[d];return function(){return c.apply(b,d)}}});STK.register("core.func.memorize",function(a){return function(a,b){if(typeof a!=="function"){throw"core.func.memorize need a function as first parameter"}b=b||{};var c={};if(b.timeout){setInterval(function(){c={}},b.timeout)}return function(){var d=Array.prototype.join.call(arguments,"_");if(!(d in c)){c[d]=a.apply(b.context||{},arguments)}return c[d]}}});STK.register("core.func.methodBefore",function(a){return function(){var b=false;var c=[];var d={};d.add=function(d,e){var f=a.core.obj.parseParam({args:[],pointer:window,top:false},e);if(f.top==true){c.unshift([d,f.args,f.pointer])}else{c.push([d,f.args,f.pointer])}return!b};d.start=function(){var a,d,e,f,g;if(b==true){return}b=true;for(a=0,d=c.length;a<d;a++){e=c[a][0];f=c[a][1];g=c[a][2];e.apply(g,f)}};d.reset=function(){c=[];b=false};d.getList=function(){return c};return d}});STK.register("core.func.timedChunk",function(a){var b={process:function(a){if(typeof a==="function"){a()}},context:{},callback:null,delay:25,execTime:50};return function(c,d){if(!a.core.arr.isArray(c)){throw"core.func.timedChunk need an array as first parameter"}var e=c.concat();var f=a.core.obj.parseParam(b,d);var g=null;var h=function(){var a=+(new Date);do{f.process.call(f.context,e.shift())}while(e.length>0&&+(new Date)-a<f.execTime);if(e.length<=0){if(f.callback){f.callback(c)}}else{setTimeout(arguments.callee,f.delay)}};g=setTimeout(h,f.delay)}});STK.register("core.io.getXHR",function(a){return function(){var a=false;try{a=new XMLHttpRequest}catch(b){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){a=false}}}return a}});STK.register("core.str.parseURL",function(a){return function(a){var b=/^(?:([A-Za-z]+):(\/{0,3}))?([0-9.\-A-Za-z]+\.[0-9A-Za-z]+)?(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;var c=["url","scheme","slash","host","port","path","query","hash"];var d=b.exec(a);var e={};for(var f=0,g=c.length;f<g;f+=1){e[c[f]]=d[f]||""}return e}});STK.register("core.json.jsonToQuery",function(a){var b=function(b,c){b=b==null?"":b;b=a.core.str.trim(b.toString());if(c){return encodeURIComponent(b)}else{return b}};return function(a,c){var d=[];if(typeof a=="object"){for(var e in a){if(e==="$nullName"){d=d.concat(a[e]);continue}if(a[e]instanceof Array){for(var f=0,g=a[e].length;f<g;f++){d.push(e+"="+b(a[e][f],c))}}else{if(typeof a[e]!="function"){d.push(e+"="+b(a[e],c))}}}}if(d.length){return d.join("&")}else{return""}}});STK.register("core.util.URL",function(a){return function(b,c){var d=a.core.obj.parseParam({isEncodeQuery:false,isEncodeHash:false},c||{});var e={};var f=a.core.str.parseURL(b);var g=a.core.json.queryToJson(f.query);var h=a.core.json.queryToJson(f.hash);e.setParam=function(a,b){g[a]=b;return this};e.getParam=function(a){return g[a]};e.setParams=function(a){for(var b in a){e.setParam(b,a[b])}return this};e.setHash=function(a,b){h[a]=b;return this};e.getHash=function(a){return h[a]};e.valueOf=e.toString=function(){var b=[];var c=a.core.json.jsonToQuery(g,d.isEncodeQuery);var e=a.core.json.jsonToQuery(h,d.isEncodeQuery);if(f.scheme!=""){b.push(f.scheme+":");b.push(f.slash)}if(f.host!=""){b.push(f.host);if(f.port!=""){b.push(":");b.push(f.port)}}b.push("/");b.push(f.path);if(c!=""){b.push("?"+c)}if(e!=""){b.push("#"+e)}return b.join("")};return e}});STK.register("core.io.ajax",function($){return function(oOpts){var opts=$.core.obj.parseParam({url:"",charset:"UTF-8",timeout:30*1e3,args:{},onComplete:null,onTimeout:$.core.func.empty,uniqueID:null,onFail:$.core.func.empty,method:"get",asynchronous:true,header:{},isEncode:false,responseType:"json"},oOpts);if(opts.url==""){throw"ajax need url in parameters object"}var tm;var trans=$.core.io.getXHR();var cback=function(){if(trans.readyState==4){clearTimeout(tm);var data="";if(opts["responseType"]==="xml"){data=trans.responseXML}else if(opts["responseType"]==="text"){data=trans.responseText}else{try{if(trans.responseText&&typeof trans.responseText==="string"){data=eval("("+trans.responseText+")")}else{data={}}}catch(exp){data=opts["url"]+"return error : data error"}}if(trans.status==200){if(opts["onComplete"]!=null){opts["onComplete"](data)}}else if(trans.status==0){}else{if(opts["onFail"]!=null){opts["onFail"](data,trans)}}}else{if(opts["onTraning"]!=null){opts["onTraning"](trans)}}};trans.onreadystatechange=cback;if(!opts["header"]["Content-Type"]){opts["header"]["Content-Type"]="application/x-www-form-urlencoded"}if(!opts["header"]["X-Requested-With"]){opts["header"]["X-Requested-With"]="XMLHttpRequest"}if(opts["method"].toLocaleLowerCase()=="get"){var url=$.core.util.URL(opts["url"],{isEncodeQuery:opts["isEncode"]});url.setParams(opts["args"]);url.setParam("__rnd",(new Date).valueOf());trans.open(opts["method"],url,opts["asynchronous"]);try{for(var k in opts["header"]){trans.setRequestHeader(k,opts["header"][k])}}catch(exp){}trans.send("")}else{trans.open(opts["method"],opts["url"],opts["asynchronous"]);try{for(var k in opts["header"]){trans.setRequestHeader(k,opts["header"][k])}}catch(exp){}trans.send($.core.json.jsonToQuery(opts["args"],opts["isEncode"]))}if(opts["timeout"]){tm=setTimeout(function(){try{trans.abort();opts["onTimeout"]({},trans);opts["onFail"]({},trans)}catch(a){}},opts["timeout"])}return trans}});STK.register("core.io.scriptLoader",function(a){var b={};var c={url:"",charset:"UTF-8",timeout:30*1e3,args:{},onComplete:a.core.func.empty,onTimeout:null,isEncode:false,uniqueID:null};return function(d){var e,f;var g=a.core.obj.parseParam(c,d);if(g.url==""){throw"scriptLoader: url is null"}var h=g.uniqueID||a.core.util.getUniqueKey();e=b[h];if(e!=null&&a.IE!=true){a.core.dom.removeNode(e);e=null}if(e==null){e=b[h]=a.C("script")}e.charset=g.charset;e.id="scriptRequest_script_"+h;e.type="text/javascript";if(g.onComplete!=null){if(a.IE){e["onreadystatechange"]=function(){if(e.readyState.toLowerCase()=="loaded"||e.readyState.toLowerCase()=="complete"){try{clearTimeout(f);document.getElementsByTagName("head")[0].removeChild(e);e["onreadystatechange"]=null}catch(a){}g.onComplete()}}}else{e["onload"]=function(){try{clearTimeout(f);a.core.dom.removeNode(e)}catch(b){}g.onComplete()}}}e.src=STK.core.util.URL(g.url,{isEncodeQuery:g["isEncode"]}).setParams(g.args);document.getElementsByTagName("head")[0].appendChild(e);if(g.timeout>0&&g.onTimeout!=null){f=setTimeout(function(){try{document.getElementsByTagName("head")[0].removeChild(e)}catch(a){}g.onTimeout()},g.timeout)}return e}});STK.register("core.io.jsonp",function(a){return function(b){var c=a.core.obj.parseParam({url:"",charset:"UTF-8",timeout:30*1e3,args:{},onComplete:null,onTimeout:null,responseName:null,isEncode:false,varkey:"callback"},b);var d=-1;var e=c.responseName||"STK_"+a.core.util.getUniqueKey();c.args[c.varkey]=e;var f=c.onComplete;var g=c.onTimeout;window[e]=function(a){if(d!=2&&f!=null){d=1;f(a)}};c.onComplete=null;c.onTimeout=function(){if(d!=1&&g!=null){d=2;g()}};return a.core.io.scriptLoader(c)}});STK.register("core.util.templet",function(a){return function(a,b){return a.replace(/#\{(.+?)\}/ig,function(){var a=arguments[1].replace(/\s/ig,"");var c=arguments[0];var d=a.split("||");for(var e=0,f=d.length;e<f;e+=1){if(/^default:.*$/.test(d[e])){c=d[e].replace(/^default:/,"");break}else if(b[d[e]]!==undefined){c=b[d[e]];break}}return c})}});STK.register("core.io.getIframeTrans",function(a){var b='<iframe id="#{id}" name="#{id}" height="0" width="0" frameborder="no"></iframe>';return function(c){var d,e,f;e=a.core.obj.parseParam({id:"STK_iframe_"+a.core.util.getUniqueKey()},c);f={};d=a.C("DIV");d.innerHTML=a.core.util.templet(b,e);a.core.util.hideContainer.appendChild(d);f.getId=function(){return e["id"]};f.destroy=function(){d.innerHTML="";try{d.getElementsByTagName("iframe")[0].src="about:blank"}catch(b){}a.core.util.hideContainer.removeChild(d);d=null};return f}});STK.register("core.io.require",function(a){var b="http://js.t.sinajs.cn/STK/js/";var c=function(a,b){var c=b.split(".");var d=a;var e=null;while(e=c.shift()){d=d[e];if(d===undefined){return false}}return true};var d=[];var e=function(b){if(a.core.arr.indexOf(b,d)!==-1){return false}d.push(b);a.core.io.scriptLoader({url:b,callback:function(){a.core.arr.foreach(d,function(a,c){if(a===b){d.splice(c,1);return false}})}});return false};var f=function(d,f,g){var h=null;for(var i=0,j=d.length;i<j;i+=1){var k=d[i];if(typeof k==="string"){if(!c(a,k)){e(b+k.replace(/\./ig,"/")+".js")}}else{if(!c(window,k["NS"])){e(k["url"])}}}var l=function(){for(var b=0,e=d.length;b<e;b+=1){var i=d[b];if(typeof i==="string"){if(!c(a,i)){h=setTimeout(l,25);return false}}else{if(!c(window,i["NS"])){h=setTimeout(l,25);return false}}}clearTimeout(h);f.apply({},[].concat(g))};h=setTimeout(l,25)};f.setBaseURL=function(a){if(typeof a!=="string"){throw"[STK.kit.extra.require.setBaseURL] need string as frist parameter"}b=a};return f});STK.register("core.io.ijax",function(a){return function(b){var c,d,e,f,g,h,i;c=a.core.obj.parseParam({url:"",form:null,args:{},uniqueID:null,timeout:30*1e3,onComplete:a.core.func.empty,onTimeout:a.core.func.empty,onFail:a.core.func.empty,asynchronous:true,isEncode:true,abaurl:null,responseName:null,varkey:"callback",abakey:"callback"},b);i={};if(c.url==""){throw"ijax need url in parameters object"}if(!c.form){throw"ijax need form in parameters object"}d=a.core.io.getIframeTrans();e=c.responseName||"STK_ijax_"+a.core.util.getUniqueKey();h={};h[c["varkey"]]=e;if(c.abaurl){c.abaurl=a.core.util.URL(c.abaurl).setParams(h);h={};h[c["abakey"]]=c.abaurl}c.url=a.core.util.URL(c.url,{isEncodeQuery:c["isEncode"]}).setParams(h).setParams(c.args);g=function(){window[e]=null;d.destroy();d=null;clearTimeout(f)};f=setTimeout(function(){g();c.onTimeout();c.onFail()},c.timeout);window[e]=function(a,b){g();c.onComplete(a,b)};c.form.action=c.url;c.form.target=d.getId();c.form.submit();i.abort=g;return i}});STK.register("core.json.clone",function(a){function b(a){var c;if(a instanceof Array){c=[];var d=a.length;while(d--){c[d]=b(a[d])}return c}else if(a instanceof Object){c={};for(var e in a){c[e]=b(a[e])}return c}else{return a}}return b});STK.register("core.json.include",function(a){return function(a,b){for(var c in b){if(typeof b[c]==="object"){if(b[c]instanceof Array){if(a[c]instanceof Array){if(b[c].length===a[c].length){for(var d=0,e=b[c].length;d<e;d+=1){if(!arguments.callee(b[c][d],a[c][d])){return false}}}else{return false}}else{return false}}else{if(typeof a[c]==="object"){if(!arguments.callee(b[c],a[c])){return false}}else{return false}}}else if(typeof b[c]==="number"||typeof b[c]==="string"){if(b[c]!==a[c]){return false}}else if(b[c]!==undefined&&b[c]!==null){if(a[c]!==undefined&&a[c]!==null){if(!b[c].toString||!a[c].toString){throw"json1[k] or json2[k] do not have toString method"}if(b[c].toString()!==a[c].toString()){return false}}else{return false}}}return true}});STK.register("core.json.compare",function(a){return function(b,c){if(a.core.json.include(b,c)&&a.core.json.include(c,b)){return true}else{return false}}});STK.register("core.json.jsonToStr",function(a){function j(a,b){var c,d,g,k,l=e,m,n=b[a];if(n&&typeof n==="object"&&typeof n.toJSON==="function"){n=n.toJSON(a)}if(typeof h==="function"){n=h.call(b,a,n)}switch(typeof n){case"string":return i(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n){return"null"}e+=f;m=[];if(Object.prototype.toString.apply(n)==="[object Array]"){k=n.length;for(c=0;c<k;c+=1){m[c]=j(c,n)||"null"}g=m.length===0?"[]":e?"[\n"+e+m.join(",\n"+e)+"\n"+l+"]":"["+m.join(",")+"]";e=l;return g}if(h&&typeof h==="object"){k=h.length;for(c=0;c<k;c+=1){d=h[c];if(typeof d==="string"){g=j(d,n);if(g){m.push(i(d)+(e?": ":":")+g)}}}}else{for(d in n){if(Object.hasOwnProperty.call(n,d)){g=j(d,n);if(g){m.push(i(d)+(e?": ":":")+g)}}}}g=m.length===0?"{}":e?"{\n"+e+m.join(",\n"+e)+"\n"+l+"}":"{"+m.join(",")+"}";e=l;return g}}function i(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=g[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(a){return a<10?"0"+a:a}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()}}var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,f,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;return function(a,b,c){var d;e="";f="";if(typeof c==="number"){for(d=0;d<c;d+=1){f+=" "}}else if(typeof c==="string"){f=c}h=b;if(b&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number")){throw new Error("JSON.stringify")}return j("",{"":a})}});STK.register("core.json.strToJson",function(a){var b,c,d={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},e,f=function(a){throw{name:"SyntaxError",message:a,at:b,text:e}},g=function(a){if(a&&a!==c){f("Expected '"+a+"' instead of '"+c+"'")}c=e.charAt(b);b+=1;return c},h=function(){var a,b="";if(c==="-"){b="-";g("-")}while(c>="0"&&c<="9"){b+=c;g()}if(c==="."){b+=".";while(g()&&c>="0"&&c<="9"){b+=c}}if(c==="e"||c==="E"){b+=c;g();if(c==="-"||c==="+"){b+=c;g()}while(c>="0"&&c<="9"){b+=c;g()}}a=+b;if(isNaN(a)){f("Bad number")}else{return a}},i=function(){var a,b,e="",h;if(c==='"'){while(g()){if(c==='"'){g();return e}else if(c==="\\"){g();if(c==="u"){h=0;for(b=0;b<4;b+=1){a=parseInt(g(),16);if(!isFinite(a)){break}h=h*16+a}e+=String.fromCharCode(h)}else if(typeof d[c]==="string"){e+=d[c]}else{break}}else{e+=c}}}f("Bad string")},j=function(){while(c&&c<=" "){g()}},k=function(){switch(c){case"t":g("t");g("r");g("u");g("e");return true;case"f":g("f");g("a");g("l");g("s");g("e");return false;case"n":g("n");g("u");g("l");g("l");return null}f("Unexpected '"+c+"'")},l,m=function(){var a=[];if(c==="["){g("[");j();if(c==="]"){g("]");return a}while(c){a.push(l());j();if(c==="]"){g("]");return a}g(",");j()}}f("Bad array")},n=function(){var a,b={};if(c==="{"){g("{");j();if(c==="}"){g("}");return b}while(c){a=i();j();g(":");if(Object.hasOwnProperty.call(b,a)){f('Duplicate key "'+a+'"')}b[a]=l();j();if(c==="}"){g("}");return b}g(",");j()}}f("Bad object")};l=function(){j();switch(c){case"{":return n();case"[":return m();case'"':return i();case"-":return h();default:return c>="0"&&c<="9"?h():k()}};return function(a,d){var g;e=a;b=0;c=" ";g=l();j();if(c){f("Syntax error")}return typeof d==="function"?function h(a,b){var c,e,f=a[b];if(f&&typeof f==="object"){for(c in f){if(Object.hasOwnProperty.call(f,c)){e=h(f,c);if(e!==undefined){f[c]=e}else{delete f[c]}}}}return d.call(a,b,f)}({"":g},""):g}});STK.register("core.obj.cascade",function(a){return function(a,b){for(var c=0,d=b.length;c<d;c+=1){if(typeof a[b[c]]!=="function"){throw"cascade need function list as the second paramsters"}a[b[c]]=function(b){return function(){b.apply(a,arguments);return a}}(a[b[c]])}}});STK.register("core.obj.clear",function(a){return function(a){var b,c={};for(b in a){if(a[b]!=null){c[b]=a[b]}}return c}});STK.register("core.obj.cut",function(a){return function(b,c){var d={};if(!a.core.arr.isArray(c)){throw"core.obj.cut need array as second parameter"}for(var e in b){if(!a.core.arr.inArray(e,c)){d[e]=b[e]}}return d}});STK.register("core.obj.sup",function(a){return function(a,b){var c={};for(var d=0,e=b.length;d<e;d+=1){if(typeof a[b[d]]!=="function"){throw"super need function list as the second paramsters"}c[b[d]]=function(b){return function(){return b.apply(a,arguments)}}(a[b[d]])}return c}});STK.register("core.str.bLength",function(a){return function(a){if(!a){return 0}var b=a.match(/[^\x00-\xff]/g);return a.length+(!b?0:b.length)}});STK.register("core.str.dbcToSbc",function(a){return function(a){return a.replace(/[\uff01-\uff5e]/g,function(a){return String.fromCharCode(a.charCodeAt(0)-65248)}).replace(/\u3000/g," ")}});STK.register("core.str.parseHTML",function(a){return function(a){var b=/[^<>]+|<(\/?)([A-Za-z0-9]+)([^<>]*)>/g;var c,d;var e=[];while(c=b.exec(a)){var f=[];for(d=0;d<c.length;d+=1){f.push(c[d])}e.push(f)}return e}});STK.register("core.str.leftB",function(a){return function(b,c){var d=b.replace(/\*/g," ").replace(/[^\x00-\xff]/g,"**");b=b.slice(0,d.slice(0,c).replace(/\*\*/g," ").replace(/\*/g,"").length);if(a.core.str.bLength(b)>c&&c>0){b=b.slice(0,b.length-1)}return b}});STK.register("core.str.queryString",function(a){return function(b,c){var d=a.core.obj.parseParam({source:window.location.href.toString(),split:"&"},c);var e=(new RegExp("(^|)"+b+"=([^\\"+d.split+"]*)(\\"+d.split+"|$)","gi")).exec(d.source),f;if(f=e){return f[2]}return null}});STK.register("core.util.cookie",function(a){var b={set:function(b,c,d){var e=[];var f,g;var h=a.core.obj.parseParam({expire:null,path:"/",domain:null,secure:null,encode:true},d);if(h.encode==true){c=escape(c)}e.push(b+"="+c);if(h.path!=null){e.push("path="+h.path)}if(h.domain!=null){e.push("domain="+h.domain)}if(h.secure!=null){e.push(h.secure)}if(h.expire!=null){f=new Date;g=f.getTime()+h.expire*36e5;f.setTime(g);e.push("expires="+f.toGMTString())}document.cookie=e.join(";")},get:function(a){a=a.replace(/([\.\[\]\$])/g,"\\$1");var b=new RegExp(a+"=([^;]*)?;","i");var c=document.cookie+";";var d=c.match(b);if(d){return d[1]||""}else{return""}},remove:function(a,c){c=c||{};c.expire=-10;b.set(a,"",c)}};return b});STK.register("core.util.drag",function(a){var b=function(a){a.cancelBubble=true;return false};var c=function(b,c){b["clientX"]=c.clientX;b["clientY"]=c.clientY;b["pageX"]=c.clientX+a.core.util.scrollPos()["left"];b["pageY"]=c.clientY+a.core.util.scrollPos()["top"];return b};return function(d,e){if(!a.core.dom.isNode(d)){throw"core.util.drag need Element as first parameter"}var f=a.core.obj.parseParam({actRect:[],actObj:{}},e);var g={};var h=a.core.evt.custEvent.define(f.actObj,"dragStart");var i=a.core.evt.custEvent.define(f.actObj,"dragEnd");var j=a.core.evt.custEvent.define(f.actObj,"draging");var k=function(d){var e=c({},d);document.body.onselectstart=function(){return false};a.core.evt.addEvent(document,"mousemove",l);a.core.evt.addEvent(document,"mouseup",m);a.core.evt.addEvent(document,"click",b,true);if(!a.IE){d.preventDefault();d.stopPropagation()}a.core.evt.custEvent.fire(h,"dragStart",e);return false};var l=function(b){var d=c({},b);b.cancelBubble=true;a.core.evt.custEvent.fire(h,"draging",d)};var m=function(d){var e=c({},d);document.body.onselectstart=function(){return true};a.core.evt.removeEvent(document,"mousemove",l);a.core.evt.removeEvent(document,"mouseup",m);a.core.evt.removeEvent(document,"click",b,true);a.core.evt.custEvent.fire(h,"dragEnd",e)};a.core.evt.addEvent(d,"mousedown",k);g.destroy=function(){a.core.evt.removeEvent(d,"mousedown",k);f=null};g.getActObj=function(){return f.actObj};return g}});STK.register("core.util.nameValue",function(a){return function(b){var c=b.getAttribute("name");var d=b.getAttribute("type");var e=b.tagName;var f={name:c,value:""};var g=function(b){if(b===false){f=false}else if(!f["value"]){f["value"]=a.core.str.trim(b||"")}else{f["value"]=[a.core.str.trim(b||"")].concat(f["value"])}};if(!b.disabled&&c){switch(e){case"INPUT":if(d=="radio"||d=="checkbox"){if(b.checked){g(b.value)}else{g(false)}}else if(d=="reset"||d=="submit"||d=="image"){g(false)}else{g(b.value)}break;case"SELECT":if(b.multiple){var h=b.options;for(var i=0,j=h.length;i<j;i++){if(h[i].selected){g(h[i].value)}}}else{g(b.value)}break;case"TEXTAREA":g(b.value||b.getAttribute("value")||false);break;case"BUTTON":default:g(b.value||b.getAttribute("value")||b.innerHTML||false)}}else{return false}return f}});STK.register("core.util.htmlToJson",function(a){return function(b,c,d){var e={};c=c||["INPUT","TEXTAREA","BUTTON","SELECT"];if(!b||!c){return false}var f=a.core.util.nameValue;for(var g=0,h=c.length;g<h;g++){var i=b.getElementsByTagName(c[g]);for(var j=0,k=i.length;j<k;j++){var l=f(i[j]);if(!l||d&&l.value===""){continue}if(e[l.name]){if(e[l.name]instanceof Array){e[l.name]=e[l.name].concat(l.value)}else{e[l.name]=[e[l.name]].concat(l.value)}}else{e[l.name]=l.value}}}return e}});STK.register("core.util.jobsM",function(a){return function(){var b=[];var c={};var d=false;var e={};var f=function(b){var d=b["name"];var e=b["func"];var f=+(new Date);if(!c[d]){try{e(a);e[d]=true}catch(g){a.log("[error][jobs]"+d)}}};var g=function(b){if(b.length){a.core.func.timedChunk(b,{process:f,callback:arguments.callee});b.splice(0,b.length)}else{d=false}};e.register=function(a,c){b.push({name:a,func:c})};e.start=function(){if(d){return true}else{d=true}g(b)};e.load=function(){};a.core.dom.ready(e.start);return e}()});STK.register("core.util.language",function(a){return function(a,b){return a.replace(/#L\{((.*?)(?:[^\\]))\}/ig,function(){var a=arguments[1];var c;if(b&&b[a]!==undefined){c=b[a]}else{c=a}return c})}});STK.register("core.util.listener",function(a){return function(){function f(){if(d.length==0){return}clearTimeout(e);var b=d.splice(0,1)[0];try{b["func"].apply(b["func"],[].concat(b["data"]))}catch(c){a.log("[error][listener]: One of "+b+"-"+b+" function execute error.")}e=setTimeout(f,25)}var b={};var c;var d=[];var e;var g={conn:function(){var a=window;while(a!=top){a=a["parent"];if(a["STK"]&&a["STK"]["core"]&&a["STK"]["core"]["util"]&&a["STK"]["core"]["util"]["listener"]!=null){c=a}}},register:function(a,d,e){if(c!=null){c["STK"]["core"]["util"]["listener"].register(a,d,e)}else{b[a]=b[a]||{};b[a][d]=b[a][d]||[];b[a][d].push(e)}},fire:function(a,e,g){if(c!=null){c.listener.fire(a,e,g)}else{var h;var i,j;if(b[a]&&b[a][e]&&b[a][e].length>0){h=b[a][e];h.data_cache=g;for(i=0,j=h.length;i<j;i++){d.push({channel:a,evt:e,func:h[i],data:g})}f()}}},remove:function(a,d,e){if(c!=null){c["STK"]["core"]["util"]["listener"].remove(a,d,e)}else{if(b[a]){if(b[a][d]){for(var f=0,g=b[a][d].length;f<g;f++){if(b[a][d][f]===e){b[a][d].splice(f,1);break}}}}}},list:function(){return b},cache:function(a,d){if(c!=null){return c.listener.cache(a,d)}else{if(b[a]&&b[a][d]){return b[a][d].data_cache}}}};return g}()});STK.register("core.util.winSize",function(a){return function(a){var b,c;var d;if(a){d=a.document}else{d=document}if(d.compatMode==="CSS1Compat"){b=d.documentElement["clientWidth"];c=d.documentElement["clientHeight"]}else if(self.innerHeight){if(a){d=a.self}else{d=self}b=d.innerWidth;c=d.innerHeight}else if(d.documentElement&&d.documentElement.clientHeight){b=d.documentElement.clientWidth;c=d.documentElement.clientHeight}else if(d.body){b=d.body.clientWidth;c=d.body.clientHeight}return{width:b,height:c}}});STK.register("core.util.pageSize",function(a){return function(b){var c;if(b){c=b.document}else{c=document}var d=c.compatMode=="CSS1Compat"?c.documentElement:c.body;var e,f;var g,h;if(window.innerHeight&&window.scrollMaxY){e=d.scrollWidth;f=window.innerHeight+window.scrollMaxY}else if(d.scrollHeight>d.offsetHeight){e=d.scrollWidth;f=d.scrollHeight}else{e=d.offsetWidth;f=d.offsetHeight}var i=a.core.util.winSize(b);if(f<i.height){g=i.height}else{g=f}if(e<i.width){h=i.width}else{h=e}return{page:{width:h,height:g},win:{width:i.width,height:i.height}}}});STK.register("core.util.queue",function(a){return function(){var a={};var b=[];a.add=function(c){b.push(c);return a};a.get=function(){if(b.length>0){return b.shift()}else{return false}};return a}});STK.register("core.util.timer",function(a){return function(){var a={};var b={};var c=0;var d=null;var e=false;var f=25;var g=function(){for(var c in b){if(!b[c]["pause"]){b[c]["fun"]()}}return a};a.add=function(d){if(typeof d!="function"){throw"The timer needs add a function as a parameters"}var e=""+(new Date).getTime()+Math.random()*Math.pow(10,17);b[e]={fun:d,pause:false};if(c<=0){a.start()}c++;return e};a.remove=function(d){if(b[d]){delete b[d];c--}if(c<=0){a.stop()}return a};a.pause=function(c){if(b[c]){b[c]["pause"]=true}return a};a.play=function(c){if(b[c]){b[c]["pause"]=false}return a};a.stop=function(){clearInterval(d);d=null;return a};a.start=function(){d=setInterval(g,f);return a};a.loop=g;a.get=function(a){if(a==="delay"){return f}if(a==="functionList"){return b}};a.set=function(a,b){if(a==="delay"){if(typeof b==="number"){f=Math.max(25,Math.min(b,200))}}};return a}()});STK.register("core.util.scrollTo",function(a){return function(b,c){if(!a.core.dom.isNode(b)){throw"core.dom.isNode need element as the first parameter"}var d=a.core.obj.parseParam({box:document.documentElement,top:0,step:2,onMoveStop:null},c);d.step=Math.max(2,Math.min(10,d.step));var e=[];var f=a.core.dom.position(b);var g;if(d["box"]==document.documentElement){g={t:0}}else{g=a.core.dom.position(d["box"])}var h=Math.max(0,(f?f["t"]:0)-(g?g["t"]:0)-d.top);var i=d.box===document.documentElement?d.box.scrollTop||document.body.scrollTop||window.pageYOffset:d.box.scrollTop;while(Math.abs(i-h)>d.step&&i>=0){e.push(Math.round(i+(h-i)*d.step/10));i=e[e.length-1]}if(!e.length){e.push(h)}var j=a.core.util.timer.add(function(){if(e.length){if(d.box===document.documentElement){window.scrollTo(0,e.shift())}else{d.box.scrollTop=e.shift()}}else{if(d.box===document.documentElement){window.scrollTo(0,h)}else{d.box.scrollTop=h}a.core.util.timer.remove(j);if(typeof d.onMoveStop==="function"){d.onMoveStop()}}})}});STK.register("core.util.stack",function(a){return function(){var a={};var b=[];a.add=function(c){b.push(c);return a};a.get=function(){if(b.length>0){return b.pop()}else{return false}};return a}});STK.register("core.util.swf",function(a){function b(b,c){var d=a.core.obj.parseParam({id:"swf_"+parseInt(Math.random()*1e4,10),width:1,height:1,attrs:{},paras:{},flashvars:{},html:""},c);if(b==null){throw"swf: [sURL] 未定义";return}var e;var f=[];var g=[];for(e in d.attrs){g.push(e+'="'+d.attrs[e]+'" ')}var h=[];for(e in d.flashvars){h.push(e+"="+d.flashvars[e])}d.paras["flashvars"]=h.join("&");if(a.IE){f.push('<object width="'+d.width+'" height="'+d.height+'" id="'+d.id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" ');f.push(g.join(""));f.push('><param name="movie" value="'+b+'" />');for(e in d.paras){f.push('<param name="'+e+'" value="'+d.paras[e]+'" />')}f.push("</object>")}else{f.push('<embed width="'+d.width+'" height="'+d.height+'" id="'+d.id+'" src="'+b+'" type="application/x-shockwave-flash" ');f.push(g.join(""));for(e in d.paras){f.push(e+'="'+d.paras[e]+'" ')}f.push(" />")}d.html=f.join("");return d}var c={};c.create=function(c,d,e){var f=a.E(c);if(f==null){throw"swf: ["+c+"] 未找到";return}var g=b(d,e);f.innerHTML=g.html;return a.E(g.id)};c.html=function(a,c){var d=b(a,c);return d.html};c.check=function(){var b=-1;if(a.IE){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");b=c.GetVariable("$version")}catch(d){}}else{if(navigator.plugins["Shockwave Flash"]){b=navigator.plugins["Shockwave Flash"]["description"]}}return b};return c});STK.register("core.util.easyTemplate",function(a){var b=function(a,c){if(!a){return""}if(a!==b.template){b.template=a;b.aStatement=b.parsing(b.separate(a))}var d=b.aStatement;var e=function(a){if(a){c=a}return arguments.callee};e.toString=function(){return(new Function(d[0],d[1]))(c)};return e};b.separate=function(a){var b=/\\'/g;var c=a.replace(/(<(\/?)#(.*?(?:\(.*?\))*)>)|(')|([\r\n\t])|(\$\{([^\}]*?)\})/g,function(a,c,d,e,f,g,h,i){if(c){return"{|}"+(d?"-":"+")+e+"{|}"}if(f){return"\\'"}if(g){return""}if(h){return"'+("+i.replace(b,"'")+")+'"}});return c};b.parsing=function(a){var b,c,d,e,f,g,h,i=["var aRet = [];"];h=a.split(/\{\|\}/);var j=/\s/;while(h.length){d=h.shift();if(!d){continue}f=d.charAt(0);if(f!=="+"&&f!=="-"){d="'"+d+"'";i.push("aRet.push("+d+");");continue}e=d.split(j);switch(e[0]){case"+et":b=e[1];c=e[2];i.push('aRet.push("<!--'+b+' start-->");');break;case"-et":i.push('aRet.push("<!--'+b+' end-->");');break;case"+if":e.splice(0,1);i.push("if"+e.join(" ")+"{");break;case"+elseif":e.splice(0,1);i.push("}else if"+e.join(" ")+"{");break;case"-if":i.push("}");break;case"+else":i.push("}else{");break;case"+list":i.push("if("+e[1]+".constructor === Array){with({i:0,l:"+e[1]+".length,"+e[3]+"_index:0,"+e[3]+":null}){for(i=l;i--;){"+e[3]+"_index=(l-i-1);"+e[3]+"="+e[1]+"["+e[3]+"_index];");break;case"-list":i.push("}}}");break;default:break}}i.push('return aRet.join("");');return[c,i.join("")]};return b});STK.register("core.util.storage",function(a){var b=window.localStorage;if(b){return{get:function(a){return unescape(b.getItem(a))},set:function(a,c,d){b.setItem(a,escape(c))},del:function(a){b.removeItem(a)},clear:function(){b.clear()},getAll:function(){var a=b.length,c=null,d=[];for(var e=0;e<a;e++){c=b.key(e);d.push(c+"="+this.getKey(c))}return d.join("; ")}}}else if(window.ActiveXObject){var c=document.documentElement;var d="localstorage";try{c.addBehavior("#default#userdata");c.save("localstorage")}catch(e){}return{set:function(a,b){c.setAttribute(a,b);c.save(d)},get:function(a){c.load(d);return c.getAttribute(a)},del:function(a){c.removeAttribute(a);c.save(d)}}}else{return{get:function(a){var b=document.cookie.split("; "),c=b.length,d=[];for(var e=0;e<c;e++){d=b[e].split("=");if(a===d[0]){return unescape(d[1])}}return null},set:function(a,b,c){if(!(c&&c instanceof Date)){c=new Date;c.setDate(c.getDate()+1)}document.cookie=a+"="+escape(b)+"; expires="+c.toGMTString()},del:function(a){document.cookie=a+"=''; expires=Fri, 31 Dec 1999 23:59:59 GMT;"},clear:function(){var a=document.cookie.split("; "),b=a.length,c=[];for(var d=0;d<b;d++){c=a[d].split("=");this.deleteKey(c[0])}},getAll:function(){return unescape(document.cookie.toString())}}}});STK.register("core.util.pageletM",function(a){var b="http://js.t.sinajs.cn/t4/";var c="http://img.t.sinajs.cn/t4/";if(typeof $CONFIG!="undefined"){b=$CONFIG.jsPath||b;c=$CONFIG.cssPath||c}var d=a.core.arr.indexOf;var e={},f,g={},h={},i={},j={};var k,l;if(a.IE){k={};l=function(){var b,c,d;for(b in k){if(k[b].length<31){d=a.E(b);break}}if(!d){b="style_"+a.core.util.getUniqueKey(),d=document.createElement("style");d.setAttribute("type","text/css");d.setAttribute("id",b);document.getElementsByTagName("head")[0].appendChild(d);k[b]=[]}return{styleID:b,styleSheet:d.styleSheet||d.sheet}}}var m=function(b,c){i[b]={cssURL:c};if(a.IE){var d=l();d.styleSheet.addImport(c);k[d.styleID].push(b);i[b].styleID=d.styleID}else{var e=a.C("link");e.setAttribute("rel","Stylesheet");e.setAttribute("type","text/css");e.setAttribute("charset","utf-8");e.setAttribute("href",c);e.setAttribute("id",b);document.getElementsByTagName("head")[0].appendChild(e)}};var n={};var o=function(b,c){var d=a.E(b);if(d){c(d);n[b]&&delete n[b];for(var e in n){o(e,n[e])}}else{n[b]=c}};var p=function(b){if(a.IE){var c=i[b].styleID;var f=k[c];var g=a.E(c);var h;if((h=d(b,f))>-1){(g.styleSheet||g.sheet).removeImport(h);f.splice(h,1)}}else{a.core.dom.removeNode(a.E(b))}delete e[i[b].cssURL];delete i[b]};var q=function(b,d,e){for(var f in j){if(!a.E(f)){delete j[f]}}j[b]={js:{},css:{}};if(e){for(var f=0,g=e.length;f<g;++f){j[b].css[c+e[f]]=1}}};var r=function(){for(var a in i){var b=false,c=i[a].cssURL;for(var d in j){if(j[d].css[c]){b=true;break}}if(!b){p(a)}}};var s=function(a,b){var c=e[a]||(e[a]={loaded:false,list:[]});if(c.loaded){b(a);return false}c.list.push(b);if(c.list.length>1){return false}return true};var t=function(a){var b=e[a].list;if(b){for(var c=0;c<b.length;c++){b[c](a)}e[a].loaded=true;delete e[a].list}};var u=function(b){var d=b.url,e=b.load_ID,f=b.complete,g=b.pid,h=c+d,i="css_"+a.core.util.getUniqueKey();if(!s(h,f)){return}m(i,h);var j=a.C("div");j.id=e;a.core.util.hideContainer.appendChild(j);var k=3e3;var l=function(){if(parseInt(a.core.dom.getStyle(j,"height"))==42){a.core.util.hideContainer.removeChild(j);t(h);return}if(--k>0){setTimeout(l,10)}else{a.log(h+"timeout!");a.core.util.hideContainer.removeChild(j);t(h);p(i);m(i,h)}};setTimeout(l,50)};var v=function(c,d){var f=b+c;if(!s(f,d)){return}a.core.io.scriptLoader({url:f,onComplete:function(){t(f)},onTimeout:function(){a.log(f+"timeout!");delete e[f]}})};var w=function(a,b){if(!g[a]){g[a]=b}};var x=function(b){if(b){if(g[b]){try{h[b]||(h[b]=g[b](a))}catch(c){a.log(b,c)}}else{a.log("start:ns="+b+" ,have not been registed")}return}var d=[];for(b in g){d.push(b)}a.core.func.timedChunk(d,{process:function(b){try{h[b]||(h[b]=g[b](a))}catch(c){a.log(b,c)}}})};var y=function(b){var c=1,d,e,f,g,h,i,j;b=b||{};e=b.pid;f=b.html;h=b.js?[].concat(b.js):[];g=b.css?[].concat(b.css):[];if(e==undefined){a.log("node pid["+e+"] is undefined");return}q(e,h,g);i=function(){if(--c>0)return;o(e,function(a){f!=undefined&&(a.innerHTML=f);if(h.length>0){j()}r()})};j=function(a){if(h.length>0){v(h.shift(),j)}if(a&&a.indexOf("/pl/")!=-1){var b=a.replace(/^.*?\/(pl\/.*)\.js\??.*$/,"$1").replace(/\//g,".");z(b);x(b)}};if(g.length>0){c+=g.length;for(var k=0,l;l=g[k];k++){u({url:l,load_ID:"js_"+l.replace(/^\/?(.*)\.css\??.*$/i,"$1").replace(/\//g,"_"),complete:i,pid:e})}}i()};var z=function(b){if(b){if(h[b]){a.log("destroy:"+b);try{h[b].destroy()}catch(c){a.log(c)}delete h[b]}return}for(b in h){a.log("destroy:"+b);try{h[b]&&h[b].destroy&&h[b].destroy()}catch(c){a.log(b,c)}}h={}};var A={register:w,start:x,view:y,clear:z,destroy:function(){A.clear();e={};h={};g={};f=undefined}};a.core.dom.ready(function(){a.core.evt.addEvent(window,"unload",function(){a.core.evt.removeEvent(window,"unload",arguments.callee);A.destroy()})});return A});(function(){var a=STK.core;var b={tween:a.ani.tween,tweenArche:a.ani.tweenArche,arrCopy:a.arr.copy,arrClear:a.arr.clear,hasby:a.arr.hasby,unique:a.arr.unique,foreach:a.arr.foreach,isArray:a.arr.isArray,inArray:a.arr.inArray,arrIndexOf:a.arr.indexOf,findout:a.arr.findout,domNext:a.dom.next,domPrev:a.dom.prev,isNode:a.dom.isNode,addHTML:a.dom.addHTML,insertHTML:a.dom.insertHTML,setXY:a.dom.setXY,contains:a.dom.contains,position:a.dom.position,trimNode:a.dom.trimNode,insertAfter:a.dom.insertAfter,insertBefore:a.dom.insertBefore,removeNode:a.dom.removeNode,replaceNode:a.dom.replaceNode,Ready:a.dom.ready,setStyle:a.dom.setStyle,setStyles:a.dom.setStyles,getStyle:a.dom.getStyle,addClassName:a.dom.addClassName,hasClassName:a.dom.hasClassName,removeClassName:a.dom.removeClassName,builder:a.dom.builder,cascadeNode:a.dom.cascadeNode,selector:a.dom.selector,sizzle:a.dom.sizzle,addEvent:a.evt.addEvent,custEvent:a.evt.custEvent,removeEvent:a.evt.removeEvent,fireEvent:a.evt.fireEvent,fixEvent:a.evt.fixEvent,getEvent:a.evt.getEvent,stopEvent:a.evt.stopEvent,delegatedEvent:a.evt.delegatedEvent,preventDefault:a.evt.preventDefault,hotKey:a.evt.hotKey,memorize:a.func.memorize,bind:a.func.bind,getType:a.func.getType,methodBefore:a.func.methodBefore,timedChunk:a.func.timedChunk,funcEmpty:a.func.empty,ajax:a.io.ajax,jsonp:a.io.jsonp,ijax:a.io.ijax,scriptLoader:a.io.scriptLoader,require:a.io.require,jsonInclude:a.json.include,jsonCompare:a.json.compare,jsonClone:a.json.clone,jsonToQuery:a.json.jsonToQuery,queryToJson:a.json.queryToJson,jsonToStr:a.json.jsonToStr,strToJson:a.json.strToJson,objIsEmpty:a.obj.isEmpty,beget:a.obj.beget,cascade:a.obj.cascade,objSup:a.obj.sup,parseParam:a.obj.parseParam,bLength:a.str.bLength,dbcToSbc:a.str.dbcToSbc,leftB:a.str.leftB,trim:a.str.trim,encodeHTML:a.str.encodeHTML,decodeHTML:a.str.decodeHTML,parseURL:a.str.parseURL,parseHTML:a.str.parseHTML,queryString:a.str.queryString,htmlToJson:a.util.htmlToJson,cookie:a.util.cookie,drag:a.util.drag,timer:a.util.timer,jobsM:a.util.jobsM,listener:a.util.listener,winSize:a.util.winSize,pageSize:a.util.pageSize,templet:a.util.templet,queue:a.util.queue,stack:a.util.stack,swf:a.util.swf,URL:a.util.URL,scrollPos:a.util.scrollPos,scrollTo:a.util.scrollTo,getUniqueKey:a.util.getUniqueKey,storage:a.util.storage,pageletM:a.util.pageletM};for(var c in b){STK.regShort(c,b[c])}})();
var FM=FM||function(){function X(a,b){l.load(a,(b||k.getState()).replace(/\?.*$/,""))}function W(){e.destroy();j.destroy();k.destroy();l.destroy();m.destroy();g.destroy(c)}function V(a){if(D){return}l.init(a);j.init(a);k.init(a);m.init(a);f.load(document.getElementsByTagName("link"));n(j,"filterRight",function(a,b){switch(a){case"bpfilter":k.setState(b)}});n(k,r,function(a,b){var d=E===undefined?true:!!E;if(d){k.checkAnchor()||window.scrollTo(0,0);X(b,a)}p(c,r,[a,b,d]);E=undefined});n(l,"loadStart",function(a){clearTimeout(T);G=true;K=L=M=N=false;b.style.cursor="progress";p(c,s,a)});n(l,"loadEnd",function(a){G=false;P();p(c,u,a)});n(l,"loadAbort",function(a){p(c,t,a)});U();D=true}function U(){n(m,"viewReady",function(a){H++;p(c,z,a)});n(m,"cssReady",function(a){H--;I++;Q();p(c,A,a)});n(m,"renderReady",function(a){I--;J++;R();p(c,B,a)});n(m,"jsReady",function(a){J--;S();p(c,C,a)});d(function(){F=false;P();h(window,"unload",function(){i(window,"unload",arguments.callee);W()})})}function S(){if(!M||J>0||N){return}N=true;p(c,y);m.DUC();q(y)}function R(){if(!L||I>0||M){return}M=true;b.style.cursor="";k.doAnchor();O=true;p(c,x);q(x);S()}function Q(){if(!K||H>0||L){return}L=true;p(c,w);q(w);R()}function P(){if(F||G||K){return}K=true;p(c,v);q(v);Q()}var a={reg:function(b,c){var d=b.split("."),e=a,f;while(f=d.shift()){if(d.length){e=e[f]=e[f]||{}}else{e[f]=e[f]||c(a)}}},E:function(a){return document.getElementById(a)},C:function(a){var b;a=a.toUpperCase();if(a=="TEXT"){b=document.createTextNode("")}else if(a=="BUFFER"){b=document.createDocumentFragment()}else{b=document.createElement(a)}return b}};a.reg("util.browser",function(a){return{ie:/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp["$1"]:""}});a.reg("dom.ready",function(a){var b=a.util.browser;return function(a,c){c=c||document;if(/complete/.test(c.readyState)){a()}else{if(c.addEventListener){if(!b.ie&&"interactive"==c.readyState){a()}else{c.addEventListener("DOMContentLoaded",a,false)}}else{var d=function(){d=0;a()};(function(){try{c.body.doScroll("left")}catch(a){return setTimeout(arguments.callee,25)}d&&d()})();c.attachEvent("onreadystatechange",function(){"complete"==c.readyState&&d&&d()})}}}});a.reg("util.uniqueKey",function(a){var b="FM_"+(new Date).getTime().toString(),c=1;return function(){return b+c++}});a.reg("obj.uniqueID",function(a){var b="_FM_uniqueID_",c=a.util.uniqueKey;return function(a){return a[b]||(a[b]=c())}});a.reg("util.log",function(a){function f(){var a,f=arguments,g=f.length,h=[].slice.apply(f,[0,g]),i="error",j;while(h[--g]){if(h[g]instanceof Error){a=h.splice(g,1)[0];break}}if(!a){a=new Error;i="log"}h.unshift(d);j=[h,i,(new Date).getTime(),a.message,a.stack];if(e){e.apply(null,j)}else{b.length>=c&&b.shift();b.push(j)}}var b=[];var c=200;var d="FM";var e;f.regLogFn=function(a){e=a};f.clearLogList=function(){return b.splice(0,b.length)};return f});a.reg("arr.indexOf",function(a){return function(a,b){if(b.indexOf){return b.indexOf(a)}for(var c=0,d=b.length;c<d;c++){if(b[c]===a){return c}}return-1}});a.reg("evt.custEvent",function(a){function f(a,c){var d=b(a),f=e[d]||(e[d]={});return f&&(f[c]||(f[c]=[]))}var b=a.obj.uniqueID,c=a.util.log,d=a.arr.indexOf,e={};return{on:function(a,b,c){f(a,b).unshift(c)},fire:function(a,b,d){var e=f(a,b);if(!e){return}d=[].concat(d||[]);for(var g=e.length-1;g>-1;g--){try{e[g]&&e[g].apply(a,d)}catch(h){c("[error][custEvent]"+h.message,h)}}},un:function(a,b,c){var e=f(a,b);if(!e){return}var g=d(c,e);if(g>-1){e.splice(g,1)}},destroy:function(a,c){var d=b(a),f=e[d];if(c){f[c]=[]}else{e[d]={}}}}});a.reg("evt.addEvent",function(a){return function(){if(document.addEventListener){return function(a,b,c,d){a.addEventListener(b,c,d||false)}}else{return function(a,b,c){a.attachEvent("on"+b,c)}}}()});a.reg("evt.removeEvent",function(a){return function(){if(document.removeEventListener){return function(a,b,c,d){a.removeEventListener(b,c,d||false)}}else{return function(a,b,c){a.detachEvent("on"+b,c)}}}()});a.reg("util.timedChunk",function(a){return function(a,b){b=b||{};var c=a.concat(),d=b.process,e=b.delay||25,f=b.execTime||50;setTimeout(function(){var a=+(new Date);while(c.length>0&&+(new Date)-a<f){d&&d(c.shift())}if(c.length>0){setTimeout(arguments.callee,e)}},e)}});a.reg("scriptM",function(a,b){function k(a,c){var f=h(a,c||e),g;if(g=f.i){f.i=b;try{g.destroy()}catch(i){d("[error][pl clear]: ns("+a+"), domid("+c+")",i)}}}function j(a,b,c){b=b||e;var g=h(a,b);if(!g.i){try{g.i=f[a](b,c)}catch(i){d("[error][pl start]: ns("+a+"), domid("+b+")",i)}}}function h(a,b){var c=g[a]||(g[a]={});return c[b]||(c[b]={})}var c=a.util.timedChunk;var d=a.util.log;var e="_FM_DEFAULT_DOMID_";var f={};var g={};var i={};i.register=function(a,b){if(a&&b){f[a]||(f[a]=b)}};i.start=function(a,b,c){if(a){if(f[a]){j(a,b,c)}else{d("[warnning][pl start]: ns("+a+") have not been registed!")}}};i.startAll=function(){var a=[],b;for(b in f){a.push(b)}c(a,{process:function(a){j(a)}})};i.clear=function(a,b){a&&k(a,b)};i.clearAll=function(){for(var a in g){for(var b in g[a]){k(a,b)}}g={}};i.destroy=function(){i.clearAll();f={}};return i});a.reg("dom.removeNode",function(a){return function(b){b=a.E(b)||b;try{b.parentNode.removeChild(b)}catch(c){}}});a.reg("prevResources",function(a){function g(a){var b={},e;for(var f in d){e=d[f].ins;for(var g in e){if(a[g]){b[f]=true;break}}}for(var f in d){if(!b[f]){c(d[f].el);delete d[f]}}}function f(a){var c,e,f;for(var g=0;f=a[g++];){if(c=f.getAttribute("includes")){e=b(f);c=c.split("|");var h={};for(var i=0;c[i];){h[c[i++]]=1}d[e]={el:f,ins:h}}}}function e(a){for(var b in d){if(d[b].ins[a]){return true}}}var b=a.obj.uniqueID;var c=a.dom.removeNode;var d={};return{load:f,check:e,del:g}});a.reg("evt.getEvent",function(a){return function(){if(document.addEventListener){return function(){var a=arguments.callee;var b;do{b=a.arguments[0];if(b&&(b.constructor==Event||b.constructor==MouseEvent||b.constructor==KeyboardEvent)){return b}}while(a=a.caller);return b}}else{return function(a,b,c){return window.event}}}()});a.reg("evt.fixEvent",function(a){return function(b){b=b||a.evt.getEvent();if(!b.target){b.target=b.srcElement||document}if(b.pageX==null&&b.clientX!=null){var c=document.documentElement;var d=document.body;b.pageX=b.clientX+(c.scrollLeft||d&&d.scrollLeft||0)-(c.clientLeft||d&&d.clientLeft||0);b.pageY=b.clientY+(c.scrollTop||d&&d.scrollTop||0)-(c.clientTop||d&&d.clientTop||0)}if(!b.which&&b.button){if(b.button&1){b.which=1}else if(b.button&4){b.which=2}else if(b.button&2){b.which=3}}if(b.relatedTarget===undefined){b.relatedTarget=b.fromElement||b.toElement}if(b.layerX==null&&b.offsetX!=null){b.layerX=b.offsetX;b.layerY=b.offsetY}return b}});a.reg("evt.preventDefault",function(a){return function(b){b=b||a.evt.getEvent();if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}}});a.reg("util.os",function(a){var b=navigator.userAgent,c;if(/windows|win32/i.test(b)){c="win"}else if(/macintosh/i.test(b)){c="mac"}else{c="other"}return c});a.reg("util.parseURL",function(a){return function(a){var b=/^(?:([A-Za-z]+):(?:\/{0,3}))?([0-9.\-A-Za-z]+\.[0-9A-Za-z]+)?(?::(\d+))?(?:(\/[^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;var c=["href","protocol","host","port","path","query","hash"];var d=b.exec(a);var e={};for(var f=0,g=c.length;f<g;f+=1){e[c[f]]=d[f]||""}return e}});a.reg("linkFilter",function(a){function u(){if(!s){return}s=0;i(b,"click",r)}function t(){if(s){return}s=1;c(b,"click",r)}function r(a){a=d(a);var b=a.target;var c=b.tagName.toLowerCase();var h=c=="a";var i;if(!h&&n.test(c)){for(var r=0;r<2;r++){if(!(b=b.parentNode)){return}if(b.tagName.toLowerCase()=="a"){h=true;break}}}if(h){i=b.getAttribute("bpfilter");var s=b.href;if(i&&o&&i==o&&!a.ctrlKey&&!a.shiftKey&&a.button==0&&!(m&&a.metaKey)){var t=g(s);if(t.host!=window.location.host){return}if(!b[j]){l&&(l[j]=0);l=b;b[j]=1;setTimeout(function(){b[j]=0},k);f.fire(q,p,["bpfilter",t.path+(t.query&&"?"+t.query)+(t.hash&&"#"+t.hash)])}}else if(!/^#/.test(b.href)){return}e(a)}}var b=document;var c=a.evt.addEvent;var d=a.evt.fixEvent;var e=a.evt.preventDefault;var f=a.evt.custEvent;var g=a.util.parseURL;var h=a.util.os;var j="__FM_LINKSLEEP__";var k=300;var l;var m=h=="macintosh";var n;var o;var p="filterRight";var q={};var s;q.init=function(a){a=a||{};n=new RegExp(a.tagNames||"img|span|i");o="bpType"in a?a.bpType:"main";t()};q.destroy=function(){f.destroy(q);u()};return q});a.reg("util.queryToJson",function(a){return function(a){var b=a.split("&");var c={};for(var d=0,e=b.length;d<e;d++){if(b[d]){var f=b[d].split("=");var g=f[0];var h=f[1];if(f.length<2){h=g;g="$nullName"}if(!c[g]){c[g]=h}else{c[g]=[].concat(c[g]).concat(h)}}}return c}});a.reg("util.jsonToQuery",function(a){return function(a){var b=[];for(var c in a){if(c==="$nullName"){b=b.concat(a[c]);continue}if(a[c]instanceof Array){for(var d=0,e=a[c].length;d<e;d++){b.push(c+"="+a[c][d])}}else{if(typeof a[c]!="function"){b.push(c+"="+a[c])}}}return b.join("&")}});a.reg("util.scrollTop",function(a){return function(){var a=document;return Math.max(window.pageYOffset||0,a.documentElement.scrollTop,a.body.scrollTop)}});a.reg("historyM",function(a){function Q(a,b){var c=F();var d=l(c.query);for(var e in a){if(a[e]===null){d[e]&&delete d[e]}else{d[e]=a[e]}}c.query=m(d);P([c.path,c.query?"?":"",c.query,c.hash?"#":"",c.hash].join(""),b)}function P(a,b){a=decodeURIComponent(a);if(!H(v,a)){if(s){f[b?"replaceState":"pushState"](null,null,a);L(a)}else{if(b){e.replace(G(e.toString())+"#!"+a)}else{e.hash="#!"+a}u||z(a)}}else{L(a)}}function O(){if(s){p(d,"popstate",M)}else if(t){p(d,"hashchange",N)}else if(u){K=setInterval(N,200)}else{A(v,L)}}function N(){H(v,D())||L(D())}function M(){H(v,D())||L(C())}function L(a){o.fire(w,r,[v,v=a])}function J(){return D().split("#",2)[1]}function I(){var c=J(),d;if(c!=="_0"&&(d=a.E(c)||b.getElementsByName(c)[0])){d.scrollIntoView()}}function H(a,b){return G(a)==G(b)}function G(a){return a.replace(/#.*$/,"")}function F(){var a=E();if(/^!/.test(a.hash)){return i(a.protocol+"://"+a.host+a.hash.substr(1))}return a}function E(){return i(B())}function D(){var a=C();if(/#!/.test(a)){return a.replace(/^.*?#!/,"")}else{return a}}function C(a){return(a||B()).replace(/^http:\/\/.*?\//,"/")}function B(){return h(e.toString())}function A(b,e){var f=a.C("iframe");f.style.display="none";c.appendChild(f);x=f.contentWindow.document;z(b);d[y]=function(a){e(h(a))}}function z(a){a=g(a);x.open("text/html");x.write('<html><head></head><body onload="parent.'+y+" && parent."+y+"('"+a+"');\"></body></html>");x.close()}var b=document;var c=b.body;var d=window;var e=d.location;var f=d.history;var g=encodeURIComponent;var h=decodeURIComponent;var i=a.util.parseURL;var j=a.util.uniqueKey;var k=a.util.browser;var l=a.util.queryToJson;var m=a.util.jsonToQuery;var n=a.util.scrollTop;var o=a.evt.custEvent;var p=a.evt.addEvent;var q=a.evt.removeEvent;var r="stateChange";var s=!!f.pushState;var t=s||"onhashchange"in window&&(typeof b.documentMode==="undefined"||b.documentMode==8);var u=t||k.ie&&k.ie>7;var v;var w={};var x;var y="_FM_iframeHistory_"+j();var K;w.getState=D;w.getURL=F;w.setState=function(a){if(!/^\//.test(a)){throw"地址不正确:"+a}P(a)};w.replaceState=function(a){P(a,true)};w.setQuery=function(a){a&&Q(a)};w.replaceQuery=function(a){a&&Q(a,true)};w.setPlainHash=function(a,b){if(typeof a=="string"&&!/^!/.test(a)){var c=e.toString(),d=i(c).hash,f,g=G(c);if(/^!/.test(d)){d=G(d);f="#"+d+"#"+a}else{f="#"+a}if(b){e.hash=f}else{e.replace(g+f)}}};w.doAnchor=I;w.checkAnchor=J;w.init=function(a){v=D();J();O()};w.destroy=function(){q(d,"popstate",M);q(d,"hashchange",N);K&&clearInterval(K);o.destroy(w)};return w});a.reg("iLoader",function(a){function q(){i=setTimeout(function(){b.removeChild(h);e(o,m,h.url);i=h=null})}function p(){if(h){i&&clearTimeout(i);g(h,"load",q);b.removeChild(h);e(o,n,h.url)}}var b=document.body;var c=a.evt.custEvent;var d=a.util.uniqueKey;var e=c.fire;var f=a.evt.addEvent;var g=a.evt.removeEvent;var h;var i;var j;var k;var l="loadStart";var m="loadEnd";var n="loadAbort";var o={};o.load=function(c,g){var i=c.replace(/#.*$/,"");i+=[/\?/.test(i)?"&":"?",j,"&",k,"=",g||"","&_t=",d()].join("");p();h=a.C("iframe");h.src=i;h.url=c;h.style.display="none";b.appendChild(h);f(h,"load",q);e(o,l,c)};o.init=function(a){a=a||{};j=a.extraQuery||"ajaxpagelet=1";k=a.refererName||"__ref"};o.destroy=function(){p();c.destroy(o)};return o});a.reg("dom.contains",function(a){return document.compareDocumentPosition?function(a,b){return a&&b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a&&b&&a!==b&&(a.contains?a.contains(b):true)}});a.reg("util.enterFrame",function(a){var b=window,c=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame,d=function(a){return setTimeout(a,2)};c&&c(function(){d=c});return function(a){d(function(){a()})}});a.reg("view.fileLoaderCache",function(a){function e(a,f){if(a in d){f(a,d[a]);return true}b.on(e,a,function(b,c){f(a,c)});if(c[a]){return true}c[a]=1}var b=a.evt.custEvent;var c={};var d={};e.fire=function(a,c){d[a]=c;b.fire(e,a,c);b.destroy(e,a)};e.del=function(a){c[a]&&delete c[a];a in d&&delete d[a]};return e});a.reg("view.mPath",function(a){function d(a,b){b=b.replace(/\?.*$/,"");var d=0,e=0,f,g;while(f=b.charCodeAt(d++)){e+=f}return a[0].replace("{n}",e%a[c]||"")}var b={};var c="MODN";return function(a,e){e&&(e[c]=e[2]-e[1]+2);return function(c){if(!c||/^http\:\/\//.test(c.toLowerCase())){return c}return(e?b[c]||(b[c]=d(e,c)):a)+c}}});a.reg("view.jsLoader",function(a){function f(a,d){a=e(a);if(c(a,d)){return}var f=b.getElementsByTagName("head")[0]||b.documentElement,g=b.createElement("script"),h=false;g.src=a;g.charset="UTF-8";var i=g.onerror=g.onload=g.onreadystatechange=function(){if(!h&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){h=true;g.onerror=g.onload=g.onreadystatechange=null;f.removeChild(g);c.fire(a)}};setTimeout(i,3e4);f.insertBefore(g,f.firstChild)}var b=document;var c=a.view.fileLoaderCache;var d=a.view.mPath;var e;f.init=function(a){a=a||{};e=d(a.jsPath||"",a.mJsPath)};return f});a.reg("util.hideDiv",function(a){var b;var c=function(){if(b)return;b=a.C("div");b.style.cssText="position:absolute;top:-9999px;left:-9999px;";document.getElementsByTagName("head")[0].appendChild(b)};return{appendChild:function(a){c();b.appendChild(a)},removeChild:function(a){b&&b.removeChild(a)}}});a.reg("dom.getStyle",function(a){return function(a,b){var c;if(a.currentStyle){c=a.currentStyle}else{try{c=document.defaultView.getComputedStyle(a,"")}catch(d){}}return a.style[b]||c&&c[b]}});a.reg("view.cssLoader",function(a){function t(b,c,d){function k(){if(parseInt(e(f,"height"))==42){return j()}if(--i>0){setTimeout(k,10)}else{j();s(b);r(b)}}function j(){g.removeChild(f);h.fire(b)}b=l(b);if(h(b,c)){return}r(b);var f=a.C("div");f.id=d;g.appendChild(f);var i=3e3;setTimeout(k,50)}function s(b){if(m){var c=p[b],e,f=q[c],g=a.E(c);if((e=i(b,f))>-1){(g.styleSheet||g.sheet).removeImport(e);f.splice(e,1)}}else{d(p[b])}p[b]&&delete p[b]}function r(d){var e,f,g;if(m){for(e in q){if(q[e].length<31){g=a.E(e);break}}if(!g){e=n+c();g=b.createElement("style");g.setAttribute("type","text/css");g.setAttribute("id",e);j.appendChild(g);q[e]=[]}(g.styleSheet||g.sheet).addImport(d);q[e].push(d);p[d]=e}else{f=o+c();p[d]=f;var h=a.C("link");h.setAttribute("rel","Stylesheet");h.setAttribute("type","text/css");h.setAttribute("charset","utf-8");h.setAttribute("href",d);h.setAttribute("id",f);j.appendChild(h)}}var b=document;var c=a.util.uniqueKey;var d=a.dom.removeNode;var e=a.dom.getStyle;var f=a.util.browser;var g=a.util.hideDiv;var h=a.view.fileLoaderCache;var i=a.arr.indexOf;var j=b.getElementsByTagName("head")[0];var k=a.view.mPath;var l;var m=f.ie;var n="FM_style_";var o="FM_link_";var p={};var q={};t.init=function(a){a=a||{};l=k(a.cssPath||"",a.mCssPath)};t.del=function(a){var b={},c;for(c in a){b[l(c)]=1}for(c in p){if(!b[c]){s(c);h.del(c)}}};return t});a.reg("view.timeChunk",function(a){function e(){if(b.length>0){c=1;b.shift()();d(e)}else{c=0}}var b=[];var c;var d=a.util.enterFrame;return function(a){b.push(a);if(!c){e()}}});a.reg("viewExcuter",function(a,b){function H(){for(var a in u){F(a,u[a])}}function G(a,b){var c,d;for(c in s){if((d=s[c].domid)&&(d==b||k(a,f(d)))){g.clear(s[c].ns,d);delete s[c]}}}function F(a,b){var c,d;if(d=u[a]){d!=b&&d();delete u[a]}if(!(c=f(a))||E(c)){u[a]=b}else{b(c)}}function E(a){var b,c,d;for(c in t){if(!(d=t[c])[z]&&(b=d.domid)&&k(f(b),a)){return 1}}}function D(a,b){if(t[a]==b){s[a]=t[a];delete t[a]}}function C(a,b){t[a]&&(t[a][w]=B());t[a]=b}function B(){return new Date*1}var c=document.body;var d=window;var e=setTimeout;var f=a.E;var g=a.scriptM;var h=a.prevResources;var i=a.evt.custEvent;var j=a.dom.ready;var k=a.dom.contains;var l=a.util.enterFrame;var m=a.view.jsLoader;var n=a.view.cssLoader;var o=a.view.timeChunk;var p=h.check;var q=i.fire;var r={};var s={};var t={};var u={};var v;var w="abort";var x="viewReady";var y="cssReady";var z="renderReady";var A="jsReady";r.view=function(a){function L(){function c(){--a<=0&&K()}var a,b;i=[].concat(i||[]);if(a=i.length){e(K,v);while(b=i.shift()){p(b)?c():n(b,c,"js_"+b.replace(/^\/?(.*)\.css\??.*$/i,"$1").replace(/\//g,"_"))}}else{K()}}function K(){if(K.r)return;K.r=1;a[y]=B();t(y);a[w]?I():J()}function J(){function c(b){I();b||a[w]||H()}d?o(function(){F(d,function(e){if(!a[w]&&e&&f!=b){G(e,d);e.innerHTML=f||"";l(c);delete a.html}else{c(true)}})}):c(true)}function I(){a[z]=B();t(z);a[w]?u():E()}function E(){function a(){m(h,u)}if(h&&!p(h)){j?e(a,j):a()}else{u()}}function u(){if(!a[w]){if(c){g.clear(c,d);g.start(c,d,a)}D(s,a)}a[A]=B();t(A)}function t(b){q(r,b,a)}a=a||{};var c=a.ns;var d=a.domid;var f=a.html;var h=a.js;var i=a.css;var j=a.jsDely||0;var k=a.renderDely||0;var s=d||c;if(!s){return}C(s,a);k?e(L,k):L();a[x]=B();t(x)};r.getViews=function(){return s};r.DUC=function(){var a={},b,c,d;for(c in s){if(b=s[c].css){b=[].concat(b);for(d=b.length;--d>-1;){b[d]&&(a[b[d]]=1)}}}h.del(a);n.del(a)};r.FWR=function(){o(function(){H();for(var a in u){if(t[a]){t[a][w]=B();delete t[a]}u[a]()}u={}})};r.init=function(a){a=a||{};v=a.cssOutTime||5e3;m.init(a);n.init(a)};r.destroy=function(){s={};t={};u={}};return r});var b=document.body;var c=a;var d=c.dom.ready;var e=c.scriptM;var f=c.prevResources;var g=c.evt.custEvent;var h=c.evt.addEvent;var i=c.evt.removeEvent;var j=c.linkFilter;var k=c.historyM;var l=c.iLoader;var m=c.viewExcuter;var n=g.on;var o=g.un;var p=g.fire;var q=c.util.log;var r="stateChange";var s="iLoadStart";var t="iLoadAbort";var u="iLoadEnd";var v="allViewReady";var w="allCssReady";var x="allRenderReady";var y="allJsReady";var z="plViewReady";var A="plCssReady";var B="plRenderReady";var C="plJsReady";var D;var E;var F=true;var G=false;var H=0;var I=0;var J=0;var K;var L;var M;var N;var O=false;var T;n(c,w,function(){T=setTimeout(function(){m.FWR()},1e3)});n(c,x,function(){clearTimeout(T)});var Y={init:V,initView:function(a){if(D){return}m.init(a);f.load(document.getElementsByTagName("link"));U();D=true},register:e.register,start:e.start,startAll:e.startAll,clear:e.clear,clearAll:e.clearAll,getURL:k.getURL,getState:k.getState,setState:function(a,b){E=b;k.setState(a)},replaceState:function(a,b){E=b;k.replaceState(a)},setQuery:function(a,b){E=b;k.setQuery(a)},replaceQuery:function(a,b){E=b;k.replaceQuery(a)},setPlainHash:k.setPlainHash,reload:function(){k.setState(k.getState())},iLoad:X,view:m.view,isOrigPageRenderReady:function(){return O},getViews:m.getViews,destroy:W,log:q};(function(){var a=["on","un"];var b;var d=[r,s,t,u,v,w,x,y,z,A,B,C];for(var e=0;b=a[e++];){for(var f=0;d[f];){(function(a,b){Y[a+b]=function(d){g[a](c,b,d)}})(b,d[f++])}}})();return Y}();
STK.register("fm",function(a){function q(a){var b;if(a&&((b=a.match(p("pl")))||(b=a.match(p("trustPagelet"))))){return b[1].replace(/\//g,".")}}function p(a){return new RegExp("^.*?\\/("+a+"\\/.*?)(_[a-z\\d]{16})?\\.js\\??.*$")}function o(){return decodeURIComponent(b.location.toString())}function i(b,c){f.register(b,function(b,d){return c(a,b,d)})}function h(a){var b=a||{};b.domid=b.domid||b.pid;"pid"in b&&delete b.pid;b.js=b.js&&b.js[0];"ns"in b||(b.ns=q(b.js));f.view(b)}var b=window;var c=b.$CONFIG;var d=a.custEvent;var e=d.fire;if(!c){return}var f=FM;var g={bpType:c.bpType,jsPath:c.jsPath,cssPath:c.cssPath,mJsPath:c.mJsPath,tagNames:"em|img|span|i"};if(c.bigpipe=="true"){f.init(g)}else{f.initView(g)}var j={};for(var k in f){j[k]=f[k]}j.register=i;j.view=h;a.pageletM={register:i,start:function(a,b,c){if(a){f.start(a,b,c)}else{f.startAll()}},clear:function(a,b){if(a){f.clear(a,b)}else{f.clearAll()}},view:h};if(c.bigpipe=="true"){a.historyM={onpopstate:function(a){f.onstateChange(function(b,c,d){a(c,d)})},removePopstate:f.unstateChange,setPlainHash:f.setPlainHash,setQuery:function(a,b){f.setQuery(a,b&&b.callChange||false)},replaceQuery:function(a,b){f.replaceQuery(a,b&&b.callChange||false)},pushState:function(a,b){f.setState(a,!(b&&!b.callChange))},replaceState:function(a,b){f.replaceState(a,!(b&&!b.callChange))},parseURL:function(){var a=f.getURL();a.path.substring(1);a.url=a.href;a.scheme=a.protocol;return a},getURL:function(b){var c=a.parseURL(b||o());return{host:c.host,path:"/"+c.path,query:c.query,hash:c.hash}}};var l=a.bigpipeM={ajaxpipeLoader:f.iLoad};f.oniLoadStart(function(a){e(l,"pipeLoadStart",a)});f.oniLoadEnd(function(a){e(l,"pipeLoadEnd",a)});f.oniLoadAbort(function(a){e(l,"pipeLoadAbort",a)});d.define(l,["pipeLoadStart","pipeLoadAbort","pipeLoadEnd"])}var m=[];var n=a.pageletView={onload:function(a){if(m){m.push(a)}else{a()}},originalPagePlRendReady:f.isOrigPageRenderReady};a.addEvent(b,"load",function(){a.removeEvent(b,"load",arguments.callee);for(var c=0;c<m.length;++c){m[c]()}m=0});f.onallRenderReady(function(){e(n,"allPlRendReady")});d.define(n,"allPlRendReady");return j});
;
STK.register("kit.dom.parseDOM",function(a){return function(a){for(var b in a){if(a[b]&&a[b].length==1){a[b]=a[b][0]}}return a}});
STK.register("kit.extra.language",function(a){window.$LANG||(window.$LANG={});return function(b,c){var d=a.core.util.language(b,$LANG);d=d.replace(/\\}/ig,"}");if(c){d=a.templet(d,c)}return d}});
STK.register("kit.extra.reuse",function(a){return function(b,c){var d,e,f;d=a.parseParam({},c);f=[];var g=function(){var a=b();f.push({store:a,used:true});return a};var h=function(b){a.foreach(f,function(a,c){if(b===a["store"]){a["used"]=true;return false}})};var i=function(b){a.foreach(f,function(a,c){if(b===a["store"]){a["used"]=false;return false}})};var j=function(){for(var a=0,b=f.length;a<b;a+=1){if(f[a]["used"]===false){f[a]["used"]=true;return f[a]["store"]}}return g()};e={};e.setUsed=h;e.setUnused=i;e.getOne=j;e.getLength=function(){return f.length};return e}});
STK.register("module.layer",function(a){var b=function(a){var b={};if(a.style.display=="none"){a.style.visibility="hidden";a.style.display="";b.w=a.offsetWidth;b.h=a.offsetHeight;a.style.display="none";a.style.visibility="visible"}else{b.w=a.offsetWidth;b.h=a.offsetHeight}return b};var c=function(c,d){d=d||"topleft";var e=null;if(c.style.display=="none"){c.style.visibility="hidden";c.style.display="";e=a.core.dom.position(c);c.style.display="none";c.style.visibility="visible"}else{e=a.core.dom.position(c)}if(d!=="topleft"){var f=b(c);if(d==="topright"){e["l"]=e["l"]+f["w"]}else if(d==="bottomleft"){e["t"]=e["t"]+f["h"]}else if(d==="bottomright"){e["l"]=e["l"]+f["w"];e["t"]=e["t"]+f["h"]}}return e};return function(d){var e=a.core.dom.builder(d);var f=e.list["outer"][0],g=e.list["inner"][0];var h=a.core.dom.uniqueID(f);var i={};var j=a.core.evt.custEvent.define(i,"show");a.core.evt.custEvent.define(j,"hide");var k=null;i.show=function(){f.style.display="";a.core.evt.custEvent.fire(j,"show");return i};i.hide=function(){f.style.display="none";a.custEvent.fire(j,"hide");return i};i.getPosition=function(a){return c(f,a)};i.getSize=function(a){if(a||!k){k=b.apply(i,[f])}return k};i.html=function(a){if(a!==undefined){g.innerHTML=a}return g.innerHTML};i.text=function(b){if(text!==undefined){g.innerHTML=a.core.str.encodeHTML(b)}return a.core.str.decodeHTML(g.innerHTML)};i.appendChild=function(a){g.appendChild(a);return i};i.getUniqueID=function(){return h};i.getOuter=function(){return f};i.getInner=function(){return g};i.getParentNode=function(){return f.parentNode};i.getDomList=function(){return e.list};i.getDomListByKey=function(a){return e.list[a]};i.getDom=function(a,b){if(!e.list[a]){return false}return e.list[a][b||0]};i.getCascadeDom=function(b,c){if(!e.list[b]){return false}return a.core.dom.cascadeNode(e.list[b][c||0])};return i}});
STK.register("module.dialog",function(a){return function(b,c){if(!b){throw"module.dialog need template as first parameter"}var d,e,f,g,h,i,j,k,l,m,n,o;l=true;var p=function(){if(l!==false){e.hide()}};var q=function(){d=a.parseParam({t:null,l:null,width:null,height:null},c);e=a.module.layer(b,d);g=e.getOuter();h=e.getDom("title");k=e.getDom("title_content");i=e.getDom("inner");j=e.getDom("close");a.addEvent(j,"click",function(){n()});a.custEvent.add(e,"show",function(){a.hotKey.add(document.documentElement,["esc"],p,{type:"keyup",disableInInput:true})});a.custEvent.add(e,"hide",function(){a.hotKey.remove(document.documentElement,["esc"],p,{type:"keyup"});l=true})};q();o=a.objSup(e,["show","hide"]);n=function(b){if(typeof m==="function"&&!b){if(m()===false){return false}}o.hide();if(a.contains(document.body,e.getOuter())){document.body.removeChild(e.getOuter())}return f};f=e;f.show=function(){if(!a.contains(document.body,e.getOuter())){document.body.appendChild(e.getOuter())}o.show();return f};f.hide=n;f.setPosition=function(a){g.style.top=a["t"]+"px";g.style.left=a["l"]+"px";return f};f.setMiddle=function(){var b=a.core.util.winSize();var c=e.getSize(true);var d;if(window.FrameInner&&window.FrameInner.outInfo){var h=FrameInner.outInfo;if(typeof h=="string"){h=a.strToJson(h)}var i=h.parent.scroll.top;var j=h.iframe.position.top;var k=h.parent.size.height;d=i-j+(k-c.h)/2;var l=b.height-c.h;if(l<d){d=l}}else{d=a.core.util.scrollPos()["top"]+(b.height-c.h)/2}g.style.top=(parseInt(d)>30?d:30)+"px";g.style.left=(b.width-c.w)/2+"px";window.FrameInner&&FrameInner.diaAutoHeight&&FrameInner.diaAutoHeight(g);return f};f.setTitle=function(a){k.innerHTML=a;return f};f.setContent=function(a){if(typeof a==="string"){i.innerHTML=a}else{i.appendChild(a)}return f};f.clearContent=function(){while(i.children.length){a.removeNode(i.children[0])}return f};f.setAlign=function(){};f.setBeforeHideFn=function(a){m=a};f.clearBeforeHideFn=function(){m=null};f.unsupportEsc=function(){l=false};f.supportEsc=function(){l=true};return f}});
STK.register("kit.dom.cssText",function(a){var b=function(a,b){var c=(a+";"+b).replace(/(\s*(;)\s*)|(\s*(:)\s*)/g,"$2$4"),d;while(c&&(d=c.match(/(^|;)([\w\-]+:)([^;]*);(.*;)?\2/i))){c=c.replace(d[1]+d[2]+d[3],"")}return c};return function(a){a=a||"";var c=[],d={push:function(a,b){c.push(a+":"+b);return d},remove:function(a){for(var b=0;b<c.length;b++){if(c[b].indexOf(a+":")==0){c.splice(b,1)}}return d},getStyleList:function(){return c.slice()},getCss:function(){return b(a,c.join(";"))}};return d}});
STK.register("kit.dom.fix",function(a){function f(c,e,f){if(!d(c))return;var g="fixed",h,i,j,k,l=c.offsetWidth,m=c.offsetHeight,n=a.core.util.winSize(),o=0,p=0,q=a.kit.dom.cssText(c.style.cssText);if(!b){g="absolute";var r=a.core.util.scrollPos();o=h=r.top;p=i=r.left;switch(e){case"lt":h+=f[1];i+=f[0];break;case"lb":h+=n.height-m-f[1];i+=f[0];break;case"rt":h+=f[1];i+=n.width-l-f[0];break;case"rb":h+=n.height-m-f[1];i+=n.width-l-f[0];break;case"c":default:h+=(n.height-m)/2+f[1];i+=(n.width-l)/2+f[0]}j=k=""}else{h=k=f[1];i=j=f[0];switch(e){case"lt":k=j="";break;case"lb":h=j="";break;case"rt":i=k="";break;case"rb":h=i="";break;case"c":default:h=(n.height-m)/2+f[1];i=(n.width-l)/2+f[0];k=j=""}}if(e=="c"){if(h<o)h=o;if(i<p)i=p}q.push("position",g).push("top",h+"px").push("left",i+"px").push("right",j+"px").push("bottom",k+"px");c.style.cssText=q.getCss()}function e(b){b=a.core.arr.isArray(b)?b:[0,0];for(var c=0;c<2;c++){if(typeof b[c]!="number")b[c]=0}return b}function d(b){return a.core.dom.getStyle(b,"display")!="none"}var b=!(a.core.util.browser.IE6||document.compatMode!=="CSS1Compat"&&STK.IE),c=/^(c)|(lt)|(lb)|(rt)|(rb)$/;return function(d,g,h){var i,j,k=true,l;if(a.core.dom.isNode(d)&&c.test(g)){var m={getNode:function(){return d},isFixed:function(){return k},setFixed:function(a){(k=!!a)&&f(d,i,j);return this},setAlign:function(a,b){if(c.test(a)){i=a;j=e(b);k&&f(d,i,j)}return this},destroy:function(){if(!b){b&&a.core.evt.removeEvent(window,"scroll",n)}a.core.evt.removeEvent(window,"resize",n);a.core.evt.custEvent.undefine(l)}};l=a.core.evt.custEvent.define(m,"beforeFix");m.setAlign(g,h);function n(c){c=c||window.event;a.core.evt.custEvent.fire(l,"beforeFix",c.type);if(k&&(!b||i=="c")){f(d,i,j)}}if(!b){a.core.evt.addEvent(window,"scroll",n)}a.core.evt.addEvent(window,"resize",n);return m}}});
STK.register("module.mask",function(a){function k(b){var c;if(!(c=b.getAttribute(f))){b.setAttribute(f,c=a.getUniqueKey())}return">"+b.tagName.toLowerCase()+"["+f+'="'+c+'"]'}function j(){b=a.C("div");var c='<div node-type="outer">';if(a.core.util.browser.IE6){c+='<div style="position:absolute;width:100%;height:100%;"></div>'}c+="</div>";b=a.builder(c).list["outer"][0];document.body.appendChild(b);e=true;d=a.kit.dom.fix(b,"lt");var f=function(){var c=a.core.util.winSize();b.style.cssText=a.kit.dom.cssText(b.style.cssText).push("width",c.width+"px").push("height",c.height+"px").getCss()};i.add(d,"beforeFix",f);f()}var b,c=[],d,e=false,f="STK-Mask-Key";var g=a.core.dom.setStyle,h=a.core.dom.getStyle,i=a.core.evt.custEvent;var l={getNode:function(){return b},show:function(c,f){if(e){c=a.core.obj.parseParam({opacity:0,background:"#000000"},c);b.style.background=c.background;g(b,"opacity",c.opacity);b.style["opacity"]=c.opacity;b.style.display="";d.setAlign("lt");f&&f()}else{a.Ready(function(){j();l.show(c,f)})}return l},hide:function(){b.style.display="none";nowIndex=undefined;c=[];return l},showUnderNode:function(d,e){if(a.isNode(d)){l.show(e,function(){g(b,"zIndex",h(d,"zIndex"));var e=k(d);var f=a.core.arr.indexOf(c,e);if(f!=-1){c.splice(f,1)}c.push(e);a.core.dom.insertElement(d,b,"beforebegin")})}return l},back:function(){if(c.length<1)return l;var d,e;c.pop();if(c.length<1){l.hide()}else if((e=c[c.length-1])&&(d=a.sizzle(e,document.body)[0])){g(b,"zIndex",h(d,"zIndex"));a.core.dom.insertElement(d,b,"beforebegin")}else{l.back()}return l},destroy:function(){i.remove(d);b.style.display="none";lastNode=undefined;_cache={}}};return l});
STK.register("kit.dom.drag",function(a){return function(b,c){var d,e,f,g,h,i,j,k;var l=function(){m();n()};var m=function(){d=a.parseParam({moveDom:b,perchStyle:"border:solid #999999 2px;",dragtype:"perch",actObj:{},pagePadding:5},c);f=d.moveDom;e={};g={};h=a.drag(b,{actObj:d.actObj});if(d["dragtype"]==="perch"){i=a.C("div");j=false;k=false;f=i}b.style.cursor="move"};var n=function(){a.custEvent.add(d.actObj,"dragStart",o);a.custEvent.add(d.actObj,"dragEnd",p);a.custEvent.add(d.actObj,"draging",q)};var o=function(c,e){document.body.style.cursor="move";var f=a.core.util.pageSize()["page"];g=a.core.dom.position(d.moveDom);g.pageX=e.pageX;g.pageY=e.pageY;g.height=d.moveDom.offsetHeight;g.width=d.moveDom.offsetWidth;g.pageHeight=f["height"];g.pageWidth=f["width"];if(d["dragtype"]==="perch"){var h=[];h.push(d["perchStyle"]);h.push("position:absolute");h.push("z-index:"+(d.moveDom.style.zIndex+10));h.push("width:"+d.moveDom.offsetWidth+"px");h.push("height:"+d.moveDom.offsetHeight+"px");h.push("left:"+g["l"]+"px");h.push("top:"+g["t"]+"px");i.style.cssText=h.join(";");k=true;setTimeout(function(){if(k){document.body.appendChild(i);j=true}},100)}if(b.setCapture!==undefined){b.setCapture()}};var p=function(a,c){document.body.style.cursor="auto";if(b.setCapture!==undefined){b.releaseCapture()}if(d["dragtype"]==="perch"){k=false;d.moveDom.style.top=i.style.top;d.moveDom.style.left=i.style.left;if(j){document.body.removeChild(i);j=false}}};var q=function(a,b){var c=g.t+(b.pageY-g.pageY);var e=g.l+(b.pageX-g.pageX);var h=c+g["height"];var i=e+g["width"];var j=g["pageHeight"]-d["pagePadding"];var k=g["pageWidth"]-d["pagePadding"];if(h<j&&c>0){f.style.top=c+"px"}else{if(c<0){f.style.top="0px"}if(h>=j){f.style.top=j-g["height"]+"px"}}if(i<k&&e>0){f.style.left=e+"px"}else{if(e<0){f.style.left="0px"}if(i>=k){f.style.left=k-g["width"]+"px"}}};l();e.destroy=function(){document.body.style.cursor="auto";if(typeof f.setCapture==="function"){f.releaseCapture()}if(d["dragtype"]==="perch"){k=false;if(j){document.body.removeChild(i);j=false}}a.custEvent.remove(d.actObj,"dragStart",o);a.custEvent.remove(d.actObj,"dragEnd",p);a.custEvent.remove(d.actObj,"draging",q);if(h.destroy){h.destroy()}d=null;f=null;g=null;h=null;i=null;j=null;k=null};e.getActObj=function(){return d.actObj};return e}});
STK.register("ui.dialogV6",function(a){var b=""+'<div class="W_layer" node-type="outer" style="display:none;position:absolute;z-index:10001">'+'<div class="content">'+'<div class="W_layer_title" node-type="title"><span node-type="title_content"></span></div>'+'<div class="W_layer_close"><a href="javascript:void(0);" onclick="return false;" class="W_ficon ficon_close S_ficon" title="#L{关闭}" node-type="close">X</a></div>'+'<div node-type="inner"></div>'+"</div>"+"</div>";var c=a.kit.extra.language;var d=null;var e=function(){var d=a.module.dialog(c(b));a.custEvent.add(d,"show",function(){a.module.mask.showUnderNode(d.getOuter(),{opacity:.5,background:"#000000"})});a.custEvent.add(d,"hide",function(){a.module.mask.back();d.setMiddle()});d.destroy=function(){f(d);try{d.hide(true)}catch(a){}};return d};var f=function(a){a.setTitle("").clearContent();d.setUnused(a)};return function(b){var c=a.parseParam({isHold:false},b);var g=c["isHold"];c=a.core.obj.cut(c,["isHold"]);if(!d){d=a.kit.extra.reuse(e)}var h=d.getOne();if(!g){a.custEvent.add(h,"hide",function(){a.custEvent.remove(h,"hide",arguments.callee);f(h)})}return h}});
STK.register("ui.alertV6",function(a){var b=""+'<div node-type="outer">'+'<div class="layer_point" style="width:200px;" node-type="inner">'+'<dl class="point clearfix">'+"<dt>"+'<span class="W_icon" node-type="icon">'+"</dt>"+"<dd>"+'<p class="W_f14" node-type="text"></p>'+"</dd>"+"</dl>"+"</div>"+'<div class="W_layer_btn S_bg1">'+'<a class="W_btn_a" node-type="OK"></a>'+"</div>"+"</div>";var c={success:"W_icon icon_succB",error:"W_icon icon_rederrorB",warn:"W_icon icon_warnB",question:"W_icon icon_questionB"};var d=a.kit.extra.language;var e=null;var f=function(a,b){a.getDom("icon").className=b["icon"];a.getDom("text").innerHTML=b["text"];a.getDom("OK").innerHTML=b["OKText"]};return function(g,h){var i,j,k,l,m;i=a.parseParam({title:d("#L{提示}"),icon:"warn",text:g,OK:a.funcEmpty,OKText:d("#L{确定}"),timeout:0},h);i["icon"]=c[i["icon"]];j={};if(!e){e=a.kit.extra.reuse(function(){var c=a.module.layer(d(b));return c})}k=e.getOne();l=a.ui.dialogV6();l.setContent(k.getOuter());l.setTitle(i["title"]);f(k,i);a.addEvent(k.getDom("OK"),"click",l.hide);a.custEvent.add(l,"hide",function(){a.custEvent.remove(l,"hide",arguments.callee);a.removeEvent(k.getDom("OK"),"click",l.hide);e.setUnused(k);clearTimeout(m);i["OK"]()});if(i["timeout"]){m=setTimeout(l.hide,i["timeout"])}l.show().setMiddle();j.alt=k;j.dia=l;return j}});
STK.register("kit.io.cssLoader",function(a){var b=$CONFIG["version"]||"";var c="http://img.t.sinajs.cn/t4/";if(typeof $CONFIG!="undefined"){c=$CONFIG.cssPath||c}var d={};return function(e,f,g,h){h=h||b;g=g||function(){};var i=function(a,b){var c=d[a]||(d[a]={loaded:false,list:[]});if(c.loaded){b(a);return false}c.list.push(b);if(c.list.length>1){return false}return true};var j=function(a){var b=d[a].list;for(var c=0;c<b.length;c++){b[c](a)}d[a].loaded=true;delete d[a].list};if(!i(e,g))return;var k=c+e+"?version="+h;var l=a.C("link");l.setAttribute("rel","Stylesheet");l.setAttribute("type","text/css");l.setAttribute("charset","utf-8");l.setAttribute("href",k);document.getElementsByTagName("head")[0].appendChild(l);var m=a.C("div");m.id=f;a.core.util.hideContainer.appendChild(m);var n=3e3;var o=function(){if(parseInt(a.core.dom.getStyle(m,"height"))==42){a.core.util.hideContainer.removeChild(m);j(e);return}if(--n>0){setTimeout(o,10)}else{a.log(e+"timeout!");a.core.util.hideContainer.removeChild(m);delete d[e]}};setTimeout(o,50)}});
STK.register("lib.cite.selfSuda",function(a){var b="esuda";var c=location.protocol=="https:"?"https://sbeacon.sina.com.cn/e.gif?":"http://beacon.sina.com.cn/e.gif?";var d=document.createElement("img");return function(e){b=e||b;if(window.__SELFSUDA){return}var f=function(d){var e=a.queryToJson(d.getAttribute(b));var f=c;f+="UATrack";f+="||"+STK.core.util.cookie.get("SINAGLOBAL");f+="||"+STK.core.util.cookie.get("Apache");f+="||";f+="||"+e.key;f+="||"+e.value;f+="||"+encodeURIComponent(document.referer||"");f+="||"+encodeURIComponent(d.href||"");f+="||"+encodeURIComponent(location.href||"");f+="||WEIBO-V6:&"+(e.ext||"")+":&gUid_"+(new Date).getTime();return f};var g=!navigator.userAgent.match(/AppleWebKit.*Mobile.*/)?"click":"touchstart";var e=0;var h=function(a,c){c++;if(a.getAttribute(b)){return a}else if(a==document.body||!a.parentNode||c<5){return false}else{return h(a.parentNode,c)}};a.addEvent(document.body,g,function(){var c=a.core.evt.fixEvent().target;e=0;c=h(c,b);if(!c){return}var g=f(c);d.src=g});window.__SELFSUDA=b}});
STK.register("pl.reward_m.source.init",function(a){var b=a.core.evt.addEvent;var c="//e.weibo.com/v1/public/paid/reward";var d="//e.weibo.com/v1/public/paid/order/rsacreate";var e=['<#et articleReward data><div class="reward_w ${data.type != "page" ? "endzy-reward-layer" : "endzy-reward-page"}" node-type="rewardLayer">','<#if (data.type != "page")><p class="reward-bg"></p></#if>','<div class="reward-box">','<div class="reward-content">','<#if (data.type != "page")><h3 class="reward-title">微博打赏<span action-type="rewardClose" class="reward-close"></span></h3></#if>','<div class="reward-user-head">','<p class="reward-tip" node-type="userTip">轻点头像，身份仅对作者可见</p>','<div node-type="userHeadBox">','<a class="reward-img-box" action-type="userHead" href="javascript:;" esuda="key=tblog_weibo_dashang&value=shang_avatar_owner_pc">','<img node-type="headImg" class="reward-head-img" data-src="//img.t.sinajs.cn/t6/style/images/apps_PCD/reward/user-hide.jpg" src="${data.avatar}" />',"<#if (data.buyer_person_type == 0)>",'<i class="W_icon icon_pf_approve"></i>',"<#elseif (data.buyer_person_type == 1)>",'<i class="W_icon icon_pf_approve_co"></i>',"<#elseif (data.buyer_person_type == 2)>",'<i class="W_icon icon_pf_approve_gold"></i>',"</#if>","</a>",'<p class="reward-user-name" node-type="userName">${data.nickName}</p>',"</div>","</div>",'<div class="reward-in">','<label class="icon-mon" for="endzy-rewardNum">￥</label><input id="endzy-rewardNum" node-type="rewardNum" action-type="rewardNum" class="reward-num" type="text" value="${data.defaultPrice}"/>','<label for="endzy-rewardNum" class="reward-random" action-type="rewardRandom"></label>','<div class="W_layer W_layer_pop" node-type="rewardErr">','<div class="content layer_mini_info">','<p class="main_txt">','<i class="W_icon icon_rederrorS"></i>','<span class="txt S_txt1" node-type="errText">请输入正确的金额</span>','<a action-type="clearMsg" class="W_ficon ficon_close S_ficon">X</a>',"</p>",'<div class="W_layer_arrow">','<span class="W_arrow_bor W_arrow_bor_b">','<i class="S_line3"></i><em class="S_bg2_br"></em>',"</span>","</div>","</div>","</div>","</div>",'<div class="reward-pay-bt">','<p class="reward-pay-box">','<a action-type="pay" class="reward-pay" href="javascript:;">立即支付</a>','<span class="reward-pay-war">打赏无悔，概不退款</span>',"</p>","</div>","</div>","</div>","</div></#et>"].join("");var f=['<#et renderData data><div class="rewardcomponent feed_app_btn_a fend_app_reward">','<p class="feed_app_reward_title" node-type="rewardTxt">${data.attract}</p>','<p class="btn fend_app_reward_btn"><a esuda="key=tblog_weibo_reward&value=reward_button_pc&ext=${data.uid}:${data.bid}:${data.object_type}:${data.object_id}" href="javascript:void(0);" class="btn_b" action-type="buyWrap" action-data="type=reward" node-data="${data.actParam}" config-data="reward=${data.price}">赏</a></p>','<p class="con S_txt2 fend_app_reward_persons_number">${data.tip_text}</p> ','<#if (data.reward_user != "")>','<div class="WB_face fend_app_reward_persons">','<ul class="fend_app_reward_persons_real">',"<#list data.reward_user as list>",'<li class="fend_app_reward_person">','<#if (list.uid == "")>','<a href="javascript:;" style="cursor:default;">',"<#else>",'<a href="${list.profile_url}" target="_blank">',"</#if>",'<img class="face_reward" usercard="id=${list.uid}" src="${list.img_url}">',"<#if (list.person_type == 0)>",'<i class="W_icon icon_pf_approve"></i>',"<#elseif (list.person_type == 1)>",'<i class="W_icon icon_pf_approve_co"></i>',"<#elseif (list.person_type == 2)>",'<i class="W_icon icon_pf_approve_gold"></i>',"</#if>","</a>","</li>","</#list>","</ul>","</div>","</#if>","</div></#et>"].join("");return function(g){var h={};var i=a.queryToJson(g.getAttribute("extendParam"));var j=a.queryToJson(g.getAttribute("rewardComponent"));var k=i.version||1;var l=i.type||"layer";var m=i.extparam||{};var n=a.core.util.easyTemplate;var o={idx:0,DOM:{errTip:null,inputNode:null,errText:null},Datas:{rewardParam:{},maxPrice:"",definePrice:"",wrongPriceTip:"请输入正确地金额",oversizePriceTip:"单次打赏金额不能超过",checkInput:true},turn:{stat:false,hide:false,name:"匿名",tip:"轻点头像，公开身份打赏",img:"user-hide.jpg",esuda:"key=tblog_weibo_dashang&value=shang_avatar_anonymity_pc"},objs:{},DOMFun:{showLayer:function(b){var c=a.queryToJson(b.el.getAttribute("node-data"));o.Datas.tradeInfo=b.el.getAttribute("node-data");if(b.data.type!=="reward")return false;if(c.seller==c.buyer){a.ui.alertV6("不能给自己打赏哦");return false}var d={};d.defaultPrice=o.Datas.rewardParam.price;d.avatar=o.Datas.rewardParam.avatar;d.buyer_person_type=o.Datas.rewardParam.buyer_person_type;if(!o.Datas.rewardParam.screenName){o.Datas.rewardParam.screenName="&nbsp;"}d.nickName=o.Datas.rewardParam.screenName;d.type=l;var f=n(e,d);a.insertHTML(document.body,f,"beforeend");o.bindFun.bindNode();o.objs.layerDelegate=a.core.evt.delegatedEvent(o.DOM["layerNode"]);v();o.bindFun.layerFunBind()},clearMsg:function(){o.DOM["rewardErr"].style.display="none"},checkInput:function(){var a=o.formFun.verify(o.DOM["inputNode"]);if(!a){o.DOM["rewardErr"].style.display="block";o.Datas.checkInput=false;return false}o.Datas.checkInput=true;return true},closeReward:function(){o.turn.hide=false;a.removeNode(o.DOM["layerNode"])},rewardRandom:function(){if(o.Datas.randomStat)return false;var a=o.Datas.randPrice;o.DOMFun.clearMsg();o.Datas.randomStat=true;o.Datas.randomInter=setInterval(function(){if(o.Datas.rewardParam.price<3){o.Datas.rewardParam.price=9.99}var a=parseInt((70+Math.random()*60)*o.Datas.rewardParam.price)/100;o.DOM["inputNode"].value=a==0?o.Datas.rewardParam.price:a.toFixed(2)},80);setTimeout(function(){clearInterval(o.Datas.randomInter);if(a instanceof Array&&a.length>0){o.DOM["inputNode"].value=a[o.idx];o.idx=o.idx<parseInt(a.length)-1?o.idx+1:0}o.Datas.randomStat=false},1e3)},showTip:function(a){o.Datas.mouseout=false;o.objs.showTipState&&o.objs.showTipState.stop();o.objs.hideTipState&&o.objs.hideTipState.stop();o.objs.showTipState=STK.core.ani.tween(o.DOM["userTip"],{duration:400,animationType:"easeoutcubic"});o.objs.showTipState.play({opacity:1})},hideTip:function(a){o.Datas.mouseout=true;var b=window.event||a.evt;var c=b.target||b.srcElement;if(b.fromElement){b.toDom=b.fromElement}else if(b.toElement){b.toDom=b.toElement}else{b.toDom=b.relatedTarget}if(b.toDom.parentNode==c)return false;o.objs.showTipState.stop();o.objs.hideTipState&&o.hideTipState.stop();o.objs.showTipState=STK.core.ani.tween(o.DOM["userTip"],{duration:400,animationType:"easeoutcubic"});o.objs.showTipState.play({opacity:0})},fadeIn:function(b){if(o.turn.stat)return false;o.turn.stat=true;STK.core.ani.tween(o.DOM["userHeadBox"],{duration:200,animationType:"easeoutcubic",end:function(){o.turn.hide=!o.turn.hide;var c=a.sizzle("i.W_icon",o.DOM["userHeadBox"])[0];if(o.turn.hide&&c){c.style.display="none"}else if(c){c.style.display="inline-block"}var d=o.DOM["headImg"].src;o.DOM["headImg"].src=o.DOM["headImg"].getAttribute("data-src");o.DOM["headImg"].setAttribute("data-src",d);var e=o.DOM["userName"].innerHTML;o.DOM["userName"].innerHTML=o.turn.name;o.turn.name=e;o.DOMFun.fadeOut(b);var f=b.el.getAttribute("esuda");b.el.setAttribute("esuda",o.turn["esuda"]);o.turn["esuda"]=f}}).finish({opacity:0})},fadeOut:function(a){STK.core.ani.tween(o.DOM["userHeadBox"],{duration:200,animationType:"easeoutcubic",end:function(){o.turn.stat=false;STK.core.ani.tween(o.DOM["userTip"],{duration:200,animationType:"easeoutcubic",end:function(){var a=o.DOM["userTip"].innerHTML;o.DOM["userTip"].innerHTML=o.turn.tip;o.turn.tip=a;if(!o.mouseout){STK.core.ani.tween(o.DOM["userTip"],{duration:200,animationType:"easeoutcubic"}).finish({opacity:1})}}}).finish({opacity:0})}}).finish({opacity:1})},pay:function(b){a.stopEvent();if(!o.Datas.checkInput){return false}var c=o.turn.hide?2:1;var d="&show_status="+c+"&"+o.Datas.tradeInfo+"&price="+o.DOM["inputNode"].value;var e=a.queryToJson(d);e["_t"]=1;if(parseInt(e.deny)===1){o.DOMFun.closeReward();a.ui.alertV6("当前账号不支持打赏");return}o.jsonpFun.payBtnJsonp(e)},createLink:function(a,b,c,d){var e=document.getElementsByTagName("head")[0];var f=document.createElement("link");f.href=a;f.setAttribute("rel","stylesheet");f.setAttribute("type","text/css");e.appendChild(f)}},formFun:{verify:function(a){var b=a.value;if(!b){a.value="";o.DOM["errText"].innerHTML=o.Datas.wrongPriceTip;return false}if(!/^[0-9]*\.{0,1}[0-9]{0,2}$/.test(b)){a.value="";o.DOM["errText"].innerHTML=o.Datas.wrongPriceTip;return false}if(b<=0||b>parseInt(o.Datas.maxPrice)){a.value="";o.DOM["errText"].innerHTML=o.Datas.oversizePriceTip+o.Datas.maxPrice+"元";return false}return true}},bindFun:{layerFunBind:function(){b(o.DOM["inputNode"],"focus",o.DOMFun.clearMsg);b(o.DOM["inputNode"],"blur",o.DOMFun.checkInput)},bindNode:function(){o.DOM["layerNode"]=a.sizzle('[node-type="rewardLayer"]',document.body)[0];o.DOM["inputNode"]=a.sizzle('[node-type="rewardNum"]',o.DOM["layerNode"])[0];o.DOM["rewardErr"]=a.sizzle('[node-type="rewardErr"]',o.DOM["layerNode"])[0];o.DOM["errText"]=a.sizzle('[node-type="errText"]',o.DOM["layerNode"])[0];o.DOM["userTip"]=a.sizzle('[node-type="userTip"]',o.DOM["layerNode"])[0];o.DOM["headImg"]=a.sizzle('[node-type="headImg"]',o.DOM["layerNode"])[0];o.DOM["userName"]=a.sizzle('[node-type="userName"]',o.DOM["layerNode"])[0];o.DOM["userHeadBox"]=a.sizzle('[node-type="userHeadBox"]',o.DOM["layerNode"])[0]}},DFun:{renderComponent:function(a){o.jsonpFun.renderBtnJsonp(a)},renderComponentPage:function(){var b={};b.defaultPrice=o.Datas.rewardParam.price;b.nickName=o.Datas.rewardParam.screenName;b.avatar=o.Datas.rewardParam.avatar;b.type=l;var c=n(e,b);a.insertHTML(document.body,c,"beforeend");o.bindFun.bindNode();o.objs.layerDelegate=a.core.evt.delegatedEvent(o.DOM["layerNode"]);v();o.bindFun.layerFunBind()}},jsonpFun:{renderBtnJsonp:function(b){var d=b;a.jsonp({url:c,args:d,onComplete:function(b){if(a.core.obj.isEmpty(b.data)||b.data.enable!=1){return}if(b.code=="100000"){o.Datas.rewardParam=b.data;o.Datas.maxPrice=b.data.maxPrice;o.Datas.randPrice=b.data.rand_price;if(l=="pagecard"){b.data.uid=a.queryToJson(b.data.actParam).buyer;b.data.object_id=b.data.object_id.replace(/:/g,"_");var c=n(f,b.data);g.setAttribute("rewardcomponentbak",g.getAttribute("rewardcomponent"));g.removeAttribute("rewardcomponent");a.insertHTML(g,c,"afterbegin");var d=a.sizzle("p[node-type=rewardTxt]")[0];d.innerHTML=d.innerHTML.replace(/</g,"&lt;").replace(/>/g,"&gt;")}}if(b.code=="100002"||b.code=="100008"){a.ui.alertV6({text:"请先登录完成打赏"})}}})},payBtnJsonp:function(b){a.jsonp({url:d,args:b,timeout:5e3,onComplete:function(b){if(b.code=="100000"){if(l=="pagecard")o.DOMFun.closeReward();window.location.href=b.data.url}else if(b.code=="100002"||b.code=="100008"){if(!window.WBtopGlobal_loginLayer){STK.core.io.scriptLoader({url:"//tjs.sjs.sinajs.cn/t5/register/js/page/remote/loginLayer.js",onComplete:function(){window.WBtopGlobal_loginLayer({loginSuccessUrl:b.data.url})}})}else{window.WBtopGlobal_loginLayer({loginSuccessUrl:b.data.url})}o.DOMFun.closeReward();return}else{if(l=="pagecard")o.DOMFun.closeReward();a.ui.alertV6(b.msg)}},onTimeout:function(){if(l=="pagecard")o.DOMFun.closeReward();a.ui.alertV6("请求失败，请重试")}})}}};var p=function(){if(!a.core.dom.isNode(g)){throw"pl.reward_m.source.init node没有定义"}};var q=function(){o.DOM=a.kit.dom.parseDOM(a.builder(g).list);if(!1){throw new Error("必需的节点 不存在")}};var r=function(){if(l=="page"){var b="//img.t.sinajs.cn/t6/appstyle/e_subscribe/reward_sdk/css/rewardModule.css?v_p="+k;o.DOMFun.createLink(b);o.Datas.rewardParam=$reward["rewardcomponent"];o.Datas.tradeInfo=o.Datas.rewardParam.actParam;o.Datas.randPrice=o.Datas.rewardParam.rand_price;o.DFun.renderComponentPage()}else{o.Datas.rewardParam=j;if(o.Datas.rewardParam!=""){var b="//img.t.sinajs.cn/t6/appstyle/e_subscribe/reward_sdk/css/rewardModule.css?v_p="+k;o.DOMFun.createLink(b)}o.Datas.rewardParam["_t"]=1;o.DFun.renderComponent(o.Datas.rewardParam)}a.lib.cite.selfSuda()};var s=function(){};var t=function(){o.objs.delegate=a.core.evt.delegatedEvent(g);o.objs.delegate.add("buyWrap","click",o.DOMFun.showLayer)};var u=function(){};var v=function(){o.objs.layerDelegate.add("userHead","mouseover",o.DOMFun.showTip);o.objs.layerDelegate.add("userHead","mouseout",o.DOMFun.hideTip);o.objs.layerDelegate.add("userHead","click",o.DOMFun.fadeIn);o.objs.layerDelegate.add("clearMsg","click",o.DOMFun.clearMsg);o.objs.layerDelegate.add("rewardRandom","click",o.DOMFun.rewardRandom);o.objs.layerDelegate.add("rewardClose","click",o.DOMFun.closeReward);o.objs.layerDelegate.add("pay","click",o.DOMFun.pay)};var w=function(){o.objs.layerDelegate.remove("userHead","mouseover",o.DOMFun.showTip);o.objs.layerDelegate.remove("userHead","mouseout",o.DOMFun.hideTip);o.objs.layerDelegate.remove("userHead","click",o.DOMFun.fadeIn);o.objs.layerDelegate.remove("clearMsg","click",o.DOMFun.clearMsg);o.objs.layerDelegate.remove("rewardRandom","click",o.DOMFun.rewardRandom);o.objs.layerDelegate.remove("rewardClose","click",o.DOMFun.closeReward);o.objs.layerDelegate.remove("pay","click",o.DOMFun.pay);o.objs.delegate.remove("buyWrap","click",o.DOMFun.showLayer);if(o){a.foreach(o.objs,function(a){if(a.destroy){a.destroy()}});o=null}};var x=function(){p();q();r();s();t();u()};x();h.destroy=w;return h}});
STK.register("pl.reward_m.index",function(a){window.rewardComponent=function(){var b=STK.sizzle("[rewardComponent]");for(var c=0;c<b.length;c++){a.pl.reward_m.source.init(b[c])}};rewardComponent()})}();
