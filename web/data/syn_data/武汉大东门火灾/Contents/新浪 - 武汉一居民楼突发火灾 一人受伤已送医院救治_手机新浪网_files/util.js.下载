function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}try{window.prtl={type:"https:"==window.location.protocol?"https":"http",prefix:"https:"==window.location.protocol?"https://":"http://",cUrlSelf:function cUrlSelf(url,const_url){var index_url=url.indexOf("https"),re_url=url,const_url=const_url;if(-1==index_url){if(re_url=url=url.replace("http://",window.prtl.prefix),"undefined"==typeof const_url)return re_url;const_url.forEach(function(element){element.http&&element.https||console.log("const_url参数不符合规范");var reg=eval("/"+element.http+"/i");reg.test(url)&&(re_url=url.replace(reg,"http"==window.prtl.type?element.http:element.https))})}return re_url},cUrlAuto:function cUrlAuto(url){var index_url=url.indexOf("https"),re_url=url,const_url;if(window.httpsjson&&window.httpsjson.prtldomain){if(const_url=window.httpsjson.prtldomain,-1==index_url){if(re_url=url=url.replace("http://",window.prtl.prefix),"undefined"==typeof const_url)return re_url;const_url.forEach(function(element){element.http&&element.https||console.log("const_url参数不符合规范");var reg=eval("/"+element.http+"/i");reg.test(url)&&(re_url=url.replace(reg,"http"==window.prtl.type?element.http:element.https))})}return re_url}},cUrlByCutSize:function(e,t){var n=e.indexOf("https"),r=e;return-1==n&&"https"==window.prtl.type&&(r="https://z"+Math.floor(10*Math.random())+".sinaimg.cn/auto/resize?img="+r+t,console.log("zc*"+e)),r}}}catch(e){console.error(e,"httpsSupport.js")}try{window.httpsjson={prtldomain:[{http:"mjs.sinaimg.cn",https:"mjss.sinaimg.cn"},{http:"n.sinaimg.cn",https:"ns.sinaimg.cn"},{http:"cre.dp.sina.cn",https:"cre-dp.sina.cn"},{http:"k.sinaimg.cn",https:"ks.sinaimg.cn"},{http:"s.api.sina.cn",https:"sapi.sina.cn"},{http:"p.ivideo.sina.com.cn",https:"pvi.sinaimg.cn"}]}}catch(e){console.error(e,"httpsjson.js")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};try{var Zepto=function(){function e(e){return null==e?String(e):q[W.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function o(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function a(e){return"number"==typeof e.length}function s(e){return I.call(e,function(e){return null!=e})}function l(e){return e.length>0?S.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e){return e in M?M[e]:M[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function d(e,t){return"number"!=typeof t||D[c(e)]?t:t+"px"}function p(e){var t,n;return P[e]||(t=N.createElement(e),N.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),P[e]=n),P[e]}function f(e){return"children"in e?L.call(e.children):S.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function m(e,t,n){for(T in t)n&&(o(t[T])||Z(t[T]))?(o(t[T])&&!o(e[T])&&(e[T]={}),Z(t[T])&&!Z(e[T])&&(e[T]=[]),m(e[T],t[T],n)):t[T]!==x&&(e[T]=t[T])}function h(e,t){return null==t?S(e):S(e).filter(t)}function g(e,n,r,i){return t(n)?n.call(e,r,i):n}function v(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){var n=e.className||"",r=n&&n.baseVal!==x;return t===x?r?n.baseVal:n:void(r?n.baseVal=t:e.className=t)}function b(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?S.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)w(e.childNodes[n],t)}var x,T,S,C,E,k,_=[],L=_.slice,I=_.filter,N=window.document,P={},M={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},z=/^\s*<(\w+|!)[^>]*>/,O=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,A=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,j=/^(?:body|html)$/i,R=/([A-Z])/g,H=["val","css","html","text","data","width","height","offset"],B=["after","prepend","before","append"],F=N.createElement("table"),G=N.createElement("tr"),K={tr:N.createElement("tbody"),tbody:F,thead:F,tfoot:F,td:G,th:G,"*":N.createElement("div")},$=/complete|loaded|interactive/,U=/^[\w-]*$/,q={},W=q.toString,V={},X=N.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(e){return e instanceof Array};return V.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=X).appendChild(e),r=~V.qsa(i,t).indexOf(e),o&&X.removeChild(e),r},E=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},k=function(e){return I.call(e,function(t,n){return e.indexOf(t)==n})},V.fragment=function(e,t,n){var r,i,a;return O.test(e)&&(r=S(N.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(A,"<$1></$2>")),t===x&&(t=z.test(e)&&RegExp.$1),t in K||(t="*"),a=K[t],a.innerHTML=""+e,r=S.each(L.call(a.childNodes),function(){a.removeChild(this)})),o(n)&&(i=S(r),S.each(n,function(e,t){H.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},V.Z=function(e,t){return e=e||[],e.__proto__=S.fn,e.selector=t||"",e},V.isZ=function(e){return e instanceof V.Z},V.init=function(e,n){var r;if(!e)return V.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&z.test(e))r=V.fragment(e,RegExp.$1,n),e=null;else{if(n!==x)return S(n).find(e);r=V.qsa(N,e)}else{if(t(e))return S(N).ready(e);if(V.isZ(e))return e;if(Z(e))r=s(e);else if(i(e))r=[e],e=null;else if(z.test(e))r=V.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==x)return S(n).find(e);r=V.qsa(N,e)}}return V.Z(r,e)},S=function(e,t){return V.init(e,t)},S.extend=function(e){var t,n=L.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){m(e,n,t)}),e},V.qsa=function(e,t){var n,i="#"==t[0],o=!i&&"."==t[0],a=i||o?t.slice(1):t,s=U.test(a);return r(e)&&s&&i?(n=e.getElementById(a))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:L.call(s&&!i?o?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},S.contains=N.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},S.type=e,S.isFunction=t,S.isWindow=n,S.isArray=Z,S.isPlainObject=o,S.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},S.inArray=function(e,t,n){return _.indexOf.call(t,e,n)},S.camelCase=E,S.trim=function(e){return null==e?"":String.prototype.trim.call(e)},S.uuid=0,S.support={},S.expr={},S.map=function(e,t){var n,r,i,o=[];if(a(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&o.push(n);else for(i in e)n=t(e[i],i),null!=n&&o.push(n);return l(o)},S.each=function(e,t){var n,r;if(a(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},S.grep=function(e,t){return I.call(e,t)},window.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){q["[object "+t+"]"]=t.toLowerCase()}),S.fn={forEach:_.forEach,reduce:_.reduce,push:_.push,sort:_.sort,indexOf:_.indexOf,concat:_.concat,map:function(e){return S(S.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return S(L.apply(this,arguments))},ready:function(e){return $.test(N.readyState)&&N.body?e(S):N.addEventListener("DOMContentLoaded",function(){e(S)},!1),this},get:function(e){return e===x?L.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return _.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):S(I.call(this,function(t){return V.matches(t,e)}))},add:function(e,t){return S(k(this.concat(S(e,t))))},is:function(e){return this.length>0&&V.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==x)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):a(e)&&t(e.item)?L.call(e):S(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return S(n)},has:function(e){return this.filter(function(){return i(e)?S.contains(this,e):S(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:S(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:S(e)},find:function(e){var t,n=this;return t=e?"object"==("undefined"==typeof e?"undefined":_typeof(e))?S(e).filter(function(){var e=this;return _.some.call(n,function(t){return S.contains(t,e)})}):1==this.length?S(V.qsa(this[0],e)):this.map(function(){return V.qsa(this,e)}):S()},closest:function(e,t){var n=this[0],i=!1;for("object"==("undefined"==typeof e?"undefined":_typeof(e))&&(i=S(e));n&&!(i?i.indexOf(n)>=0:V.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return S(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=S.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return h(t,e)},parent:function(e){return h(k(this.pluck("parentNode")),e)},children:function(e){return h(this.map(function(){return f(this)}),e)},contents:function(){return this.map(function(){return L.call(this.childNodes)})},siblings:function(e){return h(this.map(function(e,t){return I.call(f(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return S.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=S(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){S(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){S(this[0]).before(e=S(e));for(var t;(t=e.children()).length;)e=t.first();S(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=S(this),i=r.contents(),o=n?e.call(this,t):e;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=S(this);(e===x?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return S(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return S(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;S(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(e))for(T in e)v(this,T,e[T]);else v(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:x},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){v(this,e)},this)})},prop:function(e,t){return e=Y[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(R,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?b(r):x},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=S(this),r=g(this,e,t,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof t)return i.style[E(t)]||r.getPropertyValue(t);if(Z(t)){var o={};return S.each(t,function(e,t){o[t]=i.style[E(t)]||r.getPropertyValue(t)}),o}}var a="";if("string"==e(t))n||0===n?a=c(t)+":"+d(t,n):this.each(function(){this.style.removeProperty(c(t))});else for(T in t)t[T]||0===t[T]?a+=c(T)+":"+d(T,t[T])+";":this.each(function(){this.style.removeProperty(c(T))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(S(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?_.some.call(this,function(e){return this.test(y(e))},u(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){C=[];var n=y(this),r=g(this,e,t,n);r.split(/\s+/g).forEach(function(e){S(this).hasClass(e)||C.push(e)},this),C.length&&y(this,n+(n?" ":"")+C.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===x)return y(this,"");C=y(this),g(this,e,t,C).split(/\s+/g).forEach(function(e){C=C.replace(u(e)," ")}),y(this,C.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=S(this),i=g(this,e,n,y(this));i.split(/\s+/g).forEach(function(e){(t===x?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===x?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===x?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=j.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(S(e).css("margin-top"))||0,n.left-=parseFloat(S(e).css("margin-left"))||0,r.top+=parseFloat(S(t[0]).css("border-top-width"))||0,r.left+=parseFloat(S(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||N.body;e&&!j.test(e.nodeName)&&"static"==S(e).css("position");)e=e.offsetParent;return e})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});S.fn[e]=function(i){var o,a=this[0];return i===x?n(a)?a["inner"+t]:r(a)?a.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){a=S(this),a.css(e,g(this,i,t,a[e]()))})}}),B.forEach(function(t,n){var r=n%2;S.fn[t]=function(){var t,i,o=S.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:V.fragment(n)}),a=this.length>1;return o.length<1?this:this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var s=S.contains(N.documentElement,i);o.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!i)return S(e).remove();i.insertBefore(e,t),s&&w(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},S.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return S(e)[t](this),this}}),V.Z.prototype=S.fn,V.uniq=k,V.deserializeValue=b,S.zepto=V,S}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(e){function t(e){return e._zid||(e._zid=p++)}function n(e,n,o,a){if(n=r(n),n.ns)var s=i(n.ns);return(g[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!s.test(e.ns)||o&&t(e.fn)!==t(o)||a&&e.sel!=a)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!y&&e.e in b||!!t}function a(e){return w[e]||y&&b[e]||e}function s(n,i,s,l,u,p,f){var m=t(n),h=g[m]||(g[m]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(s);var i=r(t);i.fn=s,i.sel=u,i.e in w&&(s=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=p;var m=p||s;i.proxy=function(e){if(e=c(e),!e.isImmediatePropagationStopped()){e.data=l;var t=m.apply(n,e._args==d?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},i.i=h.length,h.push(i),"addEventListener"in n&&n.addEventListener(a(i.e),i.proxy,o(i,f))})}function l(e,r,i,s,l){var c=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,s).forEach(function(t){delete g[c][t.i],"removeEventListener"in e&&e.removeEventListener(a(t.e),t.proxy,o(t,l))})})}function c(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(C,function(e,r){var i=n[e];t[e]=function(){return this[r]=x,i&&i.apply(n,arguments)},t[r]=T}),(n.defaultPrevented!==d?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=x)),t}function u(e){var t,n={originalEvent:e};for(t in e)S.test(t)||e[t]===d||(n[t]=e[t]);return c(n,e)}var d,p=1,f=Array.prototype.slice,m=e.isFunction,h=function(e){return"string"==typeof e},g={},v={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",e.event={add:s,remove:l},e.proxy=function(n,r){var i=2 in arguments&&f.call(arguments,2);if(m(n)){var o=function(){return n.apply(r,i?i.concat(f.call(arguments)):arguments)};return o._zid=t(n),o}if(h(r))return i?(i.unshift(n[r],n),e.proxy.apply(null,i)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var x=function(){return!0},T=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$)/,C={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,o){var a,c,p=this;return t&&!h(t)?(e.each(t,function(e,t){p.on(e,n,r,t,o)}),p):(h(n)||m(i)||i===!1||(i=r,r=n,n=d),(m(r)||r===!1)&&(i=r,r=d),i===!1&&(i=T),p.each(function(d,p){o&&(a=function(e){return l(p,e.type,i),i.apply(this,arguments)}),n&&(c=function(t){var r,o=e(t.target).closest(n,p).get(0);return o&&o!==p?(r=e.extend(u(t),{currentTarget:o,liveFired:p}),(a||i).apply(o,[r].concat(f.call(arguments,1)))):void 0}),s(p,t,i,r,n,c||a)}))},e.fn.off=function(t,n,r){var i=this;return t&&!h(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(h(n)||m(r)||r===!1||(r=n,n=d),r===!1&&(r=T),i.each(function(){l(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=h(t)||e.isPlainObject(t)?e.Event(t):c(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,o;return this.each(function(a,s){i=u(h(t)?e.Event(t):t),i._args=r,i.target=s,e.each(n(s,t.type||t),function(e,t){return o=t.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){h(e)||(t=e,e=t.type);var n=document.createEvent(v[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),c(n)}}(Zepto),function(e){function t(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}function n(e,n,r,i){return e.global?t(n||y,r,i):void 0}function r(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function i(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function o(e,t){var r=t.context;return t.beforeSend.call(r,e,t)===!1||n(t,r,"ajaxBeforeSend",[e,t])===!1?!1:void n(t,r,"ajaxSend",[e,t])}function a(e,t,r,i){var o=r.context,a="success";r.success.call(o,e,a,t),i&&i.resolveWith(o,[e,a,t]),n(r,o,"ajaxSuccess",[t,r,e]),l(a,t,r)}function s(e,t,r,i,o){var a=i.context;i.error.call(a,r,t,e),o&&o.rejectWith(a,[r,t,e]),n(i,a,"ajaxError",[r,i,e||t]),l(t,r,i)}function l(e,t,r){var o=r.context;r.complete.call(o,t,e),n(r,o,"ajaxComplete",[t,r]),i(r)}function c(){}function u(e){return e&&(e=e.split(";",2)[0]),e&&(e==S?"html":e==T?"json":w.test(e)?"script":x.test(e)&&"xml")||"text"}function d(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=d(t.url,t.data),t.data=void 0)}function f(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}function m(t,n,r,i){var o,a=e.isArray(n),s=e.isPlainObject(n);e.each(n,function(n,l){o=e.type(l),i&&(n=r?i:i+"["+(s||"object"==o||"array"==o?n:"")+"]"),!i&&a?t.add(l.name,l.value):"array"==o||!r&&"object"==o?m(t,l,r,n):t.add(n,l)})}var h,g,v=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,T="application/json",S="text/html",C=/^\s*$/,E=y.createElement("a");E.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var r,i,l=t.jsonpCallback,c=(e.isFunction(l)?l():l)||"jsonp"+ ++v,u=y.createElement("script"),d=window[c],p=function(t){e(u).triggerHandler("error",t||"abort")},f={abort:p};return n&&n.promise(f),e(u).on("load error",function(o,l){clearTimeout(i),e(u).off().remove(),"error"!=o.type&&r?a(r[0],f,t,n):s(null,l||"error",f,t,n),window[c]=d,r&&e.isFunction(d)&&d(r[0]),d=r=void 0}),o(f,t)===!1?(p("abort"),f):(window[c]=function(){r=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(u),t.timeout>0&&(i=setTimeout(function(){p("timeout")},t.timeout)),f)},e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:T,xml:"application/xml, text/xml",html:S,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,i=e.extend({},t||{}),l=e.Deferred&&e.Deferred();for(h in e.ajaxSettings)void 0===i[h]&&(i[h]=e.ajaxSettings[h]);r(i),i.crossDomain||(n=y.createElement("a"),n.href=i.url,n.href=n.href,i.crossDomain=E.protocol+"//"+E.host!=n.protocol+"//"+n.host),i.url||(i.url=window.location.toString()),p(i);var f=i.dataType,m=/\?.+=\?/.test(i.url);if(m&&(f="jsonp"),i.cache!==!1&&(t&&t.cache===!0||"script"!=f&&"jsonp"!=f)||(i.url=d(i.url,"_="+Date.now())),"jsonp"==f)return m||(i.url=d(i.url,i.jsonp?i.jsonp+"=?":i.jsonp===!1?"":"callback=?")),e.ajaxJSONP(i,l);var v,b=i.accepts[f],w={},x=function(e,t){w[e.toLowerCase()]=[e,t]},T=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,S=i.xhr(),k=S.setRequestHeader;if(l&&l.promise(S),i.crossDomain||x("X-Requested-With","XMLHttpRequest"),x("Accept",b||"*/*"),(b=i.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(b)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&x("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(g in i.headers)x(g,i.headers[g]);if(S.setRequestHeader=x,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=c,clearTimeout(v);var t,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==T){f=f||u(i.mimeType||S.getResponseHeader("content-type")),t=S.responseText;try{"script"==f?(1,eval)(t):"xml"==f?t=S.responseXML:"json"==f&&(t=C.test(t)?null:e.parseJSON(t))}catch(r){n=r}n?s(n,"parsererror",S,i,l):a(t,S,i,l)}else s(S.statusText||null,S.status?"error":"abort",S,i,l)}},o(S,i)===!1)return S.abort(),s(null,"abort",S,i,l),S;if(i.xhrFields)for(g in i.xhrFields)S[g]=i.xhrFields[g];var _="async"in i?i.async:!0;S.open(i.type,i.url,_,i.username,i.password);for(g in w)k.apply(S,w[g]);return i.timeout>0&&(v=setTimeout(function(){S.onreadystatechange=c,S.abort(),s(null,"timeout",S,i,l)},i.timeout)),S.send(i.data?i.data:null),S},e.get=function(){return e.ajax(f.apply(null,arguments))},e.post=function(){var t=f.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=f.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var i,o=this,a=t.split(/\s/),s=f(t,n,r),l=s.success;return a.length>1&&(s.url=a[0],i=a[1]),s.success=function(t){o.html(i?e("<div>").html(t.replace(b,"")).find(i):t),l&&l.apply(o,arguments)},e.ajax(s),this};var k=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(k(t)+"="+k(n))},m(r,t,n),r.join("&").replace(/%20/g,"+")}}(Zepto),function(e){e.fn.serializeArray=function(){var t,n,r=[],i=function o(e){return e.forEach?e.forEach(o):void r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(r,o){n=o.type,t=o.name,t&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(e(o).val())}),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;window.getComputedStyle=function(e){try{return n(e)}catch(t){return null}}}}(Zepto)}catch(e){console.error(e,"zepto.min.js")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};try{!function(){"use strict";function e(e){e.fn.swiper=function(t){var r;return e(this).each(function(){var e=new n(this,t);r||(r=e)}),r}}var t,n=function s(e,n){function i(e){return Math.floor(e)}function o(){var e=m.params.autoplay,t=m.slides.eq(m.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||m.params.autoplay),m.autoplayTimeoutId=setTimeout(function(){m.params.loop?(m.fixLoop(),m._slideNext(),m.emit("onAutoplay",m)):m.isEnd?n.autoplayStopOnLast?m.stopAutoplay():(m._slideTo(0),m.emit("onAutoplay",m)):(m._slideNext(),m.emit("onAutoplay",m))},e)}function a(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof s))return new s(e,n);var l={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,setWrapperSize:!1,virtualTranslate:!1,observeAutoPlay:!1,effect:"slide",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,preventClicks:!0,preventClicksPropagation:!0,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,loop:!1,loopAdditionalSlides:0,loopedSlides:null,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0};n=n||{};var c={};for(var u in n)if("object"!=_typeof(n[u])||null===n[u]||n[u].nodeType||n[u]===window||n[u]===document||"undefined"!=typeof r&&n[u]instanceof r||"undefined"!=typeof jQuery&&n[u]instanceof jQuery)c[u]=n[u];else{c[u]={};for(var d in n[u])c[u][d]=n[u][d]}for(var p in l)if("undefined"==typeof n[p])n[p]=l[p];else if("object"==_typeof(n[p]))for(var f in l[p])"undefined"==typeof n[p][f]&&(n[p][f]=l[p][f]);var m=this;if(m.params=n,m.originalParams=c,m.classNames=[],"undefined"!=typeof t&&"undefined"!=typeof r&&(t=r),("undefined"!=typeof t||(t="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r))&&(m.$=t,m.container=t(e),
0!==m.container.length)){if(m.container.length>1){var h=[];return m.container.each(function(){h.push(new s(this,n))}),h}m.container[0].swiper=m,m.container.data("swiper",m),m.classNames.push(m.params.containerModifierClass+m.params.direction),m.params.freeMode&&m.classNames.push(m.params.containerModifierClass+"free-mode"),m.support.flexbox||(m.classNames.push(m.params.containerModifierClass+"no-flexbox"),m.params.slidesPerColumn=1),m.wrapper=m.container.children("."+m.params.wrapperClass),m.params.pagination&&(m.paginationContainer=t(m.params.pagination),m.params.uniqueNavElements&&"string"==typeof m.params.pagination&&m.paginationContainer.length>1&&1===m.container.find(m.params.pagination).length&&(m.paginationContainer=m.container.find(m.params.pagination)),m.paginationContainer.addClass(m.params.paginationModifierClass+m.params.paginationType)),m.isHorizontal=function(){return"horizontal"===m.params.direction},m.rtl=m.isHorizontal()&&("rtl"===m.container[0].dir.toLowerCase()||"rtl"===m.container.css("direction")),m.rtl&&m.classNames.push(m.params.containerModifierClass+"rtl"),m.rtl&&(m.wrongRTL="-webkit-box"===m.wrapper.css("display")),m.device.android&&m.classNames.push(m.params.containerModifierClass+"android"),m.container.addClass(m.classNames.join(" ")),m.translate=0,m.progress=0,m.velocity=0,m.imagesToLoad=[],m.imagesLoaded=0,m.loadImage=function(e,t,n,r,i,o){function a(){o&&o()}var s;e.complete&&i?a():t?(s=new window.Image,s.onload=a,s.onerror=a,r&&(s.sizes=r),n&&(s.srcset=n),t&&(s.src=t)):a()},m.autoplayTimeoutId=void 0,m.autoplaying=!1,m.autoplayPaused=!1,m.startAutoplay=function(){return"undefined"!=typeof m.autoplayTimeoutId?!1:m.params.autoplay?m.autoplaying?!1:(m.autoplaying=!0,m.emit("onAutoplayStart",m),void o()):!1},m.stopAutoplay=function(e){m.autoplayTimeoutId&&(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplaying=!1,m.autoplayTimeoutId=void 0,m.emit("onAutoplayStop",m))},m.pauseAutoplay=function(e){m.autoplayPaused||(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplayPaused=!0,0===e?(m.autoplayPaused=!1,o()):m.wrapper.transitionEnd(function(){m&&(m.autoplayPaused=!1,m.autoplaying?o():m.stopAutoplay())}))},m.minTranslate=function(){return-m.snapGrid[0]},m.maxTranslate=function(){return-m.snapGrid[m.snapGrid.length-1]},m.updateContainerSize=function(){var e,t;e="undefined"!=typeof m.params.width?m.params.width:m.container[0].clientWidth,t="undefined"!=typeof m.params.height?m.params.height:m.container[0].clientHeight,0===e&&m.isHorizontal()||0===t&&!m.isHorizontal()||(e=e-parseInt(m.container.css("padding-left"),10)-parseInt(m.container.css("padding-right"),10),t=t-parseInt(m.container.css("padding-top"),10)-parseInt(m.container.css("padding-bottom"),10),m.width=e,m.height=t,m.size=m.isHorizontal()?m.width:m.height)},m.updateSlidesSize=function(){m.slides=m.wrapper.children("."+m.params.slideClass),m.snapGrid=[],m.slidesGrid=[],m.slidesSizesGrid=[];var e,t=m.params.spaceBetween,n=-m.params.slidesOffsetBefore,r=0,o=0;if("undefined"!=typeof m.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*m.size),m.virtualSize=-t,m.rtl?m.slides.css({marginLeft:"",marginTop:""}):m.slides.css({marginRight:"",marginBottom:""});var a,s,l=m.params.slidesPerColumn,c=a/l;for(c-(m.params.slidesPerColumn*c-m.slides.length),e=0;e<m.slides.length;e++){s=0;var u=m.slides.eq(e);"none"!==u.css("display")&&("auto"===m.params.slidesPerView?(s=m.isHorizontal()?u.outerWidth(!0):u.outerHeight(!0),m.params.roundLengths&&(s=i(s))):(s=(m.size-(m.params.slidesPerView-1)*t)/m.params.slidesPerView,m.params.roundLengths&&(s=i(s)),m.isHorizontal()?m.slides[e].style.width=s+"px":m.slides[e].style.height=s+"px"),m.slides[e].swiperSlideSize=s,m.slidesSizesGrid.push(s),m.params.centeredSlides||(o%m.params.slidesPerGroup===0&&m.snapGrid.push(n),m.slidesGrid.push(n),n=n+s+t),m.virtualSize+=s+t,r=s,o++)}m.virtualSize=Math.max(m.virtualSize,m.size)+m.params.slidesOffsetAfter;var d;if(m.rtl&&m.wrongRTL&&("slide"===m.params.effect||"coverflow"===m.params.effect)&&m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}),(!m.support.flexbox||m.params.setWrapperSize)&&(m.isHorizontal()?m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}):m.wrapper.css({height:m.virtualSize+m.params.spaceBetween+"px"})),!m.params.centeredSlides){for(d=[],e=0;e<m.snapGrid.length;e++)m.snapGrid[e]<=m.virtualSize-m.size&&d.push(m.snapGrid[e]);m.snapGrid=d,Math.floor(m.virtualSize-m.size)-Math.floor(m.snapGrid[m.snapGrid.length-1])>1&&m.snapGrid.push(m.virtualSize-m.size)}0===m.snapGrid.length&&(m.snapGrid=[0]),0!==m.params.spaceBetween&&(m.isHorizontal()?m.rtl?m.slides.css({marginLeft:t+"px"}):m.slides.css({marginRight:t+"px"}):m.slides.css({marginBottom:t+"px"})),m.params.watchSlidesProgress&&m.updateSlidesOffset()}},m.updateSlidesOffset=function(){for(var e=0;e<m.slides.length;e++)m.slides[e].swiperSlideOffset=m.isHorizontal()?m.slides[e].offsetLeft:m.slides[e].offsetTop},m.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=m.translate||0),0!==m.slides.length){"undefined"==typeof m.slides[0].swiperSlideOffset&&m.updateSlidesOffset();var t=-e;m.rtl&&(t=e),m.slides.removeClass(m.params.slideVisibleClass);for(var n=0;n<m.slides.length;n++){var r=m.slides[n],i=(t+(m.params.centeredSlides?m.minTranslate():0)-r.swiperSlideOffset)/(r.swiperSlideSize+m.params.spaceBetween);r.progress=m.rtl?-i:i}}},m.updateProgress=function(e){"undefined"==typeof e&&(e=m.translate||0);var t=m.maxTranslate()-m.minTranslate(),n=m.isBeginning,r=m.isEnd;0===t?(m.progress=0,m.isBeginning=m.isEnd=!0):(m.progress=(e-m.minTranslate())/t,m.isBeginning=m.progress<=0,m.isEnd=m.progress>=1),m.isBeginning&&!n&&m.emit("onReachBeginning",m),m.isEnd&&!r&&m.emit("onReachEnd",m),m.params.watchSlidesProgress&&m.updateSlidesProgress(e),m.emit("onProgress",m,m.progress)},m.updateActiveIndex=function(){var e,t,n,r=m.rtl?m.translate:-m.translate;for(t=0;t<m.slidesGrid.length;t++)"undefined"!=typeof m.slidesGrid[t+1]?r>=m.slidesGrid[t]&&r<m.slidesGrid[t+1]-(m.slidesGrid[t+1]-m.slidesGrid[t])/2?e=t:r>=m.slidesGrid[t]&&r<m.slidesGrid[t+1]&&(e=t+1):r>=m.slidesGrid[t]&&(e=t);n=Math.floor(e/m.params.slidesPerGroup),n>=m.snapGrid.length&&(n=m.snapGrid.length-1),e!==m.activeIndex&&(m.snapIndex=n,m.previousIndex=m.activeIndex,m.activeIndex=e,m.updateClasses(),m.updateRealIndex())},m.updateRealIndex=function(){m.realIndex=m.slides.eq(m.activeIndex).attr("data-swiper-slide-index")||m.activeIndex},m.updateClasses=function(){m.slides.removeClass(m.params.slideActiveClass+" "+m.params.slideNextClass+" "+m.params.slidePrevClass+" "+m.params.slideDuplicateActiveClass+" "+m.params.slideDuplicateNextClass+" "+m.params.slideDuplicatePrevClass);var e=m.slides.eq(m.activeIndex);e.addClass(m.params.slideActiveClass),n.loop&&(e.hasClass(m.params.slideDuplicateClass)?m.wrapper.children("."+m.params.slideClass+":not(."+m.params.slideDuplicateClass+')[data-swiper-slide-index="'+m.realIndex+'"]').addClass(m.params.slideDuplicateActiveClass):m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass+'[data-swiper-slide-index="'+m.realIndex+'"]').addClass(m.params.slideDuplicateActiveClass));var r=e.next("."+m.params.slideClass).addClass(m.params.slideNextClass);m.params.loop&&0===r.length&&(r=m.slides.eq(0),r.addClass(m.params.slideNextClass));var i=e.prev("."+m.params.slideClass).addClass(m.params.slidePrevClass);if(m.params.loop&&0===i.length&&(i=m.slides.eq(-1),i.addClass(m.params.slidePrevClass)),n.loop&&(r.hasClass(m.params.slideDuplicateClass)?m.wrapper.children("."+m.params.slideClass+":not(."+m.params.slideDuplicateClass+')[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(m.params.slideDuplicateNextClass):m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass+'[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(m.params.slideDuplicateNextClass),i.hasClass(m.params.slideDuplicateClass)?m.wrapper.children("."+m.params.slideClass+":not(."+m.params.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(m.params.slideDuplicatePrevClass):m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(m.params.slideDuplicatePrevClass)),m.paginationContainer&&m.paginationContainer.length>0){var o,a=m.params.loop?Math.ceil((m.slides.length-2*m.loopedSlides)/m.params.slidesPerGroup):m.snapGrid.length;m.params.loop?(o=Math.ceil((m.activeIndex-m.loopedSlides)/m.params.slidesPerGroup),o>m.slides.length-1-2*m.loopedSlides&&(o-=m.slides.length-2*m.loopedSlides),o>a-1&&(o-=a),0>o&&"bullets"!==m.params.paginationType&&(o=a+o)):o="undefined"!=typeof m.snapIndex?m.snapIndex:m.activeIndex||0,"bullets"===m.params.paginationType&&m.bullets&&m.bullets.length>0&&(m.bullets.removeClass(m.params.bulletActiveClass),m.paginationContainer.length>1?m.bullets.each(function(){t(this).index()===o&&t(this).addClass(m.params.bulletActiveClass)}):m.bullets.eq(o).addClass(m.params.bulletActiveClass)),"fraction"===m.params.paginationType&&(m.paginationContainer.find("."+m.params.paginationCurrentClass).text(o+1),m.paginationContainer.find("."+m.params.paginationTotalClass).text(a))}m.params.loop||m.params.prevButton&&m.prevButton&&m.prevButton.length>0&&(m.isBeginning?m.prevButton.addClass(m.params.buttonDisabledClass):m.prevButton.removeClass(m.params.buttonDisabledClass))},m.updatePagination=function(){if(m.params.pagination&&m.paginationContainer&&m.paginationContainer.length>0){var e="";if("bullets"===m.params.paginationType){for(var t=m.params.loop?Math.ceil((m.slides.length-2*m.loopedSlides)/m.params.slidesPerGroup):m.snapGrid.length,n=0;t>n;n++)e+=m.params.paginationBulletRender?m.params.paginationBulletRender(m,n,m.params.bulletClass):"<"+m.params.paginationElement+' class="'+m.params.bulletClass+'"></'+m.params.paginationElement+">";m.paginationContainer.html(e),m.bullets=m.paginationContainer.find("."+m.params.bulletClass)}"fraction"===m.params.paginationType&&(e=m.params.paginationFractionRender?m.params.paginationFractionRender(m,m.params.paginationCurrentClass,m.params.paginationTotalClass):'<span class="'+m.params.paginationCurrentClass+'"></span> / <span class="'+m.params.paginationTotalClass+'"></span>',m.paginationContainer.html(e))}},m.update=function(e){function t(){m.rtl?-m.translate:m.translate,r=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate()),m.setWrapperTranslate(r),m.updateActiveIndex(),m.updateClasses()}if(m.updateContainerSize(),m.updateSlidesSize(),m.updateProgress(),m.updatePagination(),m.updateClasses(),e){var n,r;m.controller&&m.controller.spline&&(m.controller.spline=void 0),m.params.freeMode?t():(n=("auto"===m.params.slidesPerView||m.params.slidesPerView>1)&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0),n||t())}},m.onResize=function(e){m.params.breakpoints&&m.setBreakpoint();var t=m.params.allowSwipeToPrev,n=m.params.allowSwipeToNext;m.params.allowSwipeToPrev=m.params.allowSwipeToNext=!0,m.updateContainerSize(),m.updateSlidesSize(),("auto"===m.params.slidesPerView||m.params.freeMode||e)&&m.updatePagination(),m.controller&&m.controller.spline&&(m.controller.spline=void 0);var r=!1;if(m.params.freeMode){var i=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate());m.setWrapperTranslate(i),m.updateActiveIndex(),m.updateClasses()}else m.updateClasses(),r=("auto"===m.params.slidesPerView||m.params.slidesPerView>1)&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0);m.params.lazyLoading&&!r&&m.lazy&&m.lazy.load(),m.params.allowSwipeToPrev=t,m.params.allowSwipeToNext=n},m.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?m.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(m.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),m.touchEvents={start:m.support.touch||!m.params.simulateTouch?"touchstart":m.touchEventsDesktop.start,move:m.support.touch||!m.params.simulateTouch?"touchmove":m.touchEventsDesktop.move,end:m.support.touch||!m.params.simulateTouch?"touchend":m.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===m.params.touchEventsTarget?m.container:m.wrapper).addClass("swiper-wp8-"+m.params.direction),m.initEvents=function(e){var t=e?"removeEventListener":"addEventListener",r="container"===m.params.touchEventsTarget?m.container[0]:m.wrapper[0],i=(m.support.touch?r:document,m.params.nested?!0:!1);if(m.browser.ie);else{if(m.support.touch){var o="touchstart"===m.touchEvents.start&&m.support.passiveListener&&m.params.passiveListeners?{passive:!0,capture:!1}:!1;r[t](m.touchEvents.start,m.onTouchStart,o),r[t](m.touchEvents.move,m.onTouchMove,i),r[t](m.touchEvents.end,m.onTouchEnd,o)}(n.simulateTouch&&!m.device.ios&&!m.device.android||n.simulateTouch&&!m.support.touch&&m.device.ios)&&(r[t]("mousedown",m.onTouchStart,!1),document[t]("mousemove",m.onTouchMove,i),document[t]("mouseup",m.onTouchEnd,!1))}window[t]("resize",m.onResize),(m.params.preventClicks||m.params.preventClicksPropagation)&&r[t]("click",m.preventClicks,!0)},m.attachEvents=function(){m.initEvents()},m.detachEvents=function(){m.initEvents(!0)},m.allowClick=!0,m.preventClicks=function(e){m.allowClick||(m.params.preventClicks&&e.preventDefault(),m.params.preventClicksPropagation&&m.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))};var g,v,y,b,w,x,T,S,C,E="input, select, textarea, button, video",k=Date.now(),_=[];m.animating=!1,m.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var L,I;m.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),L="touchstart"===e.type,L||!("which"in e)||3!==e.which){var n=m.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r=m.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(g=!0,v=!1,y=!0,w=void 0,I=void 0,m.touches.startX=n,m.touches.startY=r,b=Date.now(),m.allowClick=!0,m.updateContainerSize(),m.swipeDirection=void 0,"touchstart"!==e.type){var i=!0;t(e.target).is(E)&&(i=!1),document.activeElement&&t(document.activeElement).is(E)&&document.activeElement.blur(),i&&e.preventDefault()}m.emit("onTouchStart",m,e)}},m.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!L||"mousemove"!==e.type){if(e.preventedByNestedSwiper)return m.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void(m.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);if(L&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(E))return v=!0,void(m.allowClick=!1);if(y&&m.emit("onTouchMove",m,e),!(e.targetTouches&&e.targetTouches.length>1)){if(m.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,m.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof w){var r;m.isHorizontal()&&m.touches.currentY===m.touches.startY||!m.isHorizontal()&&m.touches.currentX!==m.touches.startX?w=!1:(r=180*Math.atan2(Math.abs(m.touches.currentY-m.touches.startY),Math.abs(m.touches.currentX-m.touches.startX))/Math.PI,w=m.isHorizontal()?r>m.params.touchAngle:90-r>m.params.touchAngle)}if(w&&m.emit("onTouchMoveOpposite",m,e),g){if(w)return void(g=!1);m.allowClick=!1,m.emit("onSliderMove",m,e),e.preventDefault(),m.params.touchMoveStopPropagation&&!m.params.nested&&e.stopPropagation(),v||(n.loop&&m.fixLoop(),T=m.getWrapperTranslate(),m.setWrapperTransition(0),m.animating&&m.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),m.params.autoplay&&m.autoplaying&&(m.params.autoplayDisableOnInteraction?m.stopAutoplay():m.pauseAutoplay()),C=!1),v=!0;var i=m.touches.diff=m.isHorizontal()?m.touches.currentX-m.touches.startX:m.touches.currentY-m.touches.startY;i*=m.params.touchRatio,m.rtl&&(i=-i),m.swipeDirection=i>0?"prev":"next",x=i+T;var o=!0;i>0&&x>m.minTranslate()?(o=!1,m.params.resistance&&(x=m.minTranslate()-1+Math.pow(-m.minTranslate()+T+i,m.params.resistanceRatio))):0>i&&x<m.maxTranslate()&&(o=!1,m.params.resistance&&(x=m.maxTranslate()+1-Math.pow(m.maxTranslate()-T-i,m.params.resistanceRatio))),o&&(e.preventedByNestedSwiper=!0),m.params.followFinger&&((m.params.freeMode||m.params.watchSlidesProgress)&&m.updateActiveIndex(),m.params.freeMode&&(0===_.length&&_.push({position:m.touches[m.isHorizontal()?"startX":"startY"],time:b}),_.push({position:m.touches[m.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),m.updateProgress(x),m.setWrapperTranslate(x))}}}},m.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),y&&m.emit("onTouchEnd",m,e),y=!1,g){var t=Date.now(),n=t-b;if(m.allowClick&&(m.emit("onTap",m,e),300>n&&t-k>300&&(S&&clearTimeout(S),S=setTimeout(function(){m&&m.emit("onClick",m,e)},300))),k=Date.now(),setTimeout(function(){m&&(m.allowClick=!0)},0),!g||!v||!m.swipeDirection||0===m.touches.diff||x===T)return void(g=v=!1);g=v=!1;var r;if(r=m.params.followFinger?m.rtl?m.translate:-m.translate:-x,m.params.freeMode){if(r<-m.minTranslate())return void m.slideTo(m.activeIndex);if(r>-m.maxTranslate())return void(m.slides.length<m.snapGrid.length?m.slideTo(m.snapGrid.length-1):m.slideTo(m.slides.length-1));if(m.params.freeModeMomentum){if(_.length>1){var i=_.pop(),o=_.pop(),a=i.position-o.position,s=i.time-o.time;m.velocity=a/s,m.velocity=m.velocity/2,Math.abs(m.velocity)<m.params.freeModeMinimumVelocity&&(m.velocity=0),(s>150||(new window.Date).getTime()-i.time>300)&&(m.velocity=0)}else m.velocity=0;m.velocity=m.velocity*m.params.freeModeMomentumVelocityRatio,_.length=0;var l=1e3*m.params.freeModeMomentumRatio,c=m.velocity*l,u=m.translate+c;m.rtl&&(u=-u);var d,p=!1,f=20*Math.abs(m.velocity)*m.params.freeModeMomentumBounceRatio;if(u<m.maxTranslate())m.params.freeModeMomentumBounce?(u+m.maxTranslate()<-f&&(u=m.maxTranslate()-f),d=m.maxTranslate(),p=!0,C=!0):u=m.maxTranslate();else if(u>m.minTranslate())m.params.freeModeMomentumBounce?(u-m.minTranslate()>f&&(u=m.minTranslate()+f),d=m.minTranslate(),p=!0,C=!0):u=m.minTranslate();else if(m.params.freeModeSticky){var h,w=0;for(w=0;w<m.snapGrid.length;w+=1)if(m.snapGrid[w]>-u){h=w;break}u=Math.abs(m.snapGrid[h]-u)<Math.abs(m.snapGrid[h-1]-u)||"next"===m.swipeDirection?m.snapGrid[h]:m.snapGrid[h-1],m.rtl||(u=-u)}if(0!==m.velocity)l=m.rtl?Math.abs((-u-m.translate)/m.velocity):Math.abs((u-m.translate)/m.velocity);else if(m.params.freeModeSticky)return void m.slideReset();m.params.freeModeMomentumBounce&&p?(m.updateProgress(d),m.setWrapperTransition(l),m.setWrapperTranslate(u),m.onTransitionStart(),m.animating=!0,m.wrapper.transitionEnd(function(){m&&C&&(m.emit("onMomentumBounce",m),m.setWrapperTransition(m.params.speed),m.setWrapperTranslate(d),m.wrapper.transitionEnd(function(){m&&m.onTransitionEnd()}))})):m.velocity?(m.updateProgress(u),m.setWrapperTransition(l),m.setWrapperTranslate(u),m.onTransitionStart(),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m&&m.onTransitionEnd()}))):m.updateProgress(u),m.updateActiveIndex()}return void((!m.params.freeModeMomentum||n>=m.params.longSwipesMs)&&(m.updateProgress(),m.updateActiveIndex()))}var E,L=0,I=m.slidesSizesGrid[0];for(E=0;E<m.slidesGrid.length;E+=m.params.slidesPerGroup)"undefined"!=typeof m.slidesGrid[E+m.params.slidesPerGroup]?r>=m.slidesGrid[E]&&r<m.slidesGrid[E+m.params.slidesPerGroup]&&(L=E,I=m.slidesGrid[E+m.params.slidesPerGroup]-m.slidesGrid[E]):r>=m.slidesGrid[E]&&(L=E,I=m.slidesGrid[m.slidesGrid.length-1]-m.slidesGrid[m.slidesGrid.length-2]);var N=(r-m.slidesGrid[L])/I;if(n>m.params.longSwipesMs){if(!m.params.longSwipes)return void m.slideTo(m.activeIndex);"next"===m.swipeDirection&&(N>=m.params.longSwipesRatio?m.slideTo(L+m.params.slidesPerGroup):m.slideTo(L)),"prev"===m.swipeDirection&&(N>1-m.params.longSwipesRatio?m.slideTo(L+m.params.slidesPerGroup):m.slideTo(L))}else{if(!m.params.shortSwipes)return void m.slideTo(m.activeIndex);"next"===m.swipeDirection&&m.slideTo(L+m.params.slidesPerGroup),"prev"===m.swipeDirection&&m.slideTo(L)}}},m._slideTo=function(e,t){return m.slideTo(e,t,!0,!0)},m.slideTo=function(e,t,n,r){"undefined"==typeof n&&(n=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),m.snapIndex=Math.floor(e/m.params.slidesPerGroup),m.snapIndex>=m.snapGrid.length&&(m.snapIndex=m.snapGrid.length-1);var i=-m.snapGrid[m.snapIndex];return m.params.autoplay&&m.autoplaying&&(r||!m.params.autoplayDisableOnInteraction?m.pauseAutoplay(t):m.stopAutoplay()),m.updateProgress(i),!m.params.allowSwipeToPrev&&i>m.translate&&i>m.maxTranslate()&&(m.activeIndex||0)!==e?!1:("undefined"==typeof t&&(t=m.params.speed),m.previousIndex=m.activeIndex||0,m.activeIndex=e,m.updateRealIndex(),m.rtl&&-i===m.translate||!m.rtl&&i===m.translate?(m.updateClasses(),"slide"!==m.params.effect&&m.setWrapperTranslate(i),!1):(m.updateClasses(),m.onTransitionStart(n),0===t||m.browser.lteIE9?(m.setWrapperTranslate(i),m.setWrapperTransition(0),m.onTransitionEnd(n)):(m.setWrapperTranslate(i),m.setWrapperTransition(t),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m&&m.onTransitionEnd(n)}))),!0))},m.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),m.lazy&&m.lazy.onTransitionStart(),e&&(m.emit("onTransitionStart",m),m.activeIndex!==m.previousIndex&&(m.emit("onSlideChangeStart",m),m.activeIndex>m.previousIndex?m.emit("onSlideNextStart",m):m.emit("onSlidePrevStart",m)))},m.onTransitionEnd=function(e){m.animating=!1,m.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),m.lazy&&m.lazy.onTransitionEnd(),e&&(m.emit("onTransitionEnd",m),m.activeIndex!==m.previousIndex&&(m.emit("onSlideChangeEnd",m),m.activeIndex>m.previousIndex?m.emit("onSlideNextEnd",m):m.emit("onSlidePrevEnd",m)))},m.slideNext=function(e,t,n){return m.params.loop?m.animating?!1:(m.fixLoop(),m.container[0].clientLeft,m.slideTo(m.activeIndex+m.params.slidesPerGroup,t,e,n)):m.slideTo(m.activeIndex+m.params.slidesPerGroup,t,e,n)},m._slideNext=function(e){return m.slideNext(!0,e,!0)},m.slidePrev=function(e,t,n){return m.params.loop?m.animating?!1:(m.fixLoop(),m.container[0].clientLeft,m.slideTo(m.activeIndex-1,t,e,n)):m.slideTo(m.activeIndex-1,t,e,n)},m._slidePrev=function(e){return m.slidePrev(!0,e,!0)},m.slideReset=function(e,t,n){return m.slideTo(m.activeIndex,t,e)},m.setWrapperTransition=function(e,t){m.wrapper.transition(e),m.emit("onSetTransition",m,e)},m.setWrapperTranslate=function(e,t,n){var r=0,o=0,a=0;m.isHorizontal()?r=m.rtl?-e:e:o=e,m.params.roundLengths&&(r=i(r),o=i(o)),m.params.virtualTranslate||(m.support.transforms3d?m.wrapper.transform("translate3d("+r+"px, "+o+"px, "+a+"px)"):m.wrapper.transform("translate("+r+"px, "+o+"px)")),m.translate=m.isHorizontal()?r:o;var s,l=m.maxTranslate()-m.minTranslate();s=0===l?0:(e-m.minTranslate())/l,s!==m.progress&&m.updateProgress(e),t&&m.updateActiveIndex(),m.emit("onSetTranslate",m,m.translate)},m.getTranslate=function(e,t){var n,r,i,o;return"undefined"==typeof t&&(t="x"),i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(r=i.transform||i.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),o=new window.WebKitCSSMatrix("none"===r?"":r)):(o=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(r=window.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=window.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),m.rtl&&r&&(r=-r),r||0},m.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=m.isHorizontal()?"x":"y"),m.getTranslate(m.wrapper[0],e)},m.observers=[],m.createLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove();var e=m.wrapper.children("."+m.params.slideClass);"auto"!==m.params.slidesPerView||m.params.loopedSlides||(m.params.loopedSlides=e.length),m.loopedSlides=parseInt(m.params.loopedSlides||m.params.slidesPerView,10),m.loopedSlides=m.loopedSlides+m.params.loopAdditionalSlides,m.loopedSlides>e.length&&(m.loopedSlides=e.length);var n,r=[],i=[];for(e.each(function(n,o){var a=t(this);n<m.loopedSlides&&i.push(o),n<e.length&&n>=e.length-m.loopedSlides&&r.push(o),a.attr("data-swiper-slide-index",n)}),n=0;n<i.length;n++)m.wrapper.append(t(i[n].cloneNode(!0)).addClass(m.params.slideDuplicateClass));for(n=r.length-1;n>=0;n--)m.wrapper.prepend(t(r[n].cloneNode(!0)).addClass(m.params.slideDuplicateClass))},m.destroyLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove(),m.slides.removeAttr("data-swiper-slide-index")},m.fixLoop=function(){var e;m.activeIndex<m.loopedSlides?(e=m.slides.length-3*m.loopedSlides+m.activeIndex,e+=m.loopedSlides,m.slideTo(e,0,!1,!0)):("auto"===m.params.slidesPerView&&m.activeIndex>=2*m.loopedSlides||m.activeIndex>m.slides.length-2*m.params.slidesPerView)&&(e=-m.slides.length+m.activeIndex+m.loopedSlides,e+=m.loopedSlides,m.slideTo(e,0,!1,!0))},m.afterSlide=function(e,t){if(m.params.loop&&m.destroyLoop(),t<=m.activeIndex)var n=m.activeIndex+1;if("object"==("undefined"==typeof e?"undefined":_typeof(e))&&e.length){for(var r=0;r<e.length;r++)e[r]&&m.wrapper.insert(e[r],t,m.activeIndex);t<=m.activeIndex&&(n=m.activeIndex+e.length)}else m.wrapper.insert(e,t,m.activeIndex);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0),t<m.activeIndex?m.slideTo(n,0,!1):t==m.activeIndex&&m.slideTo(n-1,0,!1)},m.effects={},m.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,n){if("undefined"!=typeof e&&("undefined"==typeof n&&(n=!0),0!==m.slides.length)){var r=m.slides.eq(e),i=r.find("."+m.params.lazyLoadingClass+":not(."+m.params.lazyStatusLoadedClass+"):not(."+m.params.lazyStatusLoadingClass+")");!r.hasClass(m.params.lazyLoadingClass)||r.hasClass(m.params.lazyStatusLoadedClass)||r.hasClass(m.params.lazyStatusLoadingClass)||(i=i.add(r[0])),0!==i.length&&i.each(function(){var e=t(this);e.addClass(m.params.lazyStatusLoadingClass);var i=e.attr("data-background"),o=e.attr("data-src"),a=e.attr("data-srcset"),s=e.attr("data-sizes");m.loadImage(e[0],o||i,a,s,!1,function(){if(i?(e.css("background-image",'url("'+i+'")'),e.removeAttr("data-background")):(a&&(e.attr("srcset",a),e.removeAttr("data-srcset")),s&&(e.attr("sizes",s),e.removeAttr("data-sizes")),o&&(e.attr("src",o),e.removeAttr("data-src"))),e.addClass(m.params.lazyStatusLoadedClass).removeClass(m.params.lazyStatusLoadingClass),r.find("."+m.params.lazyPreloaderClass+", ."+m.params.preloaderClass).remove(),m.params.loop&&n){var t=r.attr("data-swiper-slide-index");if(r.hasClass(m.params.slideDuplicateClass)){var l=m.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+m.params.slideDuplicateClass+")");m.lazy.loadImageInSlide(l.index(),!1)}else{var c=m.wrapper.children("."+m.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');m.lazy.loadImageInSlide(c.index(),!1)}}m.emit("onLazyImageReady",m,r[0],e[0])}),m.emit("onLazyImageLoad",m,r[0],e[0])})}},load:function(){var e,t=m.params.slidesPerView;if("auto"===t&&(t=0),m.lazy.initialImageLoaded)if(t>1)for(e=m.activeIndex;e<m.activeIndex+t;e++)m.slides[e]&&m.lazy.loadImageInSlide(e);else m.lazy.loadImageInSlide(m.activeIndex);else m.lazy.initialImageLoaded=!0;if(m.params.lazyLoadingInPrevNext)if(t>1||m.params.lazyLoadingInPrevNextAmount&&m.params.lazyLoadingInPrevNextAmount>1){var n=m.params.lazyLoadingInPrevNextAmount,r=t,i=Math.min(m.activeIndex+r+Math.max(n,r),m.slides.length),o=Math.max(m.activeIndex-Math.max(r,n),0);for(e=m.activeIndex+t;i>e;e++)m.slides[e]&&m.lazy.loadImageInSlide(e);for(e=o;e<m.activeIndex;e++)m.slides[e]&&m.lazy.loadImageInSlide(e)}else{var a=m.wrapper.children("."+m.params.slideNextClass);a.length>0&&m.lazy.loadImageInSlide(a.index());var s=m.wrapper.children("."+m.params.slidePrevClass);s.length>0&&m.lazy.loadImageInSlide(s.index())}},onTransitionStart:function(){m.params.lazyLoading&&(m.params.lazyLoadingOnTransitionStart||!m.params.lazyLoadingOnTransitionStart&&!m.lazy.initialImageLoaded)&&m.lazy.load()},onTransitionEnd:function(){m.params.lazyLoading&&!m.params.lazyLoadingOnTransitionStart&&m.lazy.load()}},m.controller={},m.enableObserveAutoPlay=function(){function e(e){for(var t=e.offsetLeft,n=e.offsetTop;e.offsetParent;)e=e.offsetParent,t+=e.offsetLeft,n+=e.offsetTop;return{x:t,y:n}}var n=document.documentElement.clientHeight,r=m.container[0].offsetHeight;t(document).on("scroll",function(t){var i=document.documentElement.scrollTop||document.body.scrollTop,o=e(m.container[0]).y;i>o+r||o+r>i+n?m.stopAutoplay():m.startAutoplay()})},m._plugins=[];for(var N in m.plugins){var P=m.plugins[N](m,m.params[N]);P&&m._plugins.push(P)}return m.callPlugins=function(e){for(var t=0;t<m._plugins.length;t++)e in m._plugins[t]&&m._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},m.emitterEventListeners={},m.emit=function(e){m.params[e]&&m.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(m.emitterEventListeners[e])for(t=0;t<m.emitterEventListeners[e].length;t++)m.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);m.callPlugins&&m.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},m.on=function(e,t){return e=a(e),m.emitterEventListeners[e]||(m.emitterEventListeners[e]=[]),m.emitterEventListeners[e].push(t),m},m.off=function(e,t){var n;if(e=a(e),"undefined"==typeof t)return m.emitterEventListeners[e]=[],m;if(m.emitterEventListeners[e]&&0!==m.emitterEventListeners[e].length){for(n=0;n<m.emitterEventListeners[e].length;n++)m.emitterEventListeners[e][n]===t&&m.emitterEventListeners[e].splice(n,1);return m}},m.init=function(){m.params.loop&&m.createLoop(),m.updateContainerSize(),m.updateSlidesSize(),m.updatePagination(),m.params.loop?m.slideTo(m.params.initialSlide+m.loopedSlides,0,m.params.runCallbacksOnInit):(m.slideTo(m.params.initialSlide,0,m.params.runCallbacksOnInit),0===m.params.initialSlide&&m.lazy&&m.params.lazyLoading&&(m.lazy.load(),m.lazy.initialImageLoaded=!0)),m.attachEvents(),m.params.autoplay&&m.startAutoplay(),m.params.observeAutoPlay&&m.enableObserveAutoPlay&&m.enableObserveAutoPlay(),m.emit("onInit",m)},m.cleanupStyles=function(){m.container.removeClass(m.classNames.join(" ")).removeAttr("style"),m.wrapper.removeAttr("style"),m.slides&&m.slides.length&&m.slides.removeClass([m.params.slideVisibleClass,m.params.slideActiveClass,m.params.slideNextClass,m.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),m.paginationContainer&&m.paginationContainer.length&&m.paginationContainer.removeClass(m.params.paginationHiddenClass),m.bullets&&m.bullets.length&&m.bullets.removeClass(m.params.bulletActiveClass)},m.destroy=function(e,t){m.detachEvents(),m.stopAutoplay(),m.params.loop&&m.destroyLoop(),t&&m.cleanupStyles(),m.emit("onDestroy"),e!==!1&&(m=null)},m.init(),m}};n.prototype={browser:{},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),i=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||i||r,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in e)return!0;
}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(n){}return e}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}};for(var r=function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++)t[n]=e[n];return t.length=e.length,this},t=function(t,n){var r=[],i=0;if(t&&!n&&t instanceof e)return t;if(t)if("string"==typeof t){var o,a,s=t.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),a=document.createElement(l),a.innerHTML=t,i=0;i<a.childNodes.length;i++)r.push(a.childNodes[i])}else for(o=n||"#"!==t[0]||t.match(/[ .<>:~]/)?(n||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],i=0;i<o.length;i++)o[i]&&r.push(o[i])}else if(t.nodeType||t===window||t===document)r.push(t);else if(t.length>0&&t[0].nodeType)for(i=0;i<t.length;i++)r.push(t[i]);return new e(r)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var r=0;r<this.length;r++)this[r].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var r=0;r<this.length;r++)this[r].classList.remove(t[n]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){for(var n=0;n<this.length;n++){var r=this[n];r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[e]=t}return this},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,r,i){function o(e){var i=e.target;if(t(i).is(n))r.call(i,e);else for(var o=t(i).parents(),a=0;a<o.length;a++)t(o[a]).is(n)&&r.call(o[a],e)}var a,s,l=e.split(" ");for(a=0;a<this.length;a++)if("function"==typeof n||n===!1)for("function"==typeof n&&(r=arguments[1],i=arguments[2]||!1),s=0;s<l.length;s++)this[a].addEventListener(l[s],r,i);else for(s=0;s<l.length;s++)this[a].dom7LiveListeners||(this[a].dom7LiveListeners=[]),this[a].dom7LiveListeners.push({listener:r,liveListener:o}),this[a].addEventListener(l[s],o,i);return this},off:function(e,t,n,r){for(var i=e.split(" "),o=0;o<i.length;o++)for(var a=0;a<this.length;a++)if("function"==typeof t||t===!1)"function"==typeof t&&(n=arguments[1],r=arguments[2]||!1),this[a].removeEventListener(i[o],n,r);else if(this[a].dom7LiveListeners)for(var s=0;s<this[a].dom7LiveListeners.length;s++)this[a].dom7LiveListeners[s].listener===n&&this[a].removeEventListener(i[o],this[a].dom7LiveListeners[s].liveListener,r);return this},trigger:function(e,t){for(var n=0;n<this.length;n++){var r;try{r=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(i){r=document.createEvent("Event"),r.initEvent(e,!0,!0),r.detail=t}this[n].dispatchEvent(r)}return this},transitionEnd:function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<r.length;n++)i.off(r[n],t)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(n=0;n<r.length;n++)i.on(r[n],t);return this},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n++)for(var r in e)this[n].style[r]=e[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n++)this[n].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(n){if(!this[0])return!1;var r,i;if("string"==typeof n){var o=this[0];if(o===document)return n===document;if(o===window)return n===window;if(o.matches)return o.matches(n);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(n);if(o.mozMatchesSelector)return o.mozMatchesSelector(n);if(o.msMatchesSelector)return o.msMatchesSelector(n);for(r=t(n),i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof e){for(r=n.nodeType?[n]:n,i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}return void 0},eq:function(t){if("undefined"==typeof t)return this;var n,r=this.length;return t>r-1?new e([]):0>t?(n=r+t,new e(0>n?[]:[this[n]])):new e([this[t]])},insert:function(t,n,r){if(n>=r){var i,o;for(i=0;i<this.length;i++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t;a.firstChild;)n>this[i].children.length?this[i].appendChild(a.firstChild):this[i].insertBefore(a.firstChild,this[i].children[n])}else if(t instanceof e)for(o=0;o<t.length;o++)this[i].appendChild(t[o]);else n>this[i].children.length?this[i].appendChild(t):this[i].insertBefore(t,this[i].children[n]);return this}var i,o;for(i=0;i<this.length;i++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t,o=a.childNodes.length-1;o>=0;o--)0==n?this[i].insertBefore(a.childNodes[o],this[i].children[0]):n==r?this[i].insertBefore(a.childNodes[o],this[i].children[r]):this[i].insertBefore(a.childNodes[o],this[i].children[n])}else if(t instanceof e)for(o=0;o<t.length;o++)this[i].insertBefore(t[o],this[i].children[n]);else this[i].insertBefore(t,this[i].children[n]);return this},append:function(t){var n,r;for(n=0;n<this.length;n++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t;i.firstChild;)this[n].appendChild(i.firstChild)}else if(t instanceof e)for(r=0;r<t.length;r++)this[n].appendChild(t[r]);else this[n].appendChild(t);return this},prepend:function(t){var n,r;for(n=0;n<this.length;n++)if("string"==typeof t){var i=document.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r--)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof e)for(r=0;r<t.length;r++)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},insertBefore:function(e){for(var n=t(e),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0]);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i])},insertAfter:function(e){for(var n=t(e),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0].nextSibling);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i].nextSibling)},next:function(n){return new e(this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},prev:function(n){return new e(this.length>0?n?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},parents:function(e){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].parentNode;i;)e?t(i).is(e)&&n.push(i):n.push(i),i=i.parentNode;return t(t.unique(n))},find:function(t){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].querySelectorAll(t),o=0;o<i.length;o++)n.push(i[o]);return new e(n)},children:function(n){for(var r=[],i=0;i<this.length;i++)for(var o=this[i].childNodes,a=0;a<o.length;a++)n?1===o[a].nodeType&&t(o[a]).is(n)&&r.push(o[a]):1===o[a].nodeType&&r.push(o[a]);return new e(t.unique(r))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,n,r=this;for(e=0;e<arguments.length;e++){var i=t(arguments[e]);for(n=0;n<i.length;n++)r[r.length]=i[n],r.length++}return r}},t.fn=e.prototype,t.unique=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},t}(),i=["jQuery","Zepto","Dom7"],o=0;o<i.length;o++)window[i[o]]&&e(window[i[o]]);var a;a="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r,a&&("transitionEnd"in a.fn||(a.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<r.length;n++)i.off(r[n],t)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(n=0;n<r.length;n++)i.on(r[n],t);return this}),"transform"in a.fn||(a.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in a.fn||(a.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this}),"outerWidth"in a.fn||(a.fn.outerWidth=function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=n}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper})}catch(e){console.error(e,"x-swiper.min.js")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};try{(function(){if(!STK)var STK=function(){var e,t={},n="theia",r=[],i=200;t[n]={IE:/msie/i.test(navigator.userAgent),E:function(e){return"string"==typeof e?document.getElementById(e):e},C:function(e){var t;return e=e.toUpperCase(),t="TEXT"==e?document.createTextNode(""):"BUFFER"==e?document.createDocumentFragment():document.createElement(e)},log:function(){for(var t,n,o=arguments,a=o.length,s=[].slice.apply(o,[0,a]),l="error";s[--a];)if(s[a]instanceof Error){t=s.splice(a,1)[0];break}if(t||(t=new Error,l="log"),n=[s,l,(new Date).getTime(),t.message,t.stack],e)try{e.apply(null,n)}catch(c){}else r.length>=i&&r.shift(),r.push(n)},_regLogFn:function(t){e=t},_clearLogList:function(){return r.splice(0,r.length)}};var o=t[n];return o.register=function(e,r,i){i&&"string"==typeof i||(i=n),t[i]||(t[i]={});for(var o=t[i],a=e.split("."),s=o,l=null;l=a.shift();)if(a.length)void 0===s[l]&&(s[l]={}),s=s[l];else if(void 0===s[l])try{if(i&&i!==n){if("core.util.listener"===e)return s[l]=t[n].core.util.listener,!0;if("core.util.connect"===e)return s[l]=t[n].core.util.connect,!0}return s[l]=r(o),!0}catch(c){setTimeout(function(){console.log(c)},0)}return!1},o.unRegister=function(e,r){r&&"string"==typeof r||(r=n);for(var i=t[r],o=e.split("."),a=i,s=null;s=o.shift();)if(o.length){if(void 0===a[s])return!1;a=a[s]}else if(void 0!==a[s])return delete a[s],!0;return!1},o.regShort=function(e,t){if(void 0!==o[e])throw"["+e+"] : short : has been register";o[e]=t},o.shortRegister=function(e,r,i){i&&"string"==typeof i||(i=n);var o=t[i],a=e.split(".");if(!r)return!1;if(o[r])return!1;for(var s=o,l=null;l=a.shift();)if(a.length){if(void 0===s[l])return!1;s=s[l]}else if(void 0!==s[l])return o[r]?!1:(o[r]=s[l],!0);return!1},o.getPKG=function(e){return e&&"string"==typeof e||(e=n),t[e]},o}();STK.register("core.arr.isArray",function(e){return function(e){return"[object Array]"===Object.prototype.toString.call(e)}}),STK.register("core.arr.foreach",function(e){var t=function(e,t){for(var n=[],r=0,i=e.length;i>r;r+=1){var o=t(e[r],r);if(o===!1)break;null!==o&&(n[r]=o)}return n},n=function r(e,t){var r={};for(var n in e){var i=t(e[n],n);if(i===!1)break;null!==i&&(r[n]=i)}return r};return function(r,i){return e.core.arr.isArray(r)||r.length&&void 0!==r[0]?t(r,i):"object"==("undefined"==typeof r?"undefined":_typeof(r))?n(r,i):null}}),STK.register("core.arr.indexOf",function(e){return function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}}),STK.register("core.arr.inArray",function(e){return function(t,n){return e.core.arr.indexOf(t,n)>-1}}),STK.register("core.evt.addEvent",function(e){return function(t,n,r){return t=e.E(t),null==t?!1:"function"!=typeof r?!1:(t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent?t.attachEvent("on"+n,r):t["on"+n]=r,!0)}}),STK.register("core.util.browser",function(e){var t,n,r,i,o,a=navigator.userAgent.toLowerCase(),s=window.external||"",l=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))};try{/windows|win32/i.test(a)?o="windows":/macintosh/i.test(a)?o="macintosh":/rhino/i.test(a)&&(o="rhino"),(n=a.match(/applewebkit\/([^\s]*)/))&&n[1]?(t="webkit",i=l(n[1])):(n=a.match(/presto\/([\d.]*)/))&&n[1]?(t="presto",i=l(n[1])):(n=a.match(/msie\s([^;]*)/))?(t="trident",i=1,(n=a.match(/trident\/([\d.]*)/))&&n[1]&&(i=l(n[1]))):/gecko/.test(a)&&(t="gecko",i=1,(n=a.match(/rv:([\d.]*)/))&&n[1]&&(i=l(n[1]))),/world/.test(a)?r="world":/360se/.test(a)?r="360":/maxthon/.test(a)||"number"==typeof s.max_version?r="maxthon":/tencenttraveler\s([\d.]*)/.test(a)?r="tt":/se\s([\d.]*)/.test(a)&&(r="sogou")}catch(c){}var u={OS:o,CORE:t,Version:i,EXTRA:r?r:!1,IE:/msie/.test(a),OPERA:/opera/.test(a),MOZ:/gecko/.test(a)&&!/(compatible|webkit)/.test(a),IE5:/msie 5 /.test(a),IE55:/msie 5.5/.test(a),IE6:/msie 6/.test(a),IE7:/msie 7/.test(a),IE8:/msie 8/.test(a),IE9:/msie 9/.test(a),IE10:/msie 10/.test(a),SAFARI:!/chrome\/([\d.]*)/.test(a)&&/\/([\da-f.]*) safari/.test(a),CHROME:/chrome\/([\d.]*)/.test(a),IPAD:/\(ipad/i.test(a),IPHONE:/\(iphone/i.test(a),ITOUCH:/\(itouch/i.test(a),MOBILE:/mobile/i.test(a)};return u}),STK.register("core.func.getType",function(e){return function(e){var t;return("object"==(t="undefined"==typeof e?"undefined":_typeof(e))?null==e&&"null"||Object.prototype.toString.call(e).slice(8,-1):t).toLowerCase()}}),STK.register("core.dom.ready",function(e){var t=[],n=!1,r=e.core.func.getType,i=(e.core.util.browser,e.core.evt.addEvent),o=function(){return n||"complete"!==document.readyState?n:!0},a=function(){if(1!=n){n=!0;for(var e=0,i=t.length;i>e;e++)if("function"===r(t[e]))try{t[e].call()}catch(o){}t=[]}},s=function(){if(o())return void a();try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,25)}a()},l=function(){return o()?void a():void setTimeout(arguments.callee,25)},c=function(){i(document,"DOMContentLoaded",a)},u=function(){i(window,"load",a)};return o()||(e.IE&&window===window.top&&s(),c(),l(),u()),function(e){o()?"function"===r(e)&&e.call():t.push(e)}}),STK.register("core.dom.isNode",function(e){return function(e){return void 0!=e&&Boolean(e.nodeName)&&Boolean(e.nodeType)}}),STK.register("core.dom.setStyle",function(e){function t(){return"y"in t?t.y:t.y="filters"in e.C("div")}return function(e,n,r){if(t())switch(n){case"opacity":e.style.filter="alpha(opacity="+100*r+")",e.currentStyle&&e.currentStyle.hasLayout||(e.style.zoom=1);break;case"float":n="styleFloat";default:e.style[n]=r}else"float"==n&&(n="cssFloat"),e.style[n]=r}}),STK.register("core.dom.getStyle",function(e){function t(){return"y"in t?t.y:t.y="filters"in e.C("div")}return function(e,n){if(!t()){"float"==n&&(n="cssFloat");try{var r=document.defaultView.getComputedStyle(e,"")}catch(i){}return e.style[n]||r?r[n]:null}switch(n){case"opacity":var o=100;try{o=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{o=e.filters("alpha").opacity}catch(i){}}return o/100;case"float":n="styleFloat";default:var a=e.currentStyle?e.currentStyle[n]:null;return e.style[n]||a}}}),STK.register("core.util.hideContainer",function(e){var t,n=function(){t||(t=e.C("div"),t.style.cssText="position:absolute;top:-9999px;left:-9999px;",document.getElementsByTagName("head")[0].appendChild(t))},r={appendChild:function(r){e.core.dom.isNode(r)&&(n(),t.appendChild(r))},removeChild:function(n){e.core.dom.isNode(n)&&t&&t.removeChild(n)}};return r}),STK.register("core.dom.getSize",function(e){var t=function(t){if(!e.core.dom.isNode(t))throw"core.dom.getSize need Element as first parameter";return{width:t.offsetWidth,height:t.offsetHeight}},n=function r(e){var r=null;return"none"===e.style.display?(e.style.visibility="hidden",e.style.display="",r=t(e),e.style.display="none",e.style.visibility="visible"):r=t(e),r};return function(t){var r={};return t.parentNode?r=n(t):(e.core.util.hideContainer.appendChild(t),r=n(t),e.core.util.hideContainer.removeChild(t)),r}}),STK.register("core.util.scrollPos",function(e){return function(e){e=e||document;var t=e.documentElement,n=e.body;return{top:Math.max(window.pageYOffset||0,t.scrollTop,n.scrollTop),left:Math.max(window.pageXOffset||0,t.scrollLeft,n.scrollLeft)}}}),STK.register("core.obj.parseParam",function(e){return function(e,t,n){var r,i={};t=t||{};for(r in e)i[r]=e[r],null!=t[r]&&(n?e.hasOwnProperty(r)&&(i[r]=t[r]):i[r]=t[r]);return i}}),STK.register("core.dom.position",function(e){var t=function(t){var n,r,i,o,a,s;return n=t.getBoundingClientRect(),r=e.core.util.scrollPos(),i=t.ownerDocument.body,o=t.ownerDocument.documentElement,a=o.clientTop||i.clientTop||0,s=o.clientLeft||i.clientLeft||0,{l:parseInt(n.left+r.left-s,10)||0,t:parseInt(n.top+r.top-a,10)||0}},n=function(t,n){var r,i;if(r=[t.offsetLeft,t.offsetTop],i=t.offsetParent,i!==t&&i!==n)for(;i;)r[0]+=i.offsetLeft,r[1]+=i.offsetTop,i=i.offsetParent;for((-1!=e.core.util.browser.OPERA||-1!=e.core.util.browser.SAFARI&&"absolute"==t.style.position)&&(r[0]-=document.body.offsetLeft,r[1]-=document.body.offsetTop),i=t.parentNode?t.parentNode:null;i&&!/^body|html$/i.test(i.tagName)&&i!==n;)i.style.display.search(/^inline|table-row.*$/i)&&(r[0]-=i.scrollLeft,r[1]-=i.scrollTop),i=i.parentNode;return{l:parseInt(r[0],10),t:parseInt(r[1],10)}};return function(r,i){if(r==document.body)return!1;if(null==r.parentNode)return!1;if("none"==r.style.display)return!1;var o=e.core.obj.parseParam({parent:null},i);if(r.getBoundingClientRect){if(o.parent){var a=t(r),s=t(o.parent);return{l:a.l-s.l,t:a.t-s.t}}return t(r)}return n(r,o.parent||document.body)}}),STK.register("core.dom.hasClassName",function(e){return function(e,t){return new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)}}),STK.register("core.str.trim",function(e){return function(e){if("string"!=typeof e)throw"trim need a string as parameter";for(var t=e.length,n=0,r=/(\u3000|\s|\t|\u00A0)/;t>n&&r.test(e.charAt(n));)n+=1;for(;t>n&&r.test(e.charAt(t-1));)t-=1;return e.slice(n,t)}}),STK.register("core.dom.addClassName",function(e){return function(t,n){1===t.nodeType&&(e.core.dom.hasClassName(t,n)||(t.className=e.core.str.trim(t.className)+" "+n))}}),STK.register("core.dom.removeClassName",function(e){return function(t,n){1===t.nodeType&&e.core.dom.hasClassName(t,n)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+n+"($|\\s)")," "))}}),STK.register("core.util.getUniqueKey",function(e){var t=(new Date).getTime().toString(),n=1;return function(){return t+n++}}),STK.register("core.dom.uniqueID",function(e){return function(t){return t&&(t.uniqueID||(t.uniqueID=e.core.util.getUniqueKey()))}}),STK.register("core.evt.removeEvent",function(e){return function(t,n,r){return t=e.E(t),null==t?!1:"function"!=typeof r?!1:(t.removeEventListener?t.removeEventListener(n,r,!1):t.detachEvent&&t.detachEvent("on"+n,r),t["on"+n]=null,!0)}}),STK.register("core.evt.getEvent",function(e){return function(){return document.addEventListener?function(){var e,t=arguments.callee;do if(e=t.arguments[0],e&&(e.constructor==Event||e.constructor==MouseEvent||e.constructor==KeyboardEvent))return e;while(t=t.caller);return e}:function(e,t,n){return window.event}}()}),STK.register("core.evt.fixEvent",function(e){return"clientX clientY pageX pageY screenX screenY".split(" "),function(t){if(t=t||e.core.evt.getEvent(),t.target||(t.target=t.srcElement||document),null==t.pageX&&null!=t.clientX){var n=document.documentElement,r=document.body;t.pageX=t.clientX+(n.scrollLeft||r&&r.scrollLeft||0)-(n.clientLeft||r&&r.clientLeft||0),t.pageY=t.clientY+(n.scrollTop||r&&r.scrollTop||0)-(n.clientTop||r&&r.clientTop||0)}return!t.which&&t.button&&(1&t.button?t.which=1:4&t.button?t.which=2:2&t.button&&(t.which=3)),void 0===t.relatedTarget&&(t.relatedTarget=t.fromElement||t.toElement),null==t.layerX&&null!=t.offsetX&&(t.layerX=t.offsetX,t.layerY=t.offsetY),t}}),STK.register("core.evt.preventDefault",function(e){return function(t){t=t||e.core.evt.getEvent(),t.preventDefault?t.preventDefault():t.returnValue=!1}}),STK.register("core.evt.custEvent",function(e){var t="__custEventKey__",n=1,r={},i=function c(e,n){var c="number"==typeof e?e:e[t];return c&&r[c]&&{obj:"string"==typeof n?r[c][n]:r[c],key:c}},o={},a=function u(e,t,n,r,o){if(e&&"string"==typeof t&&n){var u=i(e,t);if(!u||!u.obj)throw"custEvent ("+t+") is undefined !";return u.obj.push({fn:n,data:r,once:o}),u.key}},s=function d(t,n,r,o){var a=!0,d=function(){a=!1};if(t&&"string"==typeof n){var s,l=i(t,n);if(l&&(s=l.obj)){r="undefined"!=typeof r&&[].concat(r)||[];for(var c=s.length-1;c>-1&&s[c];c--){var u=s[c].fn,p=s[c].once;if(u&&u.apply)try{u.apply(t,[{obj:t,type:n,data:s[c].data,preventDefault:d}].concat(r)),p&&s.splice(c,1)}catch(f){e.log("[error][custEvent]"+f.message,f,f.stack)}}return a&&"function"===e.core.func.getType(o)&&o(),l.key}}},l={define:function(e,i){if(e&&i){var o="number"==typeof e?e:e[t]||(e[t]=n++),a=r[o]||(r[o]={});i=[].concat(i);for(var s=0;s<i.length;s++)a[i[s]]||(a[i[s]]=[]);return o}},undefine:function(e,n){if(e){var i="number"==typeof e?e:e[t];if(i&&r[i])if(n){n=[].concat(n);for(var o=0;o<n.length;o++)n[o]in r[i]&&delete r[i][n[o]]}else delete r[i]}},add:function(e,t,n,r){return a(e,t,n,r,!1)},once:function(e,t,n,r){return a(e,t,n,r,!0)},remove:function(t,n,r){if(t){var o,a=i(t,n);if(a&&(o=a.obj)){if(e.core.arr.isArray(o))if(r){for(var s=0;o[s]&&o[s].fn!==r;)s++;o.splice(s,1)}else o.splice(0,o.length);else for(var s in o)o[s]=[];return a.key}}},fire:function(e,t,n,r){return s(e,t,n,r)},hook:function(e,i,a){if(e&&i&&a){var c,u,d=[],p=e[t],f=p&&r[p],m=i[t]||(i[t]=n++);if(f){u=o[p+"_"+m]||(o[p+"_"+m]={});var h=function(e){var t=!0;s(i,u[e.type].type,Array.prototype.slice.apply(arguments,[1,arguments.length]),function(){t=!1}),t&&e.preventDefault()};for(var g in a){var v=a[g];u[g]||(c=f[g])&&(c.push({fn:h,data:void 0}),u[g]={fn:h,type:v},d.push(v))}l.define(i,d)}}},unhook:function(e,n,r){if(e&&n&&r){var i=e[t],a=n[t],s=o[i+"_"+a];if(s)for(var c in r)r[c],s[c]&&l.remove(e,c,s[c].fn)}},destroy:function(){r={},n=1,o={}}};return l}),STK.register("core.func.empty",function(){return function(){}}),STK.register("core.dom.removeNode",function(e){return function(t){t=e.E(t)||t;try{t.parentNode.removeChild(t)}catch(n){}}}),STK.register("core.str.parseURL",function(e){return function(e){for(var t=/^(?:([A-Za-z]+):(\/{0,3}))?([0-9.\-A-Za-z]+\.[0-9A-Za-z]+)?(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,n=["url","scheme","slash","host","port","path","query","hash"],r=t.exec(e),i={},o=0,a=n.length;a>o;o+=1)i[n[o]]=r[o]||"";return i}}),STK.register("core.json.queryToJson",function(e){return function(t,n){for(var r=e.core.str.trim(t).split("&"),i={},o=function(e){return n?decodeURIComponent(e):e},a=0,s=r.length;s>a;a++)if(r[a]){var l=r[a].split("="),c=l[0],u=l[1];l.length<2&&(u=c,c="$nullName"),i[c]?(1!=e.core.arr.isArray(i[c])&&(i[c]=[i[c]]),i[c].push(o(u))):i[c]=o(u)}return i}}),STK.register("core.json.jsonToQuery",function(e){var t=function(t,n){return t=null==t?"":t,t=e.core.str.trim(t.toString()),n?encodeURIComponent(t):t};return function(e,n){var r=[];if("object"==("undefined"==typeof e?"undefined":_typeof(e)))for(var i in e)if("$nullName"!==i)if(e[i]instanceof Array)for(var o=0,a=e[i].length;a>o;o++)r.push(i+"="+t(e[i][o],n));else"function"!=typeof e[i]&&r.push(i+"="+t(e[i],n));else r=r.concat(e[i]);return r.length?r.join("&"):""}}),STK.register("core.util.URL",function(e){return function(t,n){var r=e.core.obj.parseParam({isEncodeQuery:!1,isEncodeHash:!1},n||{}),i={},o=e.core.str.parseURL(t),a=e.core.json.queryToJson(o.query),s=e.core.json.queryToJson(o.hash);return i.setParam=function(e,t){return a[e]=t,this},i.getParam=function(e){return a[e]},i.setParams=function(e){for(var t in e)i.setParam(t,e[t]);return this},i.setHash=function(e,t){return s[e]=t,this},i.getHash=function(e){return s[e]},i.valueOf=i.toString=function(){var t=[],n=e.core.json.jsonToQuery(a,r.isEncodeQuery),i=e.core.json.jsonToQuery(s,r.isEncodeQuery);return""!=o.scheme&&(t.push(o.scheme+":"),t.push(o.slash)),""!=o.host&&(t.push(o.host),""!=o.port&&(t.push(":"),t.push(o.port))),t.push("/"),t.push(o.path),""!=n&&t.push("?"+n),""!=i&&t.push("#"+i),t.join("")},i}}),STK.register("core.io.scriptLoader",function(e){var t={},n={url:"",charset:"UTF-8",timeout:3e4,args:{},onComplete:e.core.func.empty,onTimeout:e.core.func.empty,isEncode:!1,uniqueID:null};return function(r){var i,o,a=e.core.obj.parseParam(n,r);if(""==a.url)throw"scriptLoader: url is null";var s=a.uniqueID||e.core.util.getUniqueKey();return i=t[s],null!=i&&1!=e.IE&&(e.core.dom.removeNode(i),i=null),null==i&&(i=t[s]=e.C("script")),i.charset=a.charset,i.id="scriptRequest_script_"+s,i.type="text/javascript",null!=a.onComplete&&(e.IE?i.onreadystatechange=function(){if("loaded"==i.readyState.toLowerCase()||"complete"==i.readyState.toLowerCase()){try{clearTimeout(o),document.getElementsByTagName("head")[0].removeChild(i),i.onreadystatechange=null}catch(e){}a.onComplete()}}:i.onload=function(){try{clearTimeout(o),e.core.dom.removeNode(i)}catch(t){}a.onComplete()}),i.src=e.core.util.URL(a.url,{isEncodeQuery:a.isEncode}).setParams(a.args).toString(),document.getElementsByTagName("head")[0].appendChild(i),a.timeout>0&&(o=setTimeout(function(){try{document.getElementsByTagName("head")[0].removeChild(i)}catch(e){}a.onTimeout()},a.timeout)),i}}),STK.register("core.io.jsonp",function(e){return function(t){var n=e.core.obj.parseParam({url:"",charset:"UTF-8",timeout:3e4,args:{},onComplete:null,onTimeout:null,responseName:null,isEncode:!1,varkey:"callback"},t),r=-1,i=n.responseName||"STK_"+e.core.util.getUniqueKey();n.args[n.varkey]=i;var o=n.onComplete,a=n.onTimeout;return window[i]=function(e){2!=r&&null!=o&&(r=1,o(e))},n.onComplete=null,n.onTimeout=function(){1!=r&&null!=a&&(r=2,a())},e.core.io.scriptLoader(n)}}),STK.register("core.json.merge",function(e){var t=function(t){return void 0===t?!0:null===t?!0:e.core.arr.inArray("undefined"==typeof t?"undefined":_typeof(t),["number","string","function","boolean"])?!0:e.core.dom.isNode(t)?!0:!1},n=function i(n,r,o){if(t(o))return void(n[r]=o);if(e.core.arr.isArray(o)){e.core.arr.isArray(n[r])||(n[r]=[]);for(var a=0,s=o.length;s>a;a+=1)i(n[r],a,o[a])}else if("object"!=("undefined"==typeof o?"undefined":_typeof(o)));else{(t(n[r])||e.core.arr.isArray(n[r]))&&(n[r]={});for(var l in o)i(n[r],l,o[l])}},r=function(e,t,r){var i={};if(r){for(var o in e)n(i,o,e[o]);for(var o in t)n(i,o,t[o])}else{for(var o in e)i[o]=e[o];for(var o in t)i[o]=t[o]}return i};return function(t,n,i){var o=e.core.obj.parseParam({isDeep:!1},i);return r(t,n,o.isDeep)}}),STK.register("core.util.language",function(e){return function(e,t){for(var n=[],r=2,i=arguments.length;i>r;r+=1)n.push(arguments[r]);return e.replace(/#L\{((.*?)(?:[^\\]))\}/gi,function(){var e,r=arguments[1];return e=t&&void 0!==t[r]?t[r]:r,n.length&&(e=e.replace(/(\%s)/gi,function(){var e=n.shift();return void 0!==e?e:arguments[0]})),e})}}),STK.register("core.util.listener",function(e){return function(){var e,t={},n=[],r=function i(){if(0!=n.length){clearTimeout(e);var t=n.splice(0,1)[0];try{t.func.apply(t.func,[].concat(t.data))}catch(r){}e=setTimeout(i,25)}};return{register:function(e,n,r){t[e]=t[e]||{},t[e][n]=t[e][n]||[],t[e][n].push(r)},fire:function(e,i,o){var a,s,l;if(t[e]&&t[e][i]&&t[e][i].length>0){for(a=t[e][i],a.data_cache=o,s=0,l=a.length;l>s;s++)n.push({channel:e,evt:i,func:a[s],data:o});r()}},remove:function(e,n,r){if(t[e]&&t[e][n])for(var i=0,o=t[e][n].length;o>i;i++)if(t[e][n][i]===r){t[e][n].splice(i,1);break}},list:function(){return t},cache:function(e,n){return t[e]&&t[e][n]?t[e][n].data_cache:void 0}}}()}),STK.register("core.util.winSize",function(e){return function(e){var t,n,r;return r=e?e.document:document,"CSS1Compat"===r.compatMode?(t=r.documentElement.clientWidth,n=r.documentElement.clientHeight):self.innerHeight?(r=e?e.self:self,t=r.innerWidth,n=r.innerHeight):r.documentElement&&r.documentElement.clientHeight?(t=r.documentElement.clientWidth,n=r.documentElement.clientHeight):r.body&&(t=r.body.clientWidth,n=r.body.clientHeight),{width:t,height:n}}}),function(){var e=STK.core,t={arrCopy:e.arr.copy,arrClear:e.arr.clear,hasby:e.arr.hasby,unique:e.arr.unique,foreach:e.arr.foreach,isArray:e.arr.isArray,inArray:e.arr.inArray,arrIndexOf:e.arr.indexOf,findout:e.arr.findout,domNext:e.dom.next,domPrev:e.dom.prev,isNode:e.dom.isNode,addHTML:e.dom.addHTML,insertHTML:e.dom.insertHTML,setXY:e.dom.setXY,contains:e.dom.contains,position:e.dom.position,trimNode:e.dom.trimNode,insertAfter:e.dom.insertAfter,insertBefore:e.dom.insertBefore,removeNode:e.dom.removeNode,replaceNode:e.dom.replaceNode,Ready:e.dom.ready,setStyle:e.dom.setStyle,setStyles:e.dom.setStyles,getStyle:e.dom.getStyle,addClassName:e.dom.addClassName,hasClassName:e.dom.hasClassName,removeClassName:e.dom.removeClassName,builder:e.dom.builder,addEvent:e.evt.addEvent,custEvent:e.evt.custEvent,removeEvent:e.evt.removeEvent,fireEvent:e.evt.fireEvent,fixEvent:e.evt.fixEvent,getEvent:e.evt.getEvent,stopEvent:e.evt.stopEvent,delegatedEvent:e.evt.delegatedEvent,preventDefault:e.evt.preventDefault,hotKey:e.evt.hotKey,getType:e.func.getType,funcEmpty:e.func.empty,ajax:e.io.ajax,jsonp:e.io.jsonp,ijax:e.io.ijax,scriptLoader:e.io.scriptLoader,jsonToQuery:e.json.jsonToQuery,queryToJson:e.json.queryToJson,parseParam:e.obj.parseParam,trim:e.str.trim,parseURL:e.str.parseURL,listener:e.util.listener,winSize:e.util.winSize,scrollPos:e.util.scrollPos,getUniqueKey:e.util.getUniqueKey};for(var n in t)t[n]&&STK.regShort(n,t[n])}(),STK.register("kit.dom.cssText",function(e){var t=function(e,t){for(var n,r=(e+";"+t).replace(/(\s*(;)\s*)|(\s*(:)\s*)/g,"$2$4");r&&(n=r.match(/(^|;)([\w\-]+:)([^;]*);(.*;)?\2/i));)r=r.replace(n[1]+n[2]+n[3],"");return r};return function(e){e=e||"";var n=[],r={push:function(e,t){return n.push(e+":"+t),r},remove:function(e){for(var t=0;t<n.length;t++)0==n[t].indexOf(e+":")&&n.splice(t,1);return r},getStyleList:function(){return n.slice()},getCss:function(){return t(e,n.join(";"))}};return r}}),STK.register("kit.dom.fix",function(e){
function t(t){return"none"!=e.core.dom.getStyle(t,"display")}function n(t){t=e.core.arr.isArray(t)?t:[0,0];for(var n=0;2>n;n++)"number"!=typeof t[n]&&(t[n]=0);return t}function r(n,r,o){if(t(n)){var a,s,l,c,u="fixed",d=n.offsetWidth,p=n.offsetHeight,f=e.core.util.winSize(),m=0,h=0,g=e.kit.dom.cssText(n.style.cssText);if(i)switch(a=c=o[1],s=l=o[0],r){case"lt":c=l="";break;case"lb":a=l="";break;case"rt":s=c="";break;case"rb":a=s="";break;case"c":default:a=(f.height-p)/2+o[1],s=(f.width-d)/2+o[0],c=l=""}else{u="absolute";var v=e.core.util.scrollPos();switch(m=a=v.top,h=s=v.left,r){case"lt":a+=o[1],s+=o[0];break;case"lb":a+=f.height-p-o[1],s+=o[0];break;case"rt":a+=o[1],s+=f.width-d-o[0];break;case"rb":a+=f.height-p-o[1],s+=f.width-d-o[0];break;case"c":default:a+=(f.height-p)/2+o[1],s+=(f.width-d)/2+o[0]}l=c=""}"c"==r&&(m>a&&(a=m),h>s&&(s=h)),g.push("position",u).push("top",a+"px").push("left",s+"px").push("right",l+"px").push("bottom",c+"px"),n.style.cssText=g.getCss()}}var i=!(e.core.util.browser.IE6||"CSS1Compat"!==document.compatMode&&STK.IE),o=/^(c)|(lt)|(lb)|(rt)|(rb)$/;return function(t,a,s){function l(n){n=n||window.event,e.core.evt.custEvent.fire(d,"beforeFix",n.type),!p||i&&"c"!=c||r(t,c,u)}var c,u,d,p=!0;if(e.core.dom.isNode(t)&&o.test(a)){var f={getNode:function(){return t},isFixed:function(){return p},setFixed:function(e){return(p=!!e)&&r(t,c,u),this},setAlign:function(e,i){return o.test(e)&&(c=e,u=n(i),p&&r(t,c,u)),this},destroy:function(){i||e.core.evt.removeEvent(window,"scroll",l),e.core.evt.removeEvent(window,"resize",l),e.core.evt.custEvent.undefine(d)}};return d=e.core.evt.custEvent.define(f,"beforeFix"),f.setAlign(a,s),i||e.core.evt.addEvent(window,"scroll",l),e.core.evt.addEvent(window,"resize",l),f}}}),STK.register("kit.dom.builder",function(e){var t=null;return function(n){var r=null;"string"==typeof n?(t||(t=e.C("div")),t.innerHTML=n,r=t.children[0],t.removeChild(r),t.innerHTML=""):r=n;var i={},o=r.getElementsByTagName("*");o.length>0&&e.foreach(o,function(t){if(e.isNode(t)){var n=t.getAttribute("node-type");n&&(i[n]||(i[n]=[]),i[n].push(t))}});var a={};return a.box=r,a.list=i,a}}),STK.register("kit.dom.parseDOM",function(e){return function(e){for(var t in e)e[t]&&1==e[t].length&&(e[t]=e[t][0]);return e}}),STK.register("kit.obj.append",function(e){return function(e){for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t]||{};for(var i in r)e[i]=r[i]}return e}}),STK.register("kit.dom.loadStyle",function(e){var t,n=e.funcEmpty,r=e.core.util.browser;return function(i,o){var a,s,l=!1,c=!1,u=e.parseParam({id:e.getUniqueKey(),timeout:3e4,styleCheck:null,onLoad:n,onTimeout:n,props:{charset:"utf-8",rel:"stylesheet",media:"screen",type:"text/css"}},o);a=e.C("link"),e.foreach(u.props,function(e,t){a[t]=e}),a.id=u.id,a.href=i;var d=function(){clearInterval(s),c||l||"function"===e.getType(u.onLoad)&&setTimeout(u.onLoad,100),l=!0};if(r.IE)a.onload=d;else if("function"===e.getType(u.styleCheck))s=setInterval(function(){u.styleCheck()&&d()},10);else{var p=document.createElement("img");p.onerror=d,p.src=i}u.timeout&&u.onTimeout&&setTimeout(function(){clearInterval(s),l||"function"!==e.getType(u.onTimeout)||(c=!0,u.onTimeout())},u.timeout),t||(t=document.getElementsByTagName("head")[0]),t.appendChild(a)}}),STK.register("kit.util.makeReady",function(e){return function(t){var n,r,i=e.parseParam({timeout:3e4,condition:e.funcEmpty,ready:e.funcEmpty},t);return{reset:function(){n&&(n.length=0,n=null),r&&(clearTimeout(r),r=null)},exec:function(t){var o=this;"function"===e.getType(t)&&(i.condition()?t():n?n.push(t):(n=[],n.push(t),r||(r=setTimeout(o.reset,i.timeout)),i.ready(function(){for(clearTimeout(r),r=null;"array"===e.getType(n)&&n.length>0;)n.shift()()})))},destroy:function(){this.reset()}}}}),STK.register("kit.dom.appendStyle",function(e){return function(t,n){var r,i=e.parseParam({autoAppend:!0,target:null,type:"text/css"},n);return t=t||"",t=t.toString(),e.isNode(i.target)&&"style"===i.target.tagName.toLowerCase()?r=i.target:(r=document.createElement("style"),r.setAttribute("type",i.type)),r.styleSheet?r.styleSheet.cssText=r.innerHTML+t:r.appendChild(document.createTextNode(t)),i.autoAppend&&document.getElementsByTagName("head")[0].appendChild(r),r}}),STK.register("module.mask",function(e){function t(t){n=e.C("div"),n.id="ST_outLogin_mask",e.core.util.browser.IE6&&t&&t.useIframeInIE6&&(n.innerHTML='<iframe id = "ST_outLogin_mask" style="position:absolute;z-index:-1;width:100%;height:100%;filter:mask();"></iframe>'),document.body.appendChild(n),i=!0,r=e.kit.dom.fix(n,"lt");var a=function(){var t=e.core.util.winSize();n.style.cssText=e.kit.dom.cssText(n.style.cssText).push("width",10*t.width+"px").push("height",10*t.height+"px").getCss()};o=l.add(r,"beforeFix",a),a()}var n,r,i,o,a,s=e.core.dom.setStyle,l=(e.core.dom.getStyle,e.core.evt.custEvent),c={},u={getNode:function(){return n},show:function(o,a){return i?(o=e.core.obj.parseParam({useIframeInIE6:!0,opacity:.1,background:"#000000"},o),n.style.background=o.background,s(n,"opacity",o.opacity),n.style.display="block",r.setAlign("lt"),a&&a()):e.Ready(function(){t(o),u.show(o,a)}),u},hide:function(t){if(n&&t)if(a!=t)delete c[e.core.dom.uniqueID(t)];else{var r=e.core.dom.prev(n);a&&(delete c[e.core.dom.uniqueID(a)],a=void 0);for(var i=!1,o=0;r&&3>o;o++){if(c[e.core.dom.uniqueID(r)]){i=!0;break}r=e.core.dom.prev(r)}i?u.showUnderNode(r):n.style.display="none",r=void 0}return t=void 0,u},showUnderNode:function(t,r){return e.isNode(t)&&(a=t,c[e.core.dom.uniqueID(t)]=1,u.show(r,function(){document.body.appendChild(n),document.body.appendChild(t),s(n,"zIndex","999")})),u},destroy:function(){l.remove(o),n.style.display="none",a=void 0,c={}}};return u}),STK.register("common.listener",function(e){var t={},n={};return n.define=function(n,r){if(null!=t[n])throw"common.listener.define: 频道已被占用";t[n]=r;var i={};return i.register=function(r,i){if(null==t[n])throw"common.listener.define: 频道未定义";e.core.util.listener.register(n,r,i)},i.fire=function(r,i){if(null==t[n])throw"commonlistener.define: 频道未定义";e.core.util.listener.fire(n,r,i)},i.remove=function(t,r){e.core.util.listener.remove(n,t,r)},i},n}),STK.register("common.channel.sso",function(e){return e.common.listener.define("common.channel.sso",["layer_ready","layer_show","layer_hide","validate_failure","play_door_voice","login","login_complete","login_success","login_failure","login_timeout","logout","logout_complete","logout_success","logout_failure","logout_timeout","verify","need_verify"])}),STK.register("core.dom.addHTML",function(e){return function(e,t){if(e.insertAdjacentHTML)e.insertAdjacentHTML("BeforeEnd",t);else{var n=e.ownerDocument.createRange();n.setStartBefore(e);var r=n.createContextualFragment(t);e.appendChild(r)}}}),STK.register("core.io.getXHR",function(e){return function(){var e=!1;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(r){e=!1}}}return e}}),STK.register("common.util.sso",function($){var $merge=$.core.json.merge,$channel_sso=$.common.channel.sso,$jsonp=$.core.io.jsonp,$removeNode=$.core.dom.removeNode;return $addHTML=$.core.dom.addHTML,function(spec){var that={},spec=spec||{};that.para={};var conf=$merge({timeout:2e4},spec);return that.init=function(){that.inited||(that.bindListener(),that.inited=!0)},that.encodeFormData=function(e){var t,n,r={},i=/%20/g;for(var o in e)n=window.encodeURIComponent(e[o].toString()).replace(i,"+"),t=window.encodeURIComponent(o).replace(i,"+"),r[t]=n;return r},that.createForm=function(e,t){null==t&&(t="none"),$removeNode(e);var n=document.createElement("form");return n.height=0,n.width=0,n.style.display=t,n.name=e,n.id=e,n.method="post",$addHTML(document.body,n),n.addInput=function(e,t,n){null==n&&(n="text");var r=this.getElementsByTagName("input")[e];r&&this.removeChild(r),r=document.createElement("input"),this.appendChild(r),r.id=e,r.name=e,r.type=n,r.value=t},n},that.login=function(e){that.loginTimer=setTimeout(function(){$channel_sso.fire("login_timeout")},conf.timeout);var t=$.core.json.jsonToQuery(e),n=$.core.io.getXHR();return!1 in n?!1:(n.open("POST","https://passport.sina.cn/sso/login",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.withCredentials=!0,n.onreadystatechange=function(){if(clearTimeout(that.loginTimer),delete that.loginTimer,4==n.readyState&&200==n.status){var e=that.parseJSON(n.responseText);if(2e7==e.retcode){var t={uid:e.data.uid,nick:e.data.nick,portrait:e.data.portrait};window.SINA_OUTLOGIN_LAYER_MOBILE_DATA=t,$channel_sso.fire("login_success",t);var r=e.data.crossdomainlist;for(var i in r)r.hasOwnProperty(i)&&$jsonp({url:r[i]+"&savestate=1"})}else if(50011002!=e.retcode){var o=document.createElement("div");o.innerHTML='<div style="position: fixed;left: 50%;top: 30%;z-index: 99999;width: 200px;margin: 0 0 0 -100px;-webkit-box-sizing: border-box;box-sizing: border-box;font-size: 14px;" class="logintipsactive"><div class="tips" style="display:-webkit-box;display:box;width:100%;background:rgba(84,84,84,.9);padding:24px 8px;margin:0auto;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-webkit-box-align:center;-webkit-box-orient:vertical;color:#fff;-webkit-border-radius:6px;border-radius:6px;"><p class="tips-txt" style="margin-top: 6px;text-align: center;line-height: 1.4;">为了保证您的账号安全，马上为您进行登录验证</p></div></div>';var a=document.createElement("style");a.innerHTML=".logintipsactive {display: block;animation: loginnewsfadeIn 2000ms linear forwards; @-webkit-keyframes loginnewsfadeIn {0%{opacity:0}20%{opacity:1}80%{opacity:1}100%{opacity:0}}@keyframes loginnewsfadeIn {0%{opacity:0}20%{opacity:1}80%{opacity:1}100%{opacity:0}}",document.getElementsByTagName("head")[0].appendChild(a),document.body.appendChild(o.childNodes[0]),setTimeout(function(){window.location.href="https://passport.sina.cn/signin/signin"},2e3)}else $channel_sso.fire("login_failure",[e])}},void n.send(t))},that.forgetPassword=function(e){var t=$.core.json.jsonToQuery(e),n=$.core.io.getXHR();return!1 in n?!1:(n.open("POST","https://passport.sina.cn/forgot/ajforgot",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.withCredentials=!0,n.onreadystatechange=function(){var e=window.encodeURIComponent(window.location.href);if(4==n.readyState&&200==n.status){var t=that.parseJSON(n.responseText);2e7==t.retcode?window.location.href=t.data.jump_url:window.location.href="https://passport.sina.cn/forgot/forgot?entry=wapsso&from=0&r="+e}},void n.send(t))},that.parseJSON=function(str){return"object"==("undefined"==typeof str?"undefined":_typeof(str))?str:window.JSON?JSON.parse(str):eval("("+str+")")},that.checkVerify=function(e,t){var n={url:"https://login.sina.com.cn/sso/prelogin.php",args:{entry:"sso",checkpin:1,su:window.btoa(window.encodeURIComponent(e))},onComplete:function(e){0===e.retcode&&t(e)}};$jsonp(n)},that.chackLogin=function(e){var t={url:"https://passport.sina.cn/sso/checklogin",args:{entry:"sso"},onComplete:function(t){"function"===$.getType(e)&&e(t)}};$jsonp(t)},that.mobileVerify=function(e,t){var n={url:e,onComplete:function(e){"function"===$.getType(t)&&t(e)}};$jsonp(n)},that.getPinCodeUrl=function(e,t){var n={url:e,onComplete:function(e){2e7==e.retcode&&(t.src=e.data.image,t.setAttribute("data-pcid",e.data.pcid))}};$jsonp(n)},that.bindListener=function(){$channel_sso.register("login",that.login),$channel_sso.register("verify",that.checkVerify)},that}}),STK.register("kit.extra.template",function(e){var t=function(e,t){return e.replace(/#\{(.+?)\}/gi,function(){for(var e=arguments[1],n=arguments[0],r=e.split("||"),i=0,o=r.length;o>i;i+=1){if(/^default:.*$/.test(r[i])){n=r[i].replace(/^default:/,"");break}if(void 0!==t[r[i]]){n=t[r[i]];break}}return n})};return function(n,r){r=r||e.$LANG||{};var i=t(n,r);return i}}),STK.register("kit.evt.input_bindchange",function(e){var t=e.core.util.browser;return function(n,r,i){r="add"==r?"add":"remove";var o=r+"Event";if(t.IE){var a=parseInt(t.Version,10);5==a?(e[o](n,"keydown",i),e[o](n,"cut",i),e[o](n,"input",i)):a>5?e[o](n,"input",i):e[o](n,"propertychange",i)}else e[o](n,"input",i)}}),STK.register("kit.util.buffer_pool",function(e){return function(t){var n={},r=e.parseParam({delay:50},t),i=null;n.trigger_final=function(){i&&(clearTimeout(i),i=null),i=setTimeout(function(){i=null,n.feedback()},r.delay)};var o=null,a=!1;return n.trigger_regular=function(){a=!0,o||(o=setInterval(function(){n.feedback(),a||(clearInterval(o),o=null),a=!1},r.delay))},n.feedback=function(){},n}}),STK.register("kit.dom.placeholder",function(e){var t,n=e.core.json.merge;return function(r,i){var o={},a=e.parseParam({},i),s={opacity:.5};return o.supportPlaceholder=function(){return t||(t=e.C("input")),"placeholder"in t},o.compute_offset=function(){var t={};return e.foreach(["marginTop","paddingTop","borderTopWidth","marginLeft","paddingLeft","borderLeftWidth"],function(n){t[n]=e.getStyle(r,n),"auto"==t[n]&&(t[n]="1px"),t[n]=parseInt(t[n],10)||0}),t.x=t.marginLeft+t.paddingLeft+t.borderLeftWidth,t.y=t.marginTop+t.paddingTop+t.borderTopWidth+(e.core.util.browser.IE6?1:0),t},o.getStyles=function(){var t={};return e.foreach(["fontSize","lineHeight"],function(n){t[n]=e.getStyle(r,n)}),t.position="absolute",t},o.focus=function(){o.hide(),setTimeout(function(){r.focus()})},o.hide=function(){o.label&&e.setStyle(o.label,"display","none")},o.show=function(){o.label&&r&&!r.value&&e.setStyle(o.label,"display","")},o.check=function(){r.value?o.hide():o.show()},o.build_placeholder=function(t){o.label||(o.label=e.C("span"),o.hide(),e.insertBefore(o.label,r),o.bindDomEvents()),o.label.innerHTML=t;var i=o.getStyles(),a=o.compute_offset();i.marginLeft=a.x+"px",i.marginTop=a.y+"px",i=n(i,s),e.foreach(i,function(t,n){e.setStyle(o.label,n,t)})},o.checkInput=function(){r&&r.value&&o.hide()},o.bindDomEvents=function(){e.addEvent(r,"input",o.checkInput),e.addEvent(r,"propertychange",o.checkInput),e.addEvent(r,"focus",o.hide),e.addEvent(r,"blur",o.check),e.addEvent(o.label,"mousedown",o.focus)},o.destroy=function(){e.removeEvent(r,"focus",o.hide),e.removeEvent(o.label,"mousedown",o.focus),e.removeEvent(r,"blur",o.check),o.label&&o.label.parentNode&&o.label.parentNode.removeChild(o.label),o.label=null},o.set=function(e,t){return r?(t=t||{},s=n({color:"#888"},t),e||(e=r.getAttribute("placeholder")||""),o.supportPlaceholder()?r.setAttribute("placeholder",e):(o.build_placeholder(e),o.check()),o):void 0},o.node=r,o.conf=a,o.conf_style=s,o}}),STK.register("common.util.door",function(e){var t=(e.core.json.merge,e.common.channel.sso,e.common.util.sso);return function(n){var r={},i={};return r.sso=t(),r.argsCheck=function(){i=e.parseParam({usesso:!1,address:"",img:null,input:null,tip:null,button:null,img_extra:{},autofocus:!1},n)},r.init=function(){r.argsCheck(),r.setEvents("add")},r.change=function(){i.tip&&(i.tip.innerHTML=""),i.input&&(i.input.value=""),i.img&&(e.setStyle(i.img,"visibility","hidden"),r.sso.getPinCodeUrl(i.address,i.img))},r.bound={change:function(){e.preventDefault(),r.change(),i.input&&i.autofocus&&i.input.focus()},doorImgLoad:function(){e.setStyle(i.img,"visibility","visible")}},r.setEvents=function(t){var n="add"===t?"addEvent":"removeEvent";e[n](i.button,"click",r.bound.change),e[n](i.img,"click",r.bound.change),e[n](i.img,"load",r.bound.doorImgLoad)},r.destroy=function(){r.setEvents("remove")},r.conf=i,r}}),STK.register("comp.login.outlogin",function(e){var t=(e.core.json.merge,e.kit.extra.template),n=e.kit.dom.builder,r=e.kit.dom.parseDOM,i=e.kit.evt.input_bindchange,o=e.kit.util.buffer_pool,a=e.kit.dom.placeholder,s=e.common.util.door,l=e.common.channel.sso;return $sso=e.common.util.sso,function(c){var u={},d={},p={forget_vsn_url:"",forget_password_url:"",register_url:"https://login.sina.com.cn/signup/signup.php?entry=#{entry||default:sso}",entry:"wapsso",door_address:""+window.prtl.prefix+"passport.sina.cn/captcha/image",savestate:3650,relative_node:null,setTipDelay:100,closeAutoCompleteDelay:200,updateDelay:200,login_failure:0};u.username=null,u.loginFailureNum=0,u.isInside=!1,u.mobileVerifyurl=null,u.prev_value="",u.disabled=!1,u.submitDisabled=!0,u.focusDom=null,u.setOptions=function(t){t=t||{},p=e.parseParam(p,t),u.conf=p},u.setTip=function(e,t){e+""!="undefined"&&d.tip&&""!==e&&(d.tip.innerHTML=e,d.tip.style.display="block")},u.hideTip=function(e){d.tip&&(d.tip.style.display="none",d.tip.innerHTML="")},u.mobileVerify=function(){e.removeEvent(d.mobile_Verify,"click",u.mobileVerify);var t=u.getSSO();t.mobileVerify(u.mobileVerifyurl,function(e){u.cfrom=e.data.cfrom});var n=60,r=function(){0==n?(d.mobile_Verify.className="lymb-code-btn",d.mobile_Verify.innerHTML="获取验证码",n=60,e.addEvent(d.mobile_Verify,"click",u.mobileVerify)):i()},i=function(){d.mobile_Verify.className="lymb-code-wait",d.mobile_Verify.innerHTML="重新获取("+n+")",setTimeout(function(){n--,r()},1e3)};i()},u.lockForm=function(t){t=!!t,u.disabled=t,e.foreach(["loginname","password","door","vsn"],function(e){var n=d[e];n.readOnly=t})},u.getRemember=function(){var t=d.loginname.value,n=u.getSSO();if(!t&&n&&"function"===e.getType(n.getLoginInfo)){var r=n.getLoginInfo();r&&r.ln&&(d.loginname.value=r.ln)}u.placeholder_loginname&&u.placeholder_loginname.check(),u.checkFace()},u.showClearButton=function(){d.clear&&(d.loginname.value?e.setStyle(d.clear,"display",""):e.setStyle(d.clear,"display","none"))},u.hideClearButton=function(){d.clear&&(d.clear.style.display="none")},u.clearRemember=function(){},u.reset=function(){u.lockForm(!1),d.loginname.value="",d.password.value="",d.door.value="",d.vsn.value="",d.mobile.value="",u.switchFace("password"),u.hideTip(),u.submitDisabled=!0,d.submit.className="lymb-sub",u.placeholder_loginname&&u.placeholder_loginname.check(),u.placeholder_password&&u.placeholder_password.check(),u.placeholder_vsn&&u.placeholder_vsn.check(),u.hideClearButton()},u.getData=function(){var t={};return e.foreach(["loginname","door","vsn","password","mobile","advanceLoginname"],function(n){var r=d[n],i=e.trim(r.value);r.value!==i&&"password"!==n&&(r.value=i,r.blur()),t[n]=r.value}),t},u.validate=function(n,r){var i=!0,o="",a=null;return e.foreach({loginname:"E010001",password:"E010002",door:"E010003",vsn:"E010004",mobile:"E010003"},function(e,s){var l="loginname"===s||r===s;"loginname"===s&&"none"!=d.advanceLoginname_box.style.display&&(l=!1);var c=d[s];return l&&c&&!n[s]&&(a=c,o=t("#{"+e+"}"),i=!1),i}),i||(a&&a.focus(),setTimeout(function(){u.setTip(o,a),l.fire("validate_failure")},p.setTipDelay)),i},u.verify=function(e){e=e||{reason:""};var n=t("#{"+e.code+"||default:"+e.reason+"}"),r=null;"4049"==e.code||"2070"==e.code?(u.switchFace("door"),u.door&&u.door.change(),r=d.door):(u.switchFace("vsn"),r=d.vsn),r&&r.focus(),setTimeout(function(){u.setTip(n,r),("2070"==e.code||"5025"==e.code||"4049"==e.code)&&l.fire("validate_failure")},p.setTipDelay)},u.submit=function(){if(!u.disabled&&!u.submitDisabled){u.hideTip();var e={},t=u.getData(),n=u.getFaceState();u.validate(t,n)&&(u.lockForm(!0),e.savestate=3650,d.remember&&d.remember.checked&&(e.savestate=p.savestate),t.loginname&&(e.username=encodeURIComponent(t.loginname)),e.password=encodeURIComponent(t.password),"door"===n?(e.pincode=t.door,e.pcid=d.door_img.getAttribute("data-pcid")):"vsn"===n?e.vsn=t.vsn:"mobile"===n&&(e.password=t.mobile,e.cfrom=u.cfrom),document.referrer&&(e.pagerefer=document.referrer),e.entry="wapsso",e.loginfrom=1,l.fire("login",[e]))}},u.getFaceState=function(){return"none"!=d.door_box.style.display?"door":"none"!=d.vsn_box.style.display?"vsn":"none"!=d.mobile_box.style.display?"mobile":"password"},u.switchFace=function(t){"change"===t?(d.userhead.src=""+window.prtl.prefix+"i.sso.sina.com.cn/images/login/thumb_default.gif",d.advanceLoginname_box.style.display="none",d.loginname_box.style.display="block",d.password_box.style.display="block",e.foreach(["door","vsn","mobile"],function(t){var n=d[t+"_box"];e.setStyle(n,"display","none")})):(t=t||"password","door"===t&&u.door&&"none"===e.getStyle(d.door_box,"display")&&u.door.change(),"password"===t&&e.setStyle(d.password_box,"display","block"),e.foreach(["door","vsn","mobile"],function(n){var r=d[n+"_box"];n===t?("mobile"===n&&e.setStyle(d.password_box,"display","none"),e.setStyle(r,"display","block")):e.setStyle(r,"display","none")}),d.forget_vsn&&d.forget_password&&("vsn"===t?(e.setStyle(d.forget_vsn,"display",""),e.setStyle(d.forget_password,"display","none")):(e.setStyle(d.forget_vsn,"display","none"),e.setStyle(d.forget_password,"display",""))))};var f={};return u.checkFace=function(){var t=u.getSSO(),n=e.trim(d.loginname.value);if(n)if("undefined"!==e.getType(f[n]))u.checkPin(f[n]);else{if(!t)return;t.checkVerify(n,function(e){if(e)if(1===e.nopwd){var t={nopwd:1};u.checkPin(t),f[n]={nopwd:1},u.mobileVerifyurl=e.smsurl}else{var t={nopwd:0,showpin:e.showpin};u.checkPin(t),f[n]={nopwd:0,showpin:e.showpin}}})}},u.forgetPassword=function(){var e=u.getSSO(),t=u.getData(),n={};n.entry="wapsso",n.username=t.loginname||t.advanceLoginname,n.from=1,n.r=window.location.href,e.forgetPassword(n)},u.checkPin=function(e){if(e.nopwd)u.switchFace("mobile");else{var t=e.showpin.toString();"1"===t||("2"===t?u.switchFace("vsn"):"0"===t&&u.switchFace("password"))}},u.update=function(){var t=d.loginname.value;t!=u.prev_value&&(u.switchFace("password"),f[e.trim(t)]&&u.checkFace()),u.prev_value=t,u.showClearButton()},u.delayUpdate=function(){u.buffer||(u.buffer=o({delay:p.updateDelay}),u.buffer.feedback=u.update),u.buffer.trigger_regular(),u.changeSubmit()},u.clearName=function(){d.loginname.value="",d.password.value="",u.update(),u.changeSubmit()},u.clearPassword=function(){d.password.value="",u.changeSubmit()},u.clearVsn=function(){d.vsn.value="",u.changeSubmit()},u.focusLoginName=function(){u.focusDom&&u.focusDom!==d.loginname&&u[u.focusDom](),d.loginname_box.className="ipt-sect ipt-sect-name ipt-sect-focus",u.hideTip(),u.focusDom="blurLoginName"},u.focusPassword=function(){u.focusDom&&u.focusDom!==d.password&&u[u.focusDom](),d.password_box.className="ipt-sect ipt-sect-pass ipt-sect-focus",u.hideTip(),u.focusDom="blurPassword"},u.focusDoor=function(){u.focusDom&&u.focusDom!==d.door&&u[u.focusDom](),d.door_box.className="ipt-sect ipt-sect-yz ipt-sect-focus",u.hideTip(),u.focusDom="blurDoor"},u.focusVsn=function(){u.focusDom&&u.focusDom!==d.vsn&&u[u.focusDom](),d.vsn_box.className="ipt-sect ipt-sect-vd ipt-sect-focus",u.hideTip(),u.focusDom="blurVsn"},u.focusMobile=function(){u.focusDom&&u.focusDom!==d.mobile&&u[u.focusDom](),d.mobile_box.className="ipt-sect ipt-sect-yz ipt-sect-focus",u.hideTip(),u.focusDom="blurMobile"},u.blurLoginName=function(){d.loginname_box.className="ipt-sect ipt-sect-name"},u.blurPassword=function(){d.password_box.className="ipt-sect ipt-sect-pass"},u.blurDoor=function(){d.door_box.className="ipt-sect ipt-sect-yz"},u.blurVsn=function(){d.vsn_box.className="ipt-sect ipt-sect-vd"},u.blurMobile=function(){d.mobile_box.className="ipt-sect ipt-sect-yz"},u.clearFocusClearName=function(e){if(u.focusDom){var t={loginname:1,password_box:1,password:1,door_box:1,door:1,door_img:1,vsn_box:1,vsn:1,mobile_box:1,mobile:1,mobile_Verify:1,clearName:1,clearPassword:1,clearVsn:1},n=e.target.getAttribute("node-type");t[n]||u[u.focusDom]()}},u.changeUser=function(){d.loginname.value="",d.password.value="",d.door.value="",d.vsn.value="",d.mobile.value="",u.switchFace("change"),u.changeSubmit()},u.changeSubmit=function(){u.submitDisabled=!1,e.foreach(["loginname","password","door","vsn","mobile"],function(t){var n=t+"_box";"none"!=d[n].style.display&&""===e.trim(d[t].value)&&(u.submitDisabled=!0)}),d.submit.className=u.submitDisabled?"lymb-sub":"lymb-sub lymb-sub-enable"},u.parseDom=function(){var t=c;if(t){var i=n(t);d=r(i.list),d.box=i.box,u.nodes=d,e.foreach(["root","tip","loginname","password_box","password","door_box","door","door_img","vsn_box","vsn","mobile_box","mobile","mobile_Verify"],function(e){if(!d[e])throw"Can't find necessary node : "+e+" !"}),e.foreach(["submit","clear","door_voice","door_change","forget_password","forget_vsn","register_button","remember","remember_label"],function(e){d[e]||u.log("Can't find node : "+e+" !")}),d.relative=p.relative_node||d.root}else u.log("Can't find login form : "+c.id||c.getAttribute("noe-type"))},u.domEvents={check_keydown:function(t){t=e.fixEvent(t);var n=u.getFaceState(),r=null;t.target.getAttribute("node-type"),13==t.keyCode&&(d.loginname.value?d.password.value?d[n].value?u.submit():r=d[n]:r=d.password:r=d.loginname),r&&setTimeout(function(){r.focus()},10)},clear:function(){e.preventDefault(),u.reset(),u.hideClearButton(),u.clearRemember(),d.loginname.focus(),d.loginname.blur()},submit:function(){e.preventDefault(),u.submit()}},u.setDomEvents=function(t){t="add"==t?"add":"remove";var n=t+"Event";i(d.loginname,t,u.delayUpdate),i(d.password,t,u.changeSubmit),i(d.door,t,u.changeSubmit),i(d.vsn,t,u.changeSubmit),i(d.mobile,t,u.changeSubmit),e[n](d.submit,"click",u.domEvents.submit),e[n](d.box,"click",u.clearFocusClearName),e[n](d.loginname,"blur",u.checkFace),e[n](d.loginname,"focus",u.focusLoginName),e[n](d.password,"focus",u.focusPassword),e[n](d.door,"focus",u.focusDoor),e[n](d.vsn,"focus",u.focusVsn),e[n](d.mobile,"focus",u.focusMobile),e[n](d.mobile_Verify,"click",u.mobileVerify),e[n](d.clearName,"click",u.clearName),e[n](d.clearPassword,"click",u.clearPassword),e[n](d.clearVsn,"click",u.clearVsn),e[n](d.changeUser,"click",u.changeUser),e[n](d.loginname,"keydown",u.domEvents.check_keydown),e[n](d.password,"keydown",u.domEvents.check_keydown),e[n](d.door,"keydown",u.domEvents.check_keydown),e[n](d.vsn,"keydown",u.domEvents.check_keydown)},u.listenerEvents={loginComplete:function(e){},loginSuccess:function(e){u.hideTip()},loginFailure:function(e){u.lockForm(!1),e=e||{reason:""};var n=d.loginname.value||d.advanceLoginname.value;u.username=u.loginFailureNum?u.username:n;var r=e.msg,i=u.getFaceState();u.door&&"door"===i&&u.door.change(),u.username!==n||50011002!==e.retcode&&50011015!==e.retcode?u.loginFailureNum=0:(u.loginFailureNum++,u.loginFailureNum>=3&&(r=t("#{E010006}"))),u.setTip(r)},verify:function(e){u.lockForm(!1),u.verify(e)},logoutSuccess:function(e){u.reset()},onLoginTimeout:function(){u.lockForm(!1);var e=t("#{E010005}");u.setTip(e)}},u.setListener=function(e){var t="register"==e?"register":"remove";l[t]("login_complete",u.listenerEvents.loginComplete),l[t]("login_success",u.listenerEvents.loginSuccess),l[t]("login_failure",u.listenerEvents.loginFailure),l[t]("logout_success",u.listenerEvents.logoutSuccess),l[t]("need_verify",u.listenerEvents.verify),l[t]("login_timeout",u.listenerEvents.onLoginTimeout)},u.initPlugin=function(){if(u.switchFace("password"),u.lockForm(!1),setTimeout(function(){u.showClearButton(),u.placeholder_loginname=a(d.loginname).set(),u.placeholder_password=a(d.password).set(),u.placeholder_vsn=a(d.vsn).set(),d.loginname.blur(),d.password.blur()},p.closeAutoCompleteDelay),u.door=s({address:p.door_address,usesso:!0,autofocus:!0,img:d.door_img,input:d.door,button:d.door_change}),u.door.init(),u.setSSO(),p.entry){var n=t(p.register_url,{entry:p.entry});"array"===e.getType(d.register_button)&&e.foreach(d.register_button,function(e){e.href=n})}d.forget_password&&p.forget_password_url?d.forget_password.href=p.forget_password_url:d.forget_password&&(d.forget_password.href="https://passport.sina.cn/forgot/forgot?entry=wapsso&from=0&r="+window.encodeURIComponent(window.location.href)),d.register_login&&(d.register_login.href="https://passport.sina.cn/signup/signup?entry=wapsso&r="+window.encodeURIComponent(window.location.href)),d.forget_vsn&&p.forget_vsn_url&&(d.forget_vsn.href=p.forget_vsn_url)},u.setSSO=function(){u.SSO=$sso(),u.SSO.init()},u.getSSO=function(){return u.SSO},u.advanceLogin=function(){var e=u.getSSO();e.chackLogin(function(e){if(2e7===e.retcode&&(2===e.data.type||3===e.data.type)){var t=e.data;if(d.advanceLoginname.value=t.username,d.userhead.src=t.portrait,1===t.nopwd){var n={nopwd:1};u.checkPin(n),f[t.username]={nopwd:1},u.mobileVerifyurl=t.smsurl}else{if(void 0!==t.showpin){var n={nopwd:0,showpin:t.showpin};u.checkPin(n)}f[t.username]={nopwd:0,showpin:t.showpin}}d.loginname_box.style.display="none",d.advanceLoginname_box.style.display="block"}})},u.log=function(t){t&&e.log("STK.comp.login.plugin : "+t)},u.destroy=function(){u.setListener("remove"),u.setDomEvents("remove"),u.placeholder_loginname.destroy(),u.placeholder_password.destroy(),u.placeholder_vsn.destroy(),u.door&&u.door.destroy&&u.door.destroy()},u.init=function(){u.parseDom(),u.setDomEvents("add"),u.setListener("register"),u.initPlugin()},u.nodes=d,u.conf=p,u}}),STK.register("comp.defaultStyle",function(e){var t=['.layer-mb-login {position: absolute;width: 256px;padding: 40px 12px 20px;background: #f8f8f8;border-radius: 3px;font-family:"STHeiti Light","Microsoft Yahei",Helvetica;}',".layer-mb-login .lymb-icon {display: inline-block;background-image: url("+window.prtl.prefix+"i.sso.sina.com.cn/images/login/lymb_icon.png);background-repeat: no-repeat;}",".layer-mb-login .lymb-cls {position: absolute;top: -50px;right: 10px;width: 32px;height: 32px;background-position: 0 0;}",".layer-mb-login .text_remove {position: absolute;display:none;width: 20px;height: 20px;background-position: -40px 0;right: 17px;top: 10px;z-index:4;}",".layer-mb-login .edit_name {position: absolute;width: 26px;height: 22px;background-position: 0 -240px;right:28px;top:13px;}",".layer-mb-login .lymb-thumb {position: absolute;top: -50px;left: 50%;margin-left: -41px;width: 80px;height: 80px;border-radius: 40px;border: 1px solid #e1e1e1;background:#f8f8f8;}",".layer-mb-login .lymb-thumb img {margin:5px 0 0 5px;width: 70px;height: 70px;-webkit-border-radius: 35px;border-radius: 35px;}",".layer-mb-login .lymb-ipt-wrap {position: relative;}",".layer-mb-login .ipt-sect {position:relative;margin-top: -1px;border: 1px solid #dfdfdf;background:#fff;}",".layer-mb-login .ipt-sect-focus{border-color: #0090f7;z-index:2;background:#fff;}",".layer-mb-login .ipt-sect-focus .text_remove{display:block;}",".layer-mb-login .ipt-sect-name .edit_name {right: 8px;top: 12px;}",".layer-mb-login .ipt {position:relative;border:0;width: 200px;padding:0 0 0 50px;height: 39px;color: #1a1a1a;outline: none;font-size: 16px;-webkit-appearance: none;border-radius: 0;}",".layer-mb-login .ipt-sect-focus .ipt{width: 160px;}",".layer-mb-login .ipt::-webkit-input-placeholder {color:#9fa6ac;}",".layer-mb-login .ipt:focus::-webkit-input-placeholder {color:transparent;}",".layer-mb-login .ipt-sect-vd .ipt,",".layer-mb-login .ipt-sect-yz .ipt{width:128px;padding-left:16px;background-color:transparent;}",".layer-mb-login .ipt-sect-name .ipt {background: url("+window.prtl.prefix+"i.sso.sina.com.cn/images/login/lymb_icon.png) no-repeat 14px -70px;}",".layer-mb-login .ipt-sect-name.ipt-sect-focus .ipt {background-position: 14px -110px;}",".layer-mb-login .ipt-sect-pass .ipt {background: url("+window.prtl.prefix+"i.sso.sina.com.cn/images/login/lymb_icon.png) no-repeat 14px -150px;}",".layer-mb-login .ipt-sect-pass.ipt-sect-focus .ipt {background-position: 14px -190px;}",".layer-mb-login .ipt-cookie {position:relative;width: 254px;padding-left: 0;border-color: transparent;background: none;text-align: center;}",".layer-mb-login .lymb-code{position:absolute;top:0;right:4px;z-index:3;}",".layer-mb-login .lymb-code img{height:39px;}",".layer-mb-login .lymb-code-btn,",".layer-mb-login .lymb-code-wait{position:absolute;top:1px;right:1px;z-index:3;display:inline-block;width:100px;height:37px;line-height:37px;background:#34a83d;color:#fff; text-decoration:none;font-size:14px;text-align:center;}",".layer-mb-login .lymb-code-wait{background:#666;}",".layer-mb-login .lymb-sub {margin-top: 20px;display: block;height: 30px;line-height: 30px;text-align: center;background: #dfdfdf;text-decoration: none;color: #fff;font-size: 16px;}",".layer-mb-login .lymb-sub-enable {background-color: #0090f7;}",".layer-mb-login .lymb-help {font-size: 12px;padding-top: 20px;line-height: 1;color: #9fa6ac;}",".layer-mb-login .lymb-help a {color: #3990e6;}",".layer-mb-login .fgtpass {float: right;}",".layer-mb-login .lymb-warn {border: 1px solid #ffc0c0;padding: 8px 14px;background: #ffefef;color: #f48383;font-size: 14px;}","@media screen and (-webkit-device-pixel-ratio: 2){.layer-mb-login .lymb-icon{background-image:url("+window.prtl.prefix+"i.sso.sina.com.cn/images/login/lymb_2t_icon.png);background-size:80px 280px;}}",".layer-mb-promote{position:absolute;border-radius:5px;width:240px;padding:16px 10px 10px;background:hsla(0,0%,0%,.6);color:#fff;}",".layer-mb-promote .promote-txt{line-height:20px;font-size:14px;}",".layer-mb-promote .promote-sub{padding-top:30px;overflow:hidden;text-align:center;}",".layer-mb-promote .promote-sub-cancle,",".layer-mb-promote .promote-sub-veri{display:inline-block;width:117px;height:28px;border:1px solid #77797d;border-radius:5px;background:#6d7175;color:#fff;line-height:28px;text-decoration:none;}",".layer-mb-promote .promote-sub-veri{margin-left:2px;border-color:#d65b41;background-color:#bd4329;}"];
return{get:function(){return"string"!=typeof t&&(t=t.join("\n")),t}}}),STK.register("comp.layer.outlogin",function(e){var t=e.core.json.merge,n=e.core.util.language,r=e.core.dom.getSize,i=e.kit.obj.append,o=e.kit.dom.fix,a=e.kit.dom.builder,s=e.kit.dom.parseDOM,l=e.kit.dom.loadStyle,c=e.kit.util.makeReady,u=e.kit.dom.appendStyle,d=e.module.mask,p=(e.common.util.sso,e.common.channel.sso),f=e.comp.defaultStyle,m=e.comp.login.outlogin,h={},g={layer:['<div node-type="box" class="layer-mb-login" style="top:100px;display:none;">','<span  node-type="close" class="lymb-icon lymb-cls"></span>','<div  class="lymb-thumb"><img src="'+window.prtl.prefix+'i.sso.sina.com.cn/images/login/thumb_default.gif" node-type="userhead"/></div>','<div class="lymb-ipt-wrap">','<div class="ipt-sect ipt-sect-name" node-type="loginname_box">','<input node-type="loginname" type="text" class="ipt" placeholder="#L{微博帐号/手机号/邮箱}"><span class="lymb-icon text_remove" node-type = "clearName"></span>',"</div>",'<div class="ipt-sect ipt-sect-name ipt-cookie" style="display:none;" node-type = "advanceLoginname_box">','<input type="text" class="ipt ipt-cookie" node-type="advanceLoginname" readOnly><span class="lymb-icon edit_name" node-type = "changeUser"></span></span>',"</div>",'<div class="ipt-sect  ipt-sect-pass" node-type="password_box">','<input node-type="password" type="password" class="ipt" placeholder="#L{密码}"><span class="lymb-icon text_remove" node-type = "clearPassword"></span>',"</div>",'<div class="ipt-sect  ipt-sect-vd" node-type="vsn_box">','<input node-type="vsn" type="text" class="ipt" placeholder="请输入微盾"><span class="lymb-icon text_remove" node-type = "clearVsn"></span>',"</div>",'<div class="ipt-sect  ipt-sect-yz" node-type="door_box">','<input node-type="door" type="text" class="ipt" placeholder="#L{请输入验证码}"><a href="#" class="lymb-code"><img node-type="door_img" src=""></a>',"</div>",'<div node-type="mobile_box" class="ipt-sect  ipt-sect-yz">','<input node-type="mobile" type="text" class="ipt" placeholder="点击输入验证码"><a href="#" class="lymb-code-btn" node-type="mobile_Verify">获取验证码</a>',"</div>",'<div node-type="tip" class="lymb-warn">这里会显示任意长度的报错文字</div>','<a href="#" class="lymb-sub" node-type="submit" suda-uatrack="key=guess_wap_summary&value=login_logclick">登录</a>',"</div>",'<div class="lymb-help" node-type="root">','<a node-type="forget_password" href="" class="fgtpass">忘记密码？</a>还没有帐号？<a href="" node-type="register_login">立即注册</a>',"</div>","</div>"].join("")},v={},y={},b={html:{layer:g.layer},sso:{entry:"wapsso"},language:{iframemask:"",E010001:"请输入登录名",E010002:"请输入密码",E010003:"请输入验证码",E010004:"请输入您微盾上显示的动态码",E010005:"网络异常，请检查网络连接",E010006:'如果您忘记了密码请点击：<a href="javascript:;" target="_blank" onclick = "window.SINA_OUTLOGIN_LAYER.forgetPassword()">忘记密码</a>',4010:'帐号尚未激活，请<a href="https://login.sina.com.cn/signup/signupmail1.php?user=#{loginname}" target="_blank">点此激活</a>',end:""},styles:{zIndex:"10000"},mask:{enable:!0,opacity:.5,background:"#000000"},modes:{simple:"sos-pad-login"},plugin:{position:"center",parentNode:null,relatedNode:null,savestate:365}};e.$LANG=b.language,v.set=function(e,n){e=e.toString(),n=n||{};var r=b[e];return r&&(r=t(r,n),b[e]=r),y[e]&&y[e].conf&&i(y[e].conf,r),v},v.init=function(){return y.prepare(),v};var w=!1;return y.prepareCss=function(t){y.cssReady||(y.cssReady=c({condition:function(){return w},ready:function(t){u(f.get()),b.extra&&b.extra.css?l(b.extra.css,{timeout:1e4,styleCheck:function(){if(e.isNode(h.css_check)){var t=e.getStyle(h.css_check,"width");if("123px"===t)return!0}},onLoad:function(){w=!0,t()},onTimeout:function(){y.cssReady.reset()}}):(w=!0,t())}})),y.cssReady.exec(t)},y.prepare=function(t){e.Ready(function(){y.parseDom(),y.prepareCss(function(){y.build(),"function"===e.getType(t)&&t()})})},y.setSSO=function(){y.setListener("add")},y.build=function(){y.plugin||(y.setSSO(),y.parseDom(),e.setStyle(h.box,"display",""),b.mask.enable&&(v.nodes.mask=y.mask=d.showUnderNode(h.box,b.mask),e.setStyle(y.mask.getNode(),"display","none"),e.addEvent(document.getElementById("ST_outLogin_mask"),"touchmove",function(e){e.preventDefault()})),y.plugin=m(h.box),b.plugin.entry=b.sso.entry,y.plugin.setOptions(b.plugin),y.plugin.init(),e.setStyle(h.box,"display","none"),y.setEvents("add"),p.fire("layer_ready"))},y.insert=function(){if(e.isNode(h.box)){var t=b.plugin.parentNode;e.isNode(t)||(t=document.body),e.isNode(h.box.parentNode)&&t===y._currentParentNode||t.appendChild(h.box),y._currentParentNode=t}},y.parseDom=function(){if(!e.isNode(h.box)){var t=n(b.html.layer,b.language),r=a(t);v.nodes=h=s(r.list),h.box=r.box,y.insert()}},y.updateLayer=function(){y.insert(),e.foreach(b.styles,function(t,n){e.setStyle(h.box,n,t)})},y.setPosition=function(){var t,n,i,a,s=b.plugin.position,l=r(h.box);if("center"===s?y.fixedLayer?y.fixedLayer.setFixed(!0):y.fixedLayer=o(h.box,"c"):(y.fixedLayer&&(y.fixedLayer.destroy(),y.fixedLayer=null),"custom"===s?e.setStyle(h.box,"position","absolute"):(e.setStyle(h.box,"position","absolute"),t=b.plugin.relatedNode,t&&(i=e.position(t),a=r(t)),n=s.split(/\s*[,，]\s*/gi),e.foreach(n,function(t){if(i&&a)switch(t){case"top":e.setStyle(h.box,"top",i.t+"px");break;case"bottom":e.setStyle(h.box,"top",i.t+a.height-l.height+"px");break;case"left":e.setStyle(h.box,"left",i.l+"px");break;case"right":e.setStyle(h.box,"left",i.l+a.width-l.width+"px")}else e.setStyle(h.box,t,"0px")}))),h.iframemask){var c=e.getStyle(h.box,"borderWidth");c=parseInt(c,10),e.setStyle(h.iframemask,"width",l.width+"px"),e.setStyle(h.iframemask,"height",l.height+"px"),e.setStyle(h.iframemask,"marginLeft",0-c+"px"),e.setStyle(h.iframemask,"marginTop",0-c+"px")}},v.reset=function(){y.plugin&&y.plugin.reset()},y.onLogin=function(){v.hide()},y.onClose=function(){m.loginFailureNum=0,v.hide()},y.onLogout=function(){},y.setEvents=function(t){var n="add"===t?"addEvent":"removeEvent";e[n](h.close,"click",y.onClose),e[n](window,"unload",v.destroy),e[n](h.box,"touchmove",function(e){e.preventDefault()})},y.setListener=function(e){var t="add"===e?"register":"remove";p[t]("login_success",y.onLogin),p[t]("logout_success",y.onLogout)},v.forgetPassword=function(){y.plugin.forgetPassword()},v.isDisplay=function(){return h.box?"none"!==e.getStyle(h.box,"display"):!1},v.isVisible=function(){return h.box?!!h.box.offsetWidth:!1},v.show=function(){try{e.preventDefault()}catch(t){}return y.prepare(function(){var t=v.isDisplay(),n=v.isVisible();t||(y.mask&&e.setStyle(y.mask.getNode(),"display",""),h.box&&(e.setStyle(h.box,"display",""),v.reset())),y.updateLayer(),y.setPosition(),n||y.plugin&&(y.plugin.advanceLogin(),y.plugin.showClearButton()),t||p.fire("layer_show")}),v},v.hide=function(){try{e.preventDefault()}catch(t){}return v.reset(),y.mask&&e.setStyle(y.mask.getNode(),"display","none"),h.box&&e.setStyle(h.box,"display","none"),p.fire("layer_hide"),v},v.destroy=function(){v.hide(),y.setEvents("remove"),y.setListener("remove"),v.loginButton&&(e.removeEvent(v.loginButton,"click",v.show),v.loginButton=null),e.foreach(["mask","SSO","plugin"],function(e){var t=y[e];if(t&&"function"==typeof t.destroy)try{t.destroy()}catch(n){}})},v.register=function(e,t){return p.register(e,t),v},v.remove=function(e,t){return p.remove(e,t),v},v.getNodes=function(){return h},v.getSinaUserData=function(){return window.SINA_OUTLOGIN_LAYER_MOBILE_DATA?window.SINA_OUTLOGIN_LAYER_MOBILE_DATA:null},v.nodes=h,v.options=b,v}),function(e){var t=e.comp.layer.outlogin;t.getVersion=function(){return"1.0.0"},t.listener=e.common.channel.sso,t.STK=STK,this.SINA_OUTLOGIN_LAYER=t}.call(this,STK)}).call(this)}catch(e){console.error(e,"outlogin_layer_mobile.min.js")}try{var WapLogin=function(){var e=this;this.login=function(t,n,r,i){var o=arguments.length;return window.SINA_OUTLOGIN_LAYER&&!t&&(_loginLayer=window.SINA_OUTLOGIN_LAYER,_loginLayer.set("sso",{entry:"wapsso"}).init(),_loginLayer.show(),_loginLayer.register("login_success",function(t){switch(e.updateUserInfo(t),o){case 2:n(t);break;case 3:n(r,t);break;case 4:n(r,i,t);break;default:window.location.href=window.location.href}}),_loginLayer.register("layer_hide",function(){n=null})),!1},this.updateUserInfo=function(e){if("undefined"!=typeof e&&"undefined"!=typeof e.nick){window.userInfo={},window.userInfo.uname=e.nick,window.userInfo.userface=e.portrait,window.userInfo.uid=e.uid,window.userInfo.islogin=1;for(var t=["#loginBox","#loginImg",".userImage"],n=$("#footer_entry"),r=0;r<t.length;r++){var i=$(t[r]);i.length<=0||!e.portrait||(i.addClass("hasface"),i.find("img").length>0?i.find("img").attr("src",e.portrait):i.html('<img src="'+e.portrait+'">'))}if(n.length>0){var o=""+window.prtl.prefix+"passport.sina.cn/sso/logout?entry=wapsso&vt=4&r="+encodeURIComponent(window.location.href);n.html("退出").attr("href",o)}}return!1}}}catch(e){console.error(e,"wapLogin.js")}try{!function(){function e(){var e=location.href,t=new RegExp(/(^|\?|&)timestamp=\d*(&|$)/),n=t.exec(e);if(null==n)e=e+(e.indexOf("?")+1?"&":"?")+"timestamp="+Date.now();else{var r=n[1];e=e.replace(t,r+"timestamp="+Date.now())}location.href=e}function t(){var t=$("#j_activeRss");t.on("click",function(){t.hasClass("ar_wrapDis")?(r.setCookie("NPIC","1","10",".sina.cn"),e()):(r.removeCookie("NPIC",".sina.cn"),e())})}function n(){var e=$(".j_backPrePage");e.length>0&&e.click(function(){window.history.length<=1?window.location.href=""+window.prtl.prefix+"sina.cn":window.history.go(-1)})}$("#loginBox").length>0&&!function(e,t){var n=$("#loginBox"),r=$("#footer_entry");window.checkLogin()&&getUserInfo(function(e){if(e&&e.portrait_url){var t='<img src="'+e.portrait_url+'" class="h_user_pic">';n.addClass("hasface"),n.html(t),r.length>0&&r.replaceWith("<a href='"+location.protocol+"//passport.sina.cn/sso/logout?vt=4&amp;entry=wapsso&amp;r="+encodeURIComponent(location.href)+"' class='linkico'>退出</a>")}})}(window,document);var r=function(){var e={stringSplice:function(e,t,n,r){if(""==e)return"";r=""==r?"=":r,t+=r;var i=e.indexOf(t);if(0>i)return"";i+=t.length;var o=e.indexOf(n,i);return i>o&&(o=e.length),e.substring(i,o)},getCookie:function(e){return void 0==e||""==e?"":this.stringSplice(document.cookie,e,";","")},setCookie:function(e,t,n,r){var i=new Date;i.setDate(i.getDate()+n);var o=e+"="+t+";expires="+i;null!=r&&(o+=";path=/;domain="+r+";"),document.cookie=o},removeCookie:function(e,t){this.setCookie(e,"",-1,t)},getScrollHeight:function(){var e=0,t=0,n=0;return document.body&&(t=document.body.scrollHeight),document.documentElement&&(n=document.documentElement.scrollHeight),e=t-n>0?t:n},getWindowHeight:function(){var e=0;return e="CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}};return e}();n(),t()}()}catch(e){console.error(e,"header.js")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();try{!function(e,t){"use strict";var n=function(){function t(){_classCallCheck(this,t),this.eventMap={}}return t.prototype._initEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;return{listener:[],isLive:e,liveEvents:[]}},t.prototype._addListener=function(e,t){var n=e.listener,r=!1,i={};return r=!n.every(function(e){return e.func!==t?!0:(i=e,!1)}),r||(i={func:t,liveIndex:0},n.push(i)),i},t.prototype.on=function(t,n){var r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1,a=this.eventMap;if(a.hasOwnProperty(t)||(a[t]=this._initEvent(o)),r=a[t],i=this._addListener(a[t],n),o&&r.liveEvents.length>0&&i.liveIndex<r.liveEvents.length){i.liveIndex=r.liveEvents.length;var s=i.liveIndex,l=r.liveEvents.length;for(r.liveIndex=l;l>s;s++)r.func.apply(e,r.liveEvents[s])}},t.prototype.trigger=function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!0,o=this.eventMap;o.hasOwnProperty(t)?(r=o[t],r.listener.forEach(function(t){try{t.func.apply(e,n)}catch(r){console.error&&console.error(r)}}),i&&r.liveEvents.push(n)):(r=o[t]=this._initEvent(i),r.liveEvents.push(n))},t}(),r=function(n){function r(){_classCallCheck(this,r);var e=_possibleConstructorReturn(this,n.call(this));return e._lockMap={},e.cacheCnf={timeout:3600,type:"localstorage",key:"sinaWapApiCache"},e._debug=!1,e.initEvent(),e}return _inherits(r,n),r.prototype.getType=function(e){var t="undefined"==typeof e?"undefined":_typeof(e);return"object"===t?Object.prototype.toString.call(e).match(/\[object (.*)\]/)?RegExp.$1.toLowerCase():"other":t},r.prototype.clone=function(e){var t=this,n=null;switch(this.getType(e)){case"object":n={},Object.keys(e).forEach(function(r){n[r]=t.clone(e[r])});break;case"array":n=[],e.forEach(function(e){n.push(t.clone(e))});break;default:n=e}return n},r.prototype.extendObj=function(e,t,n){n=n||!1,Object.keys(t).forEach(function(r){(!e.hasOwnProperty(r)||n)&&(e[r]=t[r])})},r.prototype.urlEncode=function(e){var t=[];switch(this.getType(e)){case"array":t=objType.map(function(e,t){return t+"="+encodeURIComponent(e)});break;case"object":t=Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])});break;case"string":t.push(e)}return t.join("&")},r.prototype.addParams=function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+t},r.prototype.genUid=function(e){function t(){var e=""+parseInt(1e4*Math.random());return[].map.call(e,function(e){return n[e]}).join("")}var n=["A","z","C","E","d","H","j","v","k","L"],r=(new Date).getTime();return e=e||"",e+t()+r},r.prototype.cacheControl=function(e,t,n,r){var i,o=this.cacheCnf;if("localstorage"===o.type){try{i=JSON.parse(localStorage[o.key])}catch(a){console.log(a)}if(i=i||{lastmodify:Date.now()},"set"===t)n&&(n.lastmodify=Date.now(),i[e]=n,localStorage[o.key]=JSON.stringify(i));else if(i[e]&&Date.now()-i[e].lastmodify<1e3*(r||o.timeout))return i[e]}return null},r.prototype.request=function(t,n,r,i,o,a,s,l,c,u,d,p,f){var m=this,h=function(){var e=m.urlEncode(r),o=new XMLHttpRequest;if("GET"===l&&(n+=-1===n.indexOf("?")?"?"+e:e,e=null),o.onreadystatechange=function(){if(4===o.readyState){var e=null;if(200===o.status)try{e=JSON.parse(o.responseText)}catch(n){e=null}t&&t(e)}},o.open(l,n,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u)for(var a in u)u.hasOwnProperty(a)&&o.setRequestHeader(a,u[a]);i>0&&setTimeout(function(){o.readyState<3&&(o.abort(),t&&t(null))},1e3*i),o.send(e)},g=function(){var l=function(){var t=0;e[u+"timer"]=setInterval(function(){console.log(n+" timeout!!!!");t++,$.ajax(c),t>=s&&(e[u+"timer"]&&clearInterval(e[u+"timer"]),f&&f())},1e3*i)},c={type:"GET",dataType:"jsonp",jsonp:o};if(c.url=r?m.addParams(n,m.urlEncode(r)):n,"function"===m.getType(t)){var u=a||"jsonp_"+m.genUid();e[u]=function(n){e[u+"timer"]&&clearTimeout(e[u+"timer"]),t(n)},c.jsonpCallback=u}s=s||0,i=i||0,i>0&&l(),$.ajax(c)};return n?(l=l||"GET",i=i||0,"ajax"===c?h():g()):void 0},r.prototype.readabilityNum=function(e){return"number"==typeof e&&e>0?e>9999999?"999万+":e>9999?parseInt(e/1e4)+"万":e:null},r.prototype.requireLock=function(e,t,n,r){function i(e,t,n){return t=t||5e3,n&&clearTimeout(n),setTimeout(function(){o.hasOwnProperty(e)&&"lock"===o[e].stat&&(o[e].stat="ready")},t)}var o=this._lockMap;if(-1===["set","get","release"].indexOf(e))throw new Error("wrong call lock method");if("set"===e){if(o[t]&&o[t].stat){if("lock"===o[t].stat)return 0;o[t].stat="lock"}else o[t]={stat:"lock"};return!r&&n&&(o[t].timer=i(t,n,o[t].timer)),1}"release"===e&&o.hasOwnProperty(t)&&o[t].stat&&(o[t].stat="ready",o[t].timer&&clearTimeout(o[t].timer))},r.prototype.manualAlert=function(e,t){var n=$(".j_alert_box");t=t||2e3,0!==n.length?($(".j_alert_text").text(e),n.show(),setTimeout(function(){n.hide()},t)):alert(e)},r.prototype.dateFormat=function(e,t,n){return n=n?"getUTC":"get",t.replace(/%[YmdHMS]/g,function(t){switch(t){case"%Y":return e[n+"FullYear"]();case"%m":t=1+e[n+"Month"]();break;case"%d":t=e[n+"Date"]();break;case"%H":t=e[n+"Hours"]();break;case"%M":t=e[n+"Minutes"]();break;case"%S":t=e[n+"Seconds"]();break;default:return t.slice(1)}return("0"+t).slice(-2)})},r.prototype.fillOrCutNum=function(e,t,n){e+="",n=n||"0";var r=e.length;if(r>t)return e.substr(r-t);for(;t-->r;)e=n+e;return e},r.prototype.tinyTemplateParser=function(e,t){var n=this;return"string"===this.getType(e)?e.replace(/<%\s?([\[\]\.A-Za-z0-9_]+)\s?%>/g,function(e,r){var i=t,o=!1;return r&&i&&r.split(".").forEach(function(e){var t;e&&!o&&(t=e.match(/(\w+)(\[(\d)+\])?/),t&&(i[t[1]]?(i=i[t[1]],t[2]&&t[3]&&(i[t[3]]?i=i[t[3]]:o=!0)):o=!0))}),o||i===t?"":"string"!==n.getType(i)?JSON.stringify(i):i}):""},r.prototype.checkElemntDisp=function(e,t){var n=null;return t=t||0,e&&e.getBoundingClientRect?(n=e.getBoundingClientRect(),n&&"number"===this.getType(n.top)&&n.top>-t&&n.top<this.screenInfo.viewHeight+t):!1},r.prototype.LocalStorage=function(e,t){function n(e,t){a=JSON.parse(o.getItem(e))||a,a.date!=s&&(a.date=s),a.data=t,o.setItem(e,JSON.stringify(a))}function r(e){return a=JSON.parse(o.getItem(e)),a&&a.date===s?a.data:null}var i=arguments.length;if(window.localStorage){var o=window.localStorage,a={date:0,data:{}},s=(new Date).getDate();return i>1?n(e,t):r(e)}},r.prototype.cookie=function(e,n,r,i,o){function a(e,n,r,i,o,a){var s=[];if(s.push(e+"="+escape(n)),r){var l=new Date,c=l.getTime()+36e5*r;l.setTime(c),s.push("expires="+l.toGMTString())}return i&&s.push("path="+i),o&&s.push("domain="+o),a&&s.push(a),t.cookie=s.join(";"),!0}function s(e){var n,r=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(n=t.cookie.match(r))?unescape(n[2]):!1}var l=arguments.length;return l>1?a(e,n,r||720,i||"/",o||".sina.cn"):s(e)},r.prototype.checkLoginStatus=function(e){if(checkLogin())getUserInfo(function(t){e(t)});else{var t="function"==typeof WapLogin?new WapLogin:this;t.login(!1,function(t){e(t)})}},r.prototype.log=function(e,t){if(t=("string"==typeof t?t:JSON.stringify(t))+" in "+(this._name||"default"),"err"===e){if(this._debug)return console.error(t);throw new Error(t)}(-1===["debug","log"].indexOf(e)||this._debug)&&(e in console&&"function"==typeof console[e]?console[e](t):console.log("["+e+"]"+t))},r.prototype.getWm=function(){var e=location.href,t=e.toLocaleLowerCase().match(/\?(.*)$/),n=null;return t&&(n=t[1].match(/\&?wm=([0-9_]+)/)),n&&n[1]},r.prototype.initEvent=function(){var n=this;if(!e.ArtUtilEventInit){e.ArtUtilEventInit=!0;var r=this.platformInfo;this.on("pageLoad",function(){e.addEventListener("onorientationchange"in e?"orientationchange":"resize",function(e){var t="xiaomi"===r.browser?100:30;setTimeout(function(){n.trigger("pageResize",["util",e])},t)},!1),(t.body.scrollTop||e.pageYOffset)>0&&n.trigger("lazyScroll",["init"])}),this.on("contentLoadProxy",function(e){n._contentLoaded||(n._contentLoaded=!0,n.trigger("contentLoad",[e]))}),this.on("pageLoadProxy",function(e){n._pageLoaded||(n._pageLoaded=!0,n.trigger("pageLoad",[e]))}),this.on("contentLoad",function(t){n._lazyScroll||(n._lazyScroll={scrollCheckInterval:100,scrollCheckTimer:null,scrollFiring:!1,deadLockBrokerNum:5,scrollReFire:0},e.addEventListener("scroll",function(e){var t=n._lazyScroll;return t.scrollFiring&&t.scrollReFire<=t.deadLockBrokerNum?void t.scrollReFire++:(t.scrollReFire=0,t.scrollCheckTimer&&clearTimeout(t.scrollCheckTimer),void(t.scrollCheckTimer=setTimeout(function(){t.scrollFiring=!0,n.trigger("lazyScroll",["proxy"]),t.scrollFiring=!1},t.scrollCheckInterval)))}))}),"readyState"in t&&"complete"===t.readyState?this.trigger("contentLoadProxy",["property"]):(t.addEventListener("DOMContentLoaded",function(){n.trigger("contentLoadProxy",["event"])},!1),setTimeout(function(){n.trigger("contentLoadProxy",["timer"])},0)),e.addEventListener("load",function(){n.trigger("pageLoadProxy",["event"])})}},_createClass(r,[{key:"screenInfo",get:function(){var n=t,r=e,i=0,o=0,a=0,s=0,l=n.docElement;return(!this._screenInfo||this._screenInfo.resizeCount<this._resizeCount)&&(i=r.innerWidth||l.clientWidth||n.body.clientWidth||0,o=r.innerHeight||l.clientHeight||n.body.clientHeight||0,a=Math.max(n.body.scrollWidth,l&&l.scrollWidth||0),s=Math.max(n.body.scrollHeight,l&&l.scrollHeight||0,o),this._screenInfo={documentWidth:a,documentHeight:s,viewWidth:i,viewHeight:o,resizeCount:this._resizeCount||0}),this.clone(this._screenInfo)},set:function(e){return null}},{key:"UA",get:function(){return this._UA||(this._UA=navigator.userAgent)},set:function(e){return null}},{key:"platformInfo",get:function(){if(!this._platformInfo){var e={browser:{firefox:"firefox",ie:"msie",chrome:"chrome",qq:"mqqbrowser",uc:"ucbrowser",baidu:"baidu",xiaomi:"xiaomi",safari:"safari"},client:{weibo:"weibo",weixin:"micromessenger",qq:"qq"},platform:{iphone:"iphone",ipod:"ipod",ipad:"ipad"},system:{ios:"ios",android:"android"}},t=this.UA,n=[],r=[],i={};Object.keys(e).forEach(function(t){n=n.concat(Object.keys(e[t]).map(function(n){return e[t][n]}))}),r=t.toLowerCase().match(new RegExp("("+n.join("|")+")+","g")),r.length>0&&Object.keys(e).forEach(function(t){var n=e[t],o="other";Object.keys(n).some(function(e){return-1!==r.indexOf(n[e])?(o=e,!0):!1}),i[t]=o}),"other"!==i.platform&&(i.system="ios"),this._platformInfo=i}return this.clone(this._platformInfo)},set:function(e){return null}}]),r}(n),i=function(){function e(t){_classCallCheck(this,e),this.cnf={TPL:{}},t&&this.extendObj(this.cnf,t,!0),this.moduleMap={}}return e.prototype.extendObj=function(e,t,n){n=n||!1,Object.keys(t).forEach(function(r){(!e.hasOwnProperty(r)||n)&&(e[r]=t[r])})},e.prototype.discovery=function(){var e=this,t=this.cnf,n=t.nodeAttrCnfMap,r=t.selector,i=t.markAttr,a=r.roleMap,s=$(r.root);i=i||"uid",s.forEach(function(t,r){try{var l,c=s.eq(r);l=o.genUid(),c.data(i,l);var u={attrs:{},roles:{main:c}};Object.keys(n).forEach(function(e){u.attrs[e]=c.attr(n[e])}),Object.keys(a).forEach(function(e){u.roles[e]=c.find(a[e])}),e.moduleMap[l]=u,e.moduleInit(l,r)}catch(d){console.error(d)}})},e.prototype.bindEvent=function(){var e=this;"string"===o.getType(this.moduleName)&&o.on(this.moduleName+"Reload",function(){e.discovery()})},e.prototype.moduleInit=function(e,t){},e}(),o=new r;e.sinaWapModule=e.sinaWapModule||{},e.sinaWapModule.sinaWapUtil=o,e.sinaWapModule.BaseArtModule=i,e.sinaWapModule.EventFactory=new n}(window,document)}catch(e){console.error(e,"article_util_v4.js")}