!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.finalboss=e():t.finalboss=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,o){"use strict";t.exports=function(t){var e="; "+window.document.cookie,o=e.split("; "+t+"=");if(2===o.length)return o.pop().split(";").shift()}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function n(t){if(!(this instanceof n))return new n(t);this._opt=t,this._tpl={click:"",hover:"",expo:""},this._listeners=null,this._delegation=null,this._destroyed=!1,this._debug=!1,this._parseOption(function(){return w++})}function s(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=t,n=i.match(/{[A-Z]+}/g);if(n)for(var s=0;s<n.length;s++){var r=n[s].slice(1,-1),c=(0,p["default"])(r)||o[r]||"";i=i.replace(new RegExp(n[s],"g"),encodeURIComponent(c))}var a=i.match(/{COOKIE\.([^};]+)}/g);if(a)for(var h=0;h<a.length;h++){var l=a[h].slice(8,-1),u=(0,f["default"])(l)||"";i=i.replace(new RegExp(a[h],"g"),encodeURIComponent(u))}return i=i.replace(new RegExp("{%v}","g"),e)}var r=o(2),c=i(r),a=o(4),h=i(a),l=o(5),p=i(l),u=o(0),f=i(u);o(6);var d=function(){window.console&&window.console.log&&window.console.log.apply(this,arguments)},w=0;n.prototype.CONST={ATTR:{CLICK:"data-boss",EXPO:"data-boss-expo",ONCE:"data-boss-once",STOP:"data-boss-stop",TEMPLATE:"data-boss-template",DISABLED:"data-boss-disabled"},DATAKEY:{COUNT:"_boss_count",EXPO_WATCHER:"_boss_expo_watcher"},EVKEY:{STOP:"_boss_stop"},EXPO_UPDATE_INTERVAL:2e3,API:"https://btrace.qq.com/kvcollect"},n.prototype._parseOption=function(t){this._debug=!!this._opt.debug;var e=this._opt,o="function"==typeof Object.create?Object.create(null):{};if("string"==typeof e?o.click=o.expo=e:e.template&&("string"==typeof e.template?o.click=o.expo=e.template:["click","expo"].forEach(function(t){"string"==typeof e.template[t]&&(o[t]=e.template[t])})),!o.click&&!o.expo)throw new TypeError("[finalboss] option error, no template found");this._tpl=o,this._debug&&d("finalboss templates:",this._tpl),t&&t()},n.prototype.start=function(){var t=this;if(!this._destroyed){if(this._listeners={click:function(e){t._action("click",e.delegateTarget,e)}},this._delegation=(0,c["default"])(window.document.body,"["+this.CONST.ATTR.CLICK+"]","click",this._listeners.click,!1),this.updateExpo(),this._opt.expoAutoUpdate){var e="number"==typeof this._opt.expoAutoUpdate?Math.abs(this._opt.expoAutoUpdate):this.CONST.EXPO_UPDATE_INTERVAL;setInterval(function(){t.updateExpo()},e)}return this._debug&&d("finalboss started"),this}},n.prototype.updateExpo=function(){var t=this,e=window.document.querySelectorAll("["+this.CONST.ATTR.EXPO+"]");Array.prototype.forEach.call(e,function(e){var o=e[t.CONST.DATAKEY.EXPO_WATCHER];o||(o=h["default"].create(e),o.enterViewport(function(){return t._action("expo",e,null)}),e[t.CONST.DATAKEY.EXPO_WATCHER]=o)})},n.prototype.destroy=function(){this._destroyed||(this._delegation&&this._delegation.destroy(),this._destroyed=!0,w--)},n.prototype._action=function(t,e,o){var i=e.getAttribute(this.CONST.ATTR[t.toUpperCase()]);if(i&&"string"!=typeof e.getAttribute(this.CONST.ATTR.DISABLED)){var n=e.getAttribute(this.CONST.ATTR.TEMPLATE)||this._tpl[t];if(n){var r=e[this.CONST.DATAKEY.COUNT]||0;if(!("string"==typeof e.getAttribute(this.CONST.ATTR.ONCE)&&r>0)){if(o){if(o[this.CONST.EVKEY.STOP])return;"string"==typeof e.getAttribute(this.CONST.ATTR.STOP)&&(o[this.CONST.EVKEY.STOP]=!0)}var c={};if("click"===t&&-1!==n.indexOf("{HREF}")){var a=o.target,h=a.getAttribute("href");h||(a=a.closest("[href]"),h=a.getAttribute("href")),h&&(c.HREF=h)}c.COUNT=r.toString(10),this._send(s(n,i,c)),e[this.CONST.DATAKEY.COUNT]=r+1}}}},n.prototype._send=function(t){if(!this._destroyed){if(/^((https?:)?\/\/[^\/])/.test(t)||(t=this.CONST.API+"?"+t),navigator&&navigator.sendBeacon)navigator.sendBeacon(t);else{var e=new window.Image;e.onload=e.onerror=function(){e=null},e.src=t||"about_blank"}this._debug&&d("finalboss sent: ",t)}},n.prototype.send=function(){},n.prototype.debug=function(t){return this._debug=!!t,this},function(){var t=window.document.querySelector("script[data-boss-option]");if(t&&1===t.nodeType){var e=t.getAttribute("data-boss-option");e&&window[e]&&new n(window[e]).start()}}(),t.exports=function(t){if(!(w>0))return new n(t)}},function(t,e,o){function i(t,e,o,i,n){var r=s.apply(this,arguments);return t.addEventListener(o,r,n),{destroy:function(){t.removeEventListener(o,r,n)}}}function n(t,e,o,n,s){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof o?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return i(t,e,o,n,s)}))}function s(t,e,o,i){return function(o){o.delegateTarget=r(o.target,e),o.delegateTarget&&i.call(t,o)}}var r=o(3);t.exports=n},function(t,e){function o(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=o},function(t,e,o){!function(e,o){t.exports=o()}(0,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";var i=o(1),n=i.isInBrowser,s=o(2),r=new s(n?document.body:null);r.setStateFromDOM(null),r.listenToDOM(),n&&(window.scrollMonitor=r),t.exports=r},function(t,e){"use strict";e.VISIBILITYCHANGE="visibilityChange",e.ENTERVIEWPORT="enterViewport",e.FULLYENTERVIEWPORT="fullyEnterViewport",e.EXITVIEWPORT="exitViewport",e.PARTIALLYEXITVIEWPORT="partiallyExitViewport",e.LOCATIONCHANGE="locationChange",e.STATECHANGE="stateChange",e.eventTypes=[e.VISIBILITYCHANGE,e.ENTERVIEWPORT,e.FULLYENTERVIEWPORT,e.EXITVIEWPORT,e.PARTIALLYEXITVIEWPORT,e.LOCATIONCHANGE,e.STATECHANGE],e.isOnServer="undefined"==typeof window,e.isInBrowser=!e.isOnServer,e.defaultOffsets={top:0,bottom:0}},function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){return a?0:t===document.body?window.innerHeight||document.documentElement.clientHeight:t.clientHeight}function s(t){return a?0:t===document.body?Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight):t.scrollHeight}function r(t){return a?0:t===document.body?window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop}var c=o(1),a=c.isOnServer,h=c.isInBrowser,l=c.eventTypes,p=o(3),u=!1;if(h)try{var f=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("test",null,f)}catch(t){}var d=!!u&&{capture:!1,passive:!0},w=function(){function t(e,o){function c(){if(h.viewportTop=r(e),h.viewportBottom=h.viewportTop+h.viewportHeight,h.documentHeight=s(e),h.documentHeight!==p){for(u=h.watchers.length;u--;)h.watchers[u].recalculateLocation();p=h.documentHeight}}function a(){for(f=h.watchers.length;f--;)h.watchers[f].update();for(f=h.watchers.length;f--;)h.watchers[f].triggerCallbacks()}i(this,t);var h=this;this.item=e,this.watchers=[],this.viewportTop=null,this.viewportBottom=null,this.documentHeight=s(e),this.viewportHeight=n(e),this.DOMListener=function(){t.prototype.DOMListener.apply(h,arguments)},this.eventTypes=l,o&&(this.containerWatcher=o.create(e));var p,u,f;this.update=function(){c(),a()},this.recalculateLocations=function(){this.documentHeight=0,this.update()}}return t.prototype.listenToDOM=function(){h&&(window.addEventListener?(this.item===document.body?window.addEventListener("scroll",this.DOMListener,d):this.item.addEventListener("scroll",this.DOMListener,d),window.addEventListener("resize",this.DOMListener)):(this.item===document.body?window.attachEvent("onscroll",this.DOMListener):this.item.attachEvent("onscroll",this.DOMListener),window.attachEvent("onresize",this.DOMListener)),this.destroy=function(){window.addEventListener?(this.item===document.body?(window.removeEventListener("scroll",this.DOMListener,d),this.containerWatcher.destroy()):this.item.removeEventListener("scroll",this.DOMListener,d),window.removeEventListener("resize",this.DOMListener)):(this.item===document.body?(window.detachEvent("onscroll",this.DOMListener),this.containerWatcher.destroy()):this.item.detachEvent("onscroll",this.DOMListener),window.detachEvent("onresize",this.DOMListener))})},t.prototype.destroy=function(){},t.prototype.DOMListener=function(t){this.setStateFromDOM(t)},t.prototype.setStateFromDOM=function(t){var e=r(this.item),o=n(this.item),i=s(this.item);this.setState(e,o,i,t)},t.prototype.setState=function(t,e,o,i){var n=e!==this.viewportHeight||o!==this.contentHeight;if(this.latestEvent=i,this.viewportTop=t,this.viewportHeight=e,this.viewportBottom=t+e,this.contentHeight=o,n)for(var s=this.watchers.length;s--;)this.watchers[s].recalculateLocation();this.updateAndTriggerWatchers(i)},t.prototype.updateAndTriggerWatchers=function(t){for(var e=this.watchers.length;e--;)this.watchers[e].update();for(e=this.watchers.length;e--;)this.watchers[e].triggerCallbacks(t)},t.prototype.createCustomContainer=function(){return new t},t.prototype.createContainer=function(e){"string"==typeof e?e=document.querySelector(e):e&&e.length>0&&(e=e[0]);var o=new t(e,this);return o.setStateFromDOM(),o.listenToDOM(),o},t.prototype.create=function(t,e){"string"==typeof t?t=document.querySelector(t):t&&t.length>0&&(t=t[0]);var o=new p(this,t,e);return this.watchers.push(o),o},t.prototype.beget=function(t,e){return this.create(t,e)},t}();t.exports=w},function(t,e,o){"use strict";function i(t,e,o){function i(t,e){if(0!==t.length)for(y=t.length;y--;)b=t[y],b.callback.call(n,e,n),b.isOne&&t.splice(y,1)}var n=this;this.watchItem=e,this.container=t,this.offsets=o?o===+o?{top:o,bottom:o}:{top:o.top||f.top,bottom:o.bottom||f.bottom}:f,this.callbacks={};for(var d=0,w=u.length;d<w;d++)n.callbacks[u[d]]=[];this.locked=!1;var m,v,T,g,y,b;this.triggerCallbacks=function(t){switch(this.isInViewport&&!m&&i(this.callbacks[r],t),this.isFullyInViewport&&!v&&i(this.callbacks[c],t),this.isAboveViewport!==T&&this.isBelowViewport!==g&&(i(this.callbacks[s],t),v||this.isFullyInViewport||(i(this.callbacks[c],t),i(this.callbacks[h],t)),m||this.isInViewport||(i(this.callbacks[r],t),i(this.callbacks[a],t))),!this.isFullyInViewport&&v&&i(this.callbacks[h],t),!this.isInViewport&&m&&i(this.callbacks[a],t),this.isInViewport!==m&&i(this.callbacks[s],t),!0){case m!==this.isInViewport:case v!==this.isFullyInViewport:case T!==this.isAboveViewport:case g!==this.isBelowViewport:i(this.callbacks[p],t)}m=this.isInViewport,v=this.isFullyInViewport,T=this.isAboveViewport,g=this.isBelowViewport},this.recalculateLocation=function(){if(!this.locked){var t=this.top,e=this.bottom;if(this.watchItem.nodeName){var o=this.watchItem.style.display;"none"===o&&(this.watchItem.style.display="");for(var n=0,s=this.container;s.containerWatcher;)n+=s.containerWatcher.top-s.containerWatcher.container.viewportTop,s=s.containerWatcher.container;var r=this.watchItem.getBoundingClientRect();this.top=r.top+this.container.viewportTop-n,this.bottom=r.bottom+this.container.viewportTop-n,"none"===o&&(this.watchItem.style.display=o)}else this.watchItem===+this.watchItem?this.watchItem>0?this.top=this.bottom=this.watchItem:this.top=this.bottom=this.container.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom);this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===t&&void 0===e||this.top===t&&this.bottom===e||i(this.callbacks[l],null)}},this.recalculateLocation(),this.update(),m=this.isInViewport,v=this.isFullyInViewport,T=this.isAboveViewport,g=this.isBelowViewport}var n=o(1),s=n.VISIBILITYCHANGE,r=n.ENTERVIEWPORT,c=n.FULLYENTERVIEWPORT,a=n.EXITVIEWPORT,h=n.PARTIALLYEXITVIEWPORT,l=n.LOCATIONCHANGE,p=n.STATECHANGE,u=n.eventTypes,f=n.defaultOffsets;i.prototype={on:function(t,e,o){switch(!0){case t===s&&!this.isInViewport&&this.isAboveViewport:case t===r&&this.isInViewport:case t===c&&this.isFullyInViewport:case t===a&&this.isAboveViewport&&!this.isInViewport:case t===h&&this.isInViewport&&this.isAboveViewport:if(e.call(this,this.container.latestEvent,this),o)return}if(!this.callbacks[t])throw new Error("Tried to add a scroll monitor listener of type "+t+". Your options are: "+u.join(", "));this.callbacks[t].push({callback:e,isOne:o||!1})},off:function(t,e){if(!this.callbacks[t])throw new Error("Tried to remove a scroll monitor listener of type "+t+". Your options are: "+u.join(", "));for(var o,i=0;o=this.callbacks[t][i];i++)if(o.callback===e){this.callbacks[t].splice(i,1);break}},one:function(t,e){this.on(t,e,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<this.container.viewportTop,this.isBelowViewport=this.bottom>this.container.viewportBottom,this.isInViewport=this.top<this.container.viewportBottom&&this.bottom>this.container.viewportTop,this.isFullyInViewport=this.top>=this.container.viewportTop&&this.bottom<=this.container.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var t=this.container.watchers.indexOf(this),e=this;this.container.watchers.splice(t,1);for(var o=0,i=u.length;o<i;o++)e.callbacks[u[o]].length=0},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}};for(var d=0,w=u.length;d<w;d++){var m=u[d];i.prototype[m]=function(t){return function(e,o){this.on.call(this,t,e,o)}}(m)}t.exports=i}])})},function(t,e,o){"use strict";var i=o(0),n=function(t){return t&&t.__esModule?t:{"default":t}}(i),s={};s.qq=function(){return(0,n["default"])("o_cookie")||(0,n["default"])("uin")},s.url=function(){return window.location.href},s.refer=function(){return window.document.referrer},s.ts=function(){return(new Date).valueOf()},s.random=function(){return parseInt(1e8*Math.random(),10)},s.ua=function(){return window.navigator.userAgent},s.language=function(){return window.navigator.language},s.uanettype=function(){var t=window.navigator.userAgent.match(/NetType\/[^\s]+/);return t?t[0].split("/").pop():""},t.exports=function(t){return t?(t=t.toLowerCase(),"function"==typeof s[t]?s[t]():s[t]):""}},function(t,e){!function(t){"function"!=typeof t.matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=this,o=(e.document||e.ownerDocument).querySelectorAll(t),i=0;o[i]&&o[i]!==e;)++i;return Boolean(o[i])}),"function"!=typeof t.closest&&(t.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentNode}return null})}(window.Element.prototype)}])});/*  |xGv00|0d349e5fbf4fad6acc9fb549f0a0a34d */